import{d as I,r as Y,b as p,b9 as N,o as m,c as h,a as u,ae as o,a_ as i,M as f,y as g,aB as k,aW as $}from"./@vue-a164be7a.js";import"./adapter-vue-24f22062.js";import{g as D,d as c}from"./dayjs-0ab82212.js";import{z as S,_ as z}from"./@tencentcloud-7fc831ec.js";import L from"./date-table-8e59b520.js";import b from"./Icon-2c0593f3.js";import{a as P}from"./env-a593fd1d.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const E="/admin/assets/left-arrow-dce2f352.svg",R="/admin/assets/right-arrow-0091db6c.svg",W="/admin/assets/d-left-arrow-d3dcfc22.svg",q="/admin/assets/d-right-arrow-2202133f.svg",F=I({__name:"date-picker-panel",props:{type:{type:String,default:"range"},date:{type:D.Dayjs,default:()=>c()},startDate:{type:D.Dayjs,default:null},endDate:{type:D.Dayjs,default:null},rangeType:{type:String,default:""},currentOtherPanelValue:{type:D.Dayjs,default:null}},emits:["pick","change"],setup(x,{emit:M}){const e=x,y=M,s=t=>t?["tui-date-picker-panel-"+t,!P&&"tui-date-picker-panel-h5-"+t]:["tui-date-picker-panel",!P&&"tui-date-picker-panel-h5"],n=Y(),w=p(()=>{var t;return(t=n.value)==null?void 0:t.get("year")}),V=p(()=>{var t;return(t=n.value)==null?void 0:t.format("MMMM")}),_=p(()=>{var r,l,d;const t=((r=e.currentOtherPanelValue)==null?void 0:r.year())-1,a=(l=e.currentOtherPanelValue)==null?void 0:l.year(t);return e.rangeType==="right"||((d=n.value)==null?void 0:d.isBefore(a,"year"))}),O=p(()=>{var r,l,d;const t=((r=e.currentOtherPanelValue)==null?void 0:r.month())-1,a=(l=e.currentOtherPanelValue)==null?void 0:l.month(t);return e.rangeType==="right"||((d=n.value)==null?void 0:d.isBefore(a,"month"))}),j=p(()=>{var r,l,d;const t=((r=e.currentOtherPanelValue)==null?void 0:r.year())+1,a=(l=e.currentOtherPanelValue)==null?void 0:l.year(t);return e.rangeType==="left"||((d=n.value)==null?void 0:d.isAfter(a,"year"))}),C=p(()=>{var r,l,d;const t=((r=e.currentOtherPanelValue)==null?void 0:r.month())+1,a=(l=e.currentOtherPanelValue)==null?void 0:l.month(t);return e.rangeType==="left"||((d=n.value)==null?void 0:d.isAfter(a,"month"))}),A=()=>{var t;return e.date&&((t=c(e.date))!=null&&t.isValid())?{date:e==null?void 0:e.date}:{date:c()}},B=()=>{var t;switch(e.rangeType){case"left":return e.startDate&&c.isDayjs(e.startDate)?{date:e==null?void 0:e.startDate}:{date:c()};case"right":if(e.endDate&&c.isDayjs(e.endDate)&&((t=e==null?void 0:e.endDate)!=null&&t.isAfter(e.startDate,"month")))return{date:e==null?void 0:e.endDate};{const a=(e.startDate||c()).month();return{date:(e.startDate||c()).month(a+1)}}default:return{date:c()}}};function T(t){y("pick",t)}function v(t,a){n.value=c(n.value.toDate()).add(a,t),y("change",n.value)}return N(()=>{switch(e.type){case"single":n.value=A().date,y("change",n.value);break;case"range":n.value=B().date,y("change",n.value);break}}),(t,a)=>(m(),h("div",{class:o([s("")]),onMouseup:a[4]||(a[4]=$(()=>{},["stop"]))},[u("div",{class:o([s("body")])},[u("div",{class:o([s("body-header")])},[u("div",{class:o([s("body-header-prev")])},[i(j)?(m(),h("div",{key:0,class:o([s("icon")]),onClick:a[0]||(a[0]=r=>v("year",-1))},[f(b,{file:i(W),width:"12px",height:"12px"},null,8,["file"])],2)):g("",!0),i(C)?(m(),h("div",{key:1,class:o([s("icon")]),onClick:a[1]||(a[1]=r=>v("month",-1))},[f(b,{file:i(E),width:"10px",height:"10px"},null,8,["file"])],2)):g("",!0)],2),u("div",{class:o([s("body-header-label")])},[u("div",{class:o([s("body-header-label-item")])},k(i(w)),3),u("div",{class:o([s("body-header-label-item")])},k(i(S).t(`time.${i(V)}`)),3)],2),u("div",{class:o([s("body-header-next")])},[i(O)?(m(),h("div",{key:0,class:o([s("icon")]),onClick:a[2]||(a[2]=r=>v("month",1))},[f(b,{file:i(R),width:"10px",height:"10px"},null,8,["file"])],2)):g("",!0),i(_)?(m(),h("div",{key:1,class:o([s("icon")]),onClick:a[3]||(a[3]=r=>v("year",1))},[f(b,{file:i(q),width:"12px",height:"12px"},null,8,["file"])],2)):g("",!0)],2)],2),u("div",{class:o([s("body-content")])},[f(L,{type:e.type,date:e.date,startDate:e.startDate,endDate:e.endDate,currentPanelDate:i(n),onPick:T},null,8,["type","date","startDate","endDate","currentPanelDate"])],2)],2)],34))}});const ce=z(F,[["__scopeId","data-v-db0308f9"]]);export{ce as default};
