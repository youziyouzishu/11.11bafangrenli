import"./adapter-vue-24f22062.js";import{c as v}from"./env-a593fd1d.js";import{d as y,r as l,ba as b,o as e,c as t,a_ as a,F as x,ae as L,y as A,ag as E}from"./@vue-a164be7a.js";import{_ as I}from"./@tencentcloud-7fc831ec.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const S=["src"],U=["src"],z=["src"],R=y({__name:"index",props:{url:{default:"https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png"},size:{default:"36px"},borderRadius:{default:"5px"},useSkeletonAnimation:{type:Boolean,default:!1}},emits:["onLoad","onError"],setup(f,{emit:g}){const r=l("https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png"),c=g,k=f,{size:d,url:m,borderRadius:h,useSkeletonAnimation:p}=b(k);let u=0;const s=l(!1),_=l(!1);function n(o){s.value=!0,c("onLoad",o)}function i(o){u+=1,!(u>3)&&(v?_.value=!0:o.currentTarget.src=r.value,c("onError",o))}return(o,B)=>(e(),t("div",{class:"avatar-container",style:E({width:a(d),height:a(d),borderRadius:a(h)})},[a(v)?(e(),t(x,{key:0},[a(_)?(e(),t("image",{key:1,class:"avatar-image",src:a(r),onLoad:n,onError:i},null,40,U)):(e(),t("image",{key:0,class:"avatar-image",src:a(m)||a(r),onLoad:n,onError:i},null,40,S))],64)):(e(),t("img",{key:1,class:"avatar-image",src:a(m)||a(r),onLoad:n,onError:i},null,40,z)),a(p)&&!a(s)?(e(),t("div",{key:2,class:L({placeholder:!0,hidden:a(s),"skeleton-animation":a(p)})},null,2)):A("",!0)],4))}});const O=I(R,[["__scopeId","data-v-c78b4baa"]]);export{O as default};
