import{d as V,r,aZ as D,a$ as E,o as i,c,a_ as t,ae as u,M as y,y as I,a as f,aB as b,F as B,ao as M,aW as O,ak as z,aj as H}from"./@vue-a164be7a.js";import"./adapter-vue-24f22062.js";import{r as L,q as h,o as m,z as P,_ as $}from"./@tencentcloud-7fc831ec.js";import S from"./Icon-2c0593f3.js";import{b as q}from"./back-16f17fde.js";import{a as l}from"./env-a593fd1d.js";import{T as A}from"./config-58aee8b5.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const F=n=>(z("data-v-cf13fefa"),n=n(),H(),n),R={class:"chat-header-container"},j=F(()=>f("div",null,null,-1)),G=["onClick"],W=V({__name:"index",props:{headerExtensionList:{default:()=>[]}},emits:["closeChat"],setup(n,{emit:x}){const N=n,T=x,s=r(),d=r(""),v=r(!1),C=r(""),_=r(A.getChatType()!==L.TUIChat.TYPE.ROOM);D(()=>{h.watch(m.CONV,{currentConversation:g}),h.watch(m.CHAT,{typingStatus:k})}),E(()=>{h.unwatch(m.CONV,{currentConversation:g}),h.unwatch(m.CHAT,{typingStatus:k})});const w=o=>{T("closeChat",o)},U=o=>{var e,a;(a=(e=o.listener).onClicked)==null||a.call(e,{groupID:C.value})};function g(o){var e,a,p;s.value=o,C.value=(a=(e=s.value)==null?void 0:e.groupProfile)==null?void 0:a.groupID,d.value=(p=s==null?void 0:s.value)==null?void 0:p.getShowName()}function k(o){var e;v.value=o,v.value?d.value=P.t("TUIChat.对方正在输入"):d.value=((e=s.value)==null?void 0:e.getShowName())||""}return(o,e)=>(i(),c("div",{class:u(["chat-header",!t(l)&&"chat-header-h5"])},[!t(l)&&t(_)?(i(),c("div",{key:0,class:u(["chat-header-back",!t(l)&&"chat-header-h5-back"]),onClick:e[0]||(e[0]=a=>w(t(s).conversationID))},[y(S,{file:t(q)},null,8,["file"])],2)):I("",!0),f("div",R,[t(_)?(i(),c("div",{key:0,class:u(["chat-header-content",!t(l)&&"chat-header-h5-content"])},b(t(d)),3)):I("",!0),j]),f("div",{class:u(["chat-header-setting",!t(l)&&"chat-header-h5-setting"])},[(i(!0),c(B,null,M(N.headerExtensionList,(a,p)=>(i(),c("div",{key:p,onClick:O(Y=>U(a),["stop"])},[y(S,{file:a.icon},null,8,["file"])],8,G))),128))],2)],2))}});const he=$(W,[["__scopeId","data-v-cf13fefa"]]);export{he as default};
