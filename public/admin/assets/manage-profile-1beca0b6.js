import"./adapter-vue-24f22062.js";import{z as r,J as v,q as I,o as C,i as U,W as B,Q as E,B as k,_ as x}from"./@tencentcloud-7fc831ec.js";import N from"./index-6b0c1d9b.js";import{c as g}from"./env-a593fd1d.js";import{d as Y,r as D,b6 as $,w as q,a_ as t,o as p,c as d,a as e,aB as a,y as b,M as F,ak as M,aj as O}from"./@vue-a164be7a.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const S=c=>(M("data-v-55143ca4"),c=c(),O(),c),W={key:0,class:"memeber-profile"},z={class:"memeber-profile-main"},A=["src"],H={class:"list"},K=S(()=>e("label",null,"ID：",-1)),L={class:"memeber-profile-footer"},V={key:1,class:"edit-h5"},j={class:"main"},G={class:"edit-h5-header"},J={class:"left"},Q={class:"edit-h5-profile"},R={class:"memeber-profile-main"},X={class:"list"},Z=S(()=>e("label",null,"ID：",-1)),ee={class:"memeber-profile-footer"},te=Y({__name:"manage-profile",props:{userInfo:{type:Object,default:()=>({})}},emits:["handleSwitchConversation","close","openConversation"],setup(c,{emit:y}){const m=c,_=D(!1),s=D({});$(()=>{s.value=m.userInfo});const T=y;q(()=>m.userInfo,async(i,o)=>{if(i===o)return;const n=await B.getUserProfile({userIDList:[m.userInfo.userID]});s.value=n==null?void 0:n.data[0],w()},{deep:!0,immediate:!0});const f=async(i,o)=>{const n=`${o}${i}`;v.getConversationProfile(n).then(l=>{v.switchConversation(l.data.conversation.conversationID).then(()=>{var u;I.update(C.GRP,"isShowManageComponent",!1),g&&((u=U)==null||u.navigateBack())})}).catch(l=>{console.warn("获取会话资料失败",l.code,l.msg)})},w=async()=>{s.value.userID&&E.checkFriend({userIDList:[s.value.userID],type:k.TYPES.SNS_CHECK_TYPE_BOTH}).then(i=>{var n,l,u;const o=(u=(l=(n=i==null?void 0:i.data)==null?void 0:n.successUserIDList)==null?void 0:l[0])==null?void 0:u.relation;_.value=o===k.TYPES.SNS_TYPE_BOTH_WAY})},h=()=>_.value||!I.getData(C.APP,"isOfficial"),P=i=>{T("close",i)};return(i,o)=>t(g)?(p(),d("div",V,[e("main",j,[e("header",G,[e("aside",J,[e("h1",null,a(t(r).t("TUIGroup.群成员")),1)]),e("span",{class:"close",onClick:o[1]||(o[1]=n=>P("profile"))},a(t(r).t("关闭")),1)]),e("div",Q,[e("div",R,[F(N,{class:"avatar",url:t(s).avatar,size:"60px"},null,8,["url"]),e("ul",X,[e("h1",null,a(t(s).nick||t(s).userID),1),e("li",null,[Z,e("span",null,a(t(s).userID),1)]),e("li",null,[e("label",null,a(t(r).t("TUIContact.个性签名"))+"：",1),e("span",null,a(t(s).selfSignature),1)])])]),e("div",ee,[h()?(p(),d("div",{key:0,class:"button",onClick:o[2]||(o[2]=n=>f(t(s).userID,"C2C"))},a(t(r).t("TUIContact.发送消息")),1)):b("",!0)])])])])):(p(),d("div",W,[e("div",z,[e("img",{class:"avatar",src:t(s).avatar||"https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png",onerror:"this.onerror=null;this.src='https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png'"},null,8,A),e("ul",H,[e("h2",null,a(t(s).nick||t(s).userID),1),e("li",null,[K,e("span",null,a(t(s).userID),1)]),e("li",null,[e("label",null,a(t(r).t("TUIContact.个性签名"))+"：",1),e("span",null,a(t(s).selfSignature),1)])])]),e("div",L,[h()?(p(),d("div",{key:0,class:"button",onClick:o[0]||(o[0]=n=>f(t(s).userID,"C2C"))},a(t(r).t("TUIContact.发送消息")),1)):b("",!0)])]))}});const Ie=x(te,[["__scopeId","data-v-55143ca4"]]);export{Ie as default};
