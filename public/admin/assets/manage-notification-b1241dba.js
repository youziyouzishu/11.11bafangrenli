import{d as C,r as d,b6 as G,a_ as t,o as e,c as o,aT as y,aO as k,b0 as h,aU as T,aB as n,y as b,a as u,ae as w,b7 as B}from"./@vue-a164be7a.js";import"./adapter-vue-24f22062.js";import{z as l,_ as E}from"./@tencentcloud-7fc831ec.js";import{T as N}from"./index-cfdb213d.js";import{c as U}from"./env-a593fd1d.js";import{T as A}from"./index-e4ac2ab7.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const O={key:0,class:"notification"},R={key:1},V={key:0},z={key:1},K={key:2},P={key:1,class:"edit-h5"},$={class:"edit-h5-main"},D={class:"edit-h5-header"},M={class:"left"},S={class:"notification"},j={key:1,class:"row"},F={key:0,class:"row-p"},W={key:1},Y={key:2,class:"footer"},q=C({__name:"manage-notification",props:{data:{type:Object,default:()=>({})},isAuthor:{type:Boolean,default:!1}},emits:["update","close"],setup(x,{emit:g}){const m=x,r=d({}),s=d(""),f=d(!1),a=d(!1);G(()=>{r.value=m.data,s.value=r.value.notification,f.value=m.isAuthor});const _=g,p=()=>{if(s.value.length>150){N({message:l.t("TUIGroup.群公告字数超出限制，最大长度为150"),type:A.ERROR});return}s.value&&s.value!==r.value.notification&&(_("update",{key:"notification",value:s.value}),B(()=>{s.value=""})),a.value=!a.value},I=v=>{_("close",v)};return(v,i)=>t(U)?(e(),o("div",P,[u("main",$,[u("header",D,[u("aside",M,[u("h1",null,n(t(l).t("TUIGroup.群公告")),1)]),u("span",{class:"close",onClick:i[2]||(i[2]=c=>I("notification"))},n(t(l).t("关闭")),1)]),u("div",S,[t(a)?y((e(),o("textarea",{key:0,"onUpdate:modelValue":i[3]||(i[3]=c=>h(s)?s.value=c:null),class:w([t(U)?"uni-height":"","textarea"]),onKeyup:T(p,["enter"])},null,34)),[[k,t(s)]]):(e(),o("section",j,[t(r).notification?(e(),o("article",W,n(t(r).notification),1)):(e(),o("p",F,n(t(l).t("TUIGroup.暂无公告")),1))])),t(f)?(e(),o("footer",Y,[t(a)?(e(),o("button",{key:0,class:"btn",onClick:p},n(t(l).t("TUIGroup.发布")),1)):(e(),o("button",{key:1,class:"btn",onClick:i[4]||(i[4]=c=>a.value=!t(a))},n(t(l).t("TUIGroup.编辑")),1))])):b("",!0)])])])):(e(),o("main",O,[t(a)?y((e(),o("textarea",{key:0,"onUpdate:modelValue":i[0]||(i[0]=c=>h(s)?s.value=c:null),class:"textarea",onKeyup:T(p,["enter"])},null,544)),[[k,t(s)]]):(e(),o("section",R,[t(r).notification?(e(),o("article",z,n(t(r).notification),1)):(e(),o("p",V,n(t(l).t("TUIGroup.暂无公告")),1))])),t(f)?(e(),o("footer",K,[t(a)?(e(),o("button",{key:0,class:"btn",onClick:p},n(t(l).t("TUIGroup.发布")),1)):(e(),o("button",{key:1,class:"btn",onClick:i[1]||(i[1]=c=>a.value=!t(a))},n(t(l).t("TUIGroup.编辑")),1))])):b("",!0)]))}});const pt=E(q,[["__scopeId","data-v-6ade7ff2"]]);export{pt as default};
