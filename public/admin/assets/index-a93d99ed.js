import{d as w,r as o,aZ as E,a$ as R,o as p,c as h,a as d,M as _,a_ as t,aT as A,aO as H,b0 as B,aU as M,aW as U,y as C,ae as m,aB as z}from"./@vue-a164be7a.js";import"./adapter-vue-24f22062.js";import{z as T,q as n,o as c,i as K,_ as N}from"./@tencentcloud-7fc831ec.js";import I from"./Icon-2c0593f3.js";import{s as q}from"./search-aefae6e3.js";import{c as D}from"./input-close-0334b363.js";import{a as u}from"./env-a593fd1d.js";import"./type-b7afadd9.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const O={class:"tui-search-input-left"},P=["placeholder"],W=w({__name:"index",props:{placeholder:{type:String,default:()=>T.t("TUISearch.搜索")},searchType:{type:String,default:"global",validator(l){return["global","conversation"].includes(l)}}},setup(l){const a=l,r=o(""),f=o(""),i=o(!1);function S(e){(e==null?void 0:e.searchType)===(a==null?void 0:a.searchType)&&(f.value=e==null?void 0:e.value,r.value=e==null?void 0:e.value)}function y(e){(e==null?void 0:e.searchType)===(a==null?void 0:a.searchType)&&(i.value=e==null?void 0:e.isSearching)}E(()=>{n.watch(c.SEARCH,{currentSearchInputValue:S,currentSearchingStatus:y})}),R(()=>{n.unwatch(c.SEARCH,{currentSearchInputValue:S,currentSearchingStatus:y})});const v=()=>{r.value!==f.value&&n.update(c.SEARCH,"currentSearchInputValue",{value:r.value,searchType:a.searchType})},g=()=>{i.value=!1,n.update(c.SEARCH,"currentSearchingStatus",{isSearching:!1,searchType:a.searchType}),n.update(c.SEARCH,"currentSearchInputValue",{value:"",searchType:a.searchType})},x=()=>{n.update(c.SEARCH,"currentSearchingStatus",{isSearching:!0,searchType:a.searchType})},V=()=>{var e,s;(s=(e=K)==null?void 0:e.hideKeyboard)==null||s.call(e)};return(e,s)=>(p(),h("div",{class:m(["tui-search-input-container",!t(u)&&"tui-search-input-container-h5",a.searchType==="global"?"tui-search-input-container-global":"tui-search-input-container-conversation"])},[d("div",{class:m(["tui-search-input",!t(u)&&"tui-search-input-h5"])},[d("div",O,[_(I,{class:"icon",file:t(q),width:"14px",height:"14px"},null,8,["file"])]),A(d("input",{"onUpdate:modelValue":s[0]||(s[0]=k=>B(r)?r.value=k:null),class:"tui-search-input-main",type:"text",placeholder:a.placeholder,focus:!1,enterkeyhint:"search",onBlur:V,onKeyup:M(v,["enter"]),onConfirm:v,onClick:U(x,["stop","prevent"])},null,40,P),[[H,t(r)]]),t(i)?(p(),h("div",{key:0,class:"tui-search-input-right",onClick:g},[_(I,{class:"icon",file:t(D),width:"14px",height:"14px"},null,8,["file"])])):C("",!0)],2),!t(u)&&t(i)&&a.searchType==="global"?(p(),h("div",{key:0,class:m(["tui-search-input-cancel",!t(u)&&"tui-search-input-h5-cancel"]),onClick:g},z(t(T).t("TUISearch.取消")),3)):C("",!0)],2))}});const ue=N(W,[["__scopeId","data-v-fcd7423b"]]);export{ue as default};
