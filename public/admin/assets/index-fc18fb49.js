import"./adapter-vue-24f22062.js";import{R as _,r as n,I as k,q as y,o as I,_ as M}from"./@tencentcloud-7fc831ec.js";import h from"./Icon-2c0593f3.js";import{a as l,c as x}from"./env-a593fd1d.js";import{d as R,r as m,aZ as T,w as N,o,c as r,a as f,M as b,a_ as a,F as V,ao as w,x as A,y as v,aB as B,ae as D}from"./@vue-a164be7a.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const H="/admin/assets/search-more-7ecab7ad.svg",O={key:0,class:"tui-search-more-list"},L=["onClick"],U={class:"list-item-title"},F=R({__name:"index",props:{searchType:{type:String,default:"global",validator(i){return["global","conversation"].includes(i)}}},setup(i){const E=i,p=m(),t=m(!1),d=()=>{t.value=!t.value,!x&&t.value&&k.listen({domRefs:p.value,handler:C})},u=m([]),S=c=>{var s;const{listener:e={onClicked:()=>{}}}=c;(s=e==null?void 0:e.onClicked)==null||s.call(e,c),d()},C=()=>{t.value=!1};return T(()=>{u.value=[..._.getExtensionList(n.TUISearch.EXTENSION.SEARCH_MORE.EXT_ID)],_.callService({serviceName:n.TUIConversation.SERVICE.NAME,method:n.TUIConversation.SERVICE.METHOD.HIDE_CONVERSATION_HEADER,params:{}})}),N(()=>t.value,()=>{t.value&&y.update(I.SEARCH,"currentSearchingStatus",{isSearching:!1,searchType:E.searchType})}),(c,e)=>(o(),r("div",{ref_key:"searchMoreRef",ref:p,class:D(["tui-search-more",!a(l)&&"tui-search-more-h5"])},[f("div",{class:"more",onClick:e[0]||(e[0]=s=>d())},[b(h,{class:"more-icon",file:a(H),width:a(l)?"28px":"34px",height:a(l)?"28px":"34px"},null,8,["file","width","height"])]),a(t)?(o(),r("ul",O,[(o(!0),r(V,null,w(a(u),(s,g)=>(o(),r("li",{key:g,class:"list-item",onClick:q=>S(s)},[s.icon?(o(),A(h,{key:0,class:"list-item-icon",file:s.icon},null,8,["file"])):v("",!0),f("div",U,B(s.text),1)],8,L))),128))])):v("",!0)],2))}});const oe=M(F,[["__scopeId","data-v-b71b6570"]]);export{oe as default};
