import{_ as E}from"./index-581f66c5.js";import{R as S,H as R,x as B,y as F,C as N,A as j}from"./element-plus-69d92160.js";import{r as g,u as M}from"./index-90bac5cf.js";import{d as x,b2 as T,b5 as W,aq as H,ar as V,o as m,c as L,M as l,aR as s,a as e,a_ as t,aT as r,x as _,L as u}from"./@vue-a164be7a.js";import"./@tencentcloud-7fc831ec.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@element-plus-21ebab28.js";import"./dayjs-0ab82212.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./@vueuse-ebd2cc93.js";import"./lodash-f986f62a.js";import"./axios-9669b5e1.js";import"./vue-router-b1515852.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./nprogress-e3c843bc.js";import"./vue-clipboard3-b827321c.js";import"./clipboard-e27f968b.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-7476ba27.js";import"./@highlightjs-10fbb12e.js";import"./path-to-regexp-767716ea.js";function z(b){return g.post({url:"/channel.mnp_settings/setConfig",params:b})}function G(){return g.get({url:"/channel.mnp_settings/getConfig"})}const J=e("div",{class:"font-medium mb-7"},"微信小程序",-1),K={class:"w-80"},O={class:"w-80"},P={class:"flex-1"},Q=e("div",{class:"form-tips"},"建议尺寸：宽400px*高400px。jpg，jpeg，png格式",-1),X=e("div",{class:"font-medium mb-7"},"开发者ID",-1),Y={class:"w-80"},Z={class:"w-80"},$=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->开发者ID，设置AppID和AppSecret ",-1),ee=e("div",{class:"font-medium mb-7"},"服务器域名",-1),oe={class:"flex-1 min-w-0"},le={class:"sm:flex"},te={class:"mr-4 sm:w-80 flex"},se=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1),ae={class:"flex-1 min-w-0"},de={class:"sm:flex"},ie={class:"mr-4 sm:w-80 flex"},ne=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写wss协议域名 ",-1),me={class:"flex-1 min-w-0"},pe={class:"sm:flex"},re={class:"mr-4 sm:w-80 flex"},_e=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1),ue={class:"flex-1 min-w-0"},ce={class:"sm:flex"},fe={class:"mr-4 sm:w-80 flex"},ve=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1),be={class:"flex-1 min-w-0"},he={class:"sm:flex"},we={class:"mr-4 sm:w-80 flex"},Ve=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写udp协议域名 ",-1),ge=e("div",{class:"font-medium mb-7"},"业务域名",-1),xe={class:"flex-1 min-w-0"},ke={class:"sm:flex"},qe={class:"mr-4 sm:w-80 flex"},De=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->业务域名，填写业务域名 ",-1),Ce=x({name:"weappConfig"}),ho=x({...Ce,setup(b){const k=M(),o=T({name:"",original_id:"",qr_code:"",app_id:"",app_secret:"",business_domain:"",download_file_domain:"",request_domain:"",socket_domain:"",tcpDomain:"",udp_domain:"",upload_file_domain:""}),h=W(),q={app_id:[{required:!0,message:"请输入AppID",trigger:["blur","change"]}],app_secret:[{required:!0,message:"请输入AppSecret",trigger:["blur","change"]}]},w=async()=>{const f=await G();for(const a in o)o[a]=f[a]},D=async()=>{var f;await((f=h.value)==null?void 0:f.validate()),await z(o),w()};return w(),(f,a)=>{const C=S,v=R,n=B,i=F,A=H("material-picker"),p=N,I=j,U=E,c=V("copy"),y=V("perms");return m(),L("div",null,[l(v,{class:"!border-none",shadow:"never"},{default:s(()=>[l(C,{type:"warning",title:"温馨提示：填写微信小程序开发配置，请前往微信公众平台申请小程序并完成认证",closable:!1,"show-icon":""})]),_:1}),l(I,{ref_key:"formRef",ref:h,model:t(o),rules:q,"label-width":t(k).isMobile?"80px":"160px"},{default:s(()=>[l(v,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[J,l(i,{label:"小程序名称",prop:"name"},{default:s(()=>[e("div",K,[l(n,{modelValue:t(o).name,"onUpdate:modelValue":a[0]||(a[0]=d=>t(o).name=d),placeholder:"请输入小程序名称"},null,8,["modelValue"])])]),_:1}),l(i,{label:"原始ID",prop:"original_id"},{default:s(()=>[e("div",O,[l(n,{modelValue:t(o).original_id,"onUpdate:modelValue":a[1]||(a[1]=d=>t(o).original_id=d),placeholder:"请输入原始ID"},null,8,["modelValue"])])]),_:1}),l(i,{label:"小程序码",prop:"qr_code"},{default:s(()=>[e("div",P,[e("div",null,[l(A,{modelValue:t(o).qr_code,"onUpdate:modelValue":a[2]||(a[2]=d=>t(o).qr_code=d),limit:1},null,8,["modelValue"])]),Q])]),_:1})]),_:1}),l(v,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[X,l(i,{label:"AppID",prop:"app_id"},{default:s(()=>[e("div",Y,[l(n,{modelValue:t(o).app_id,"onUpdate:modelValue":a[3]||(a[3]=d=>t(o).app_id=d),placeholder:"请输入AppID"},null,8,["modelValue"])])]),_:1}),l(i,{label:"AppSecret",prop:"app_secret"},{default:s(()=>[e("div",Z,[l(n,{modelValue:t(o).app_secret,"onUpdate:modelValue":a[4]||(a[4]=d=>t(o).app_secret=d),placeholder:"请输入AppSecret"},null,8,["modelValue"])])]),_:1}),l(i,null,{default:s(()=>[$]),_:1})]),_:1}),l(v,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[ee,l(i,{label:"request合法域名",prop:"appId"},{default:s(()=>[e("div",oe,[e("div",le,[e("div",te,[l(n,{modelValue:t(o).request_domain,"onUpdate:modelValue":a[5]||(a[5]=d=>t(o).request_domain=d),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,t(o).request_domain]])]),se])]),_:1}),l(i,{label:"socket合法域名"},{default:s(()=>[e("div",ae,[e("div",de,[e("div",ie,[l(n,{modelValue:t(o).socket_domain,"onUpdate:modelValue":a[6]||(a[6]=d=>t(o).socket_domain=d),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,t(o).socket_domain]])]),ne])]),_:1}),l(i,{label:"uploadFile合法域名"},{default:s(()=>[e("div",me,[e("div",pe,[e("div",re,[l(n,{modelValue:t(o).upload_file_domain,"onUpdate:modelValue":a[7]||(a[7]=d=>t(o).upload_file_domain=d),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,t(o).upload_file_domain]])]),_e])]),_:1}),l(i,{label:"downloadFile合法域名"},{default:s(()=>[e("div",ue,[e("div",ce,[e("div",fe,[l(n,{modelValue:t(o).download_file_domain,"onUpdate:modelValue":a[8]||(a[8]=d=>t(o).download_file_domain=d),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,t(o).download_file_domain]])]),ve])]),_:1}),l(i,{label:"udp合法域名"},{default:s(()=>[e("div",be,[e("div",he,[e("div",we,[l(n,{modelValue:t(o).udp_domain,"onUpdate:modelValue":a[9]||(a[9]=d=>t(o).udp_domain=d),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,t(o).udp_domain]])]),Ve])]),_:1})]),_:1}),l(v,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[ge,l(i,{label:"业务域名"},{default:s(()=>[e("div",xe,[e("div",ke,[e("div",qe,[l(n,{modelValue:t(o).business_domain,"onUpdate:modelValue":a[10]||(a[10]=d=>t(o).business_domain=d),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,t(o).business_domain]])]),De])]),_:1})]),_:1})]),_:1},8,["model","label-width"]),r((m(),_(U,null,{default:s(()=>[l(p,{type:"primary",onClick:D},{default:s(()=>[u("保存")]),_:1})]),_:1})),[[y,["channel.mnp_settings/setConfig"]]])])}}});export{ho as default};
