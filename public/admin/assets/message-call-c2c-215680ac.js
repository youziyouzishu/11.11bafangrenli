import{B as m,R as v,r as p,_ as I}from"./@tencentcloud-7fc831ec.js";import"./adapter-vue-24f22062.js";import{J as S}from"./type-check-5e73d261.js";import T from"./Icon-2c0593f3.js";import{O as E,P as O}from"./index-0978e08a.js";import{d as V,r as N,b as n,a_ as t,o as P,c as h,a as f,M as B,ae as u,aB as M,y as b}from"./@vue-a164be7a.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";import"./env-a593fd1d.js";import"./index-7909557f.js";import"./constant-bad60a54.js";const A="/admin/assets/call-video-6c7799e9.svg",L="/admin/assets/call-voice-f8912d47.svg",j={class:"call-content"},k=V({__name:"message-call-c2c",props:{message:{type:Object,default:()=>({})},signalingInfo:{type:Object,default:()=>({})},customContent:{type:Object,default:()=>({})}},setup(l){const s=l,g=N(m.TYPES),C=n(()=>s.signalingInfo!=null),a=n(()=>{var o,c;switch((c=S((o=s.signalingInfo)==null?void 0:o.data))==null?void 0:c.call_type){case 1:return{type:1,icon:L};case 2:return{type:2,icon:A}}return{type:0,icon:""}}),i=n(()=>{var e;return(e=s.message)==null?void 0:e.conversationType}),d=n(()=>{var e;return(e=s.customContent)==null?void 0:e.custom}),_=()=>{var e,o,c,r;if(i.value===m.TYPES.CONV_C2C){const y=((e=s.message)==null?void 0:e.flow)==="out"?(o=s.message)==null?void 0:o.to:(c=s.message)==null?void 0:c.from;v.callService({serviceName:p.TUICalling.SERVICE.NAME,method:p.TUICalling.SERVICE.METHOD.START_CALL,params:{userIDList:[y],type:(r=a==null?void 0:a.value)==null?void 0:r.type,callParams:{offlinePushInfo:E.getOfflinePushInfo(O.CALL)}}})}};return(e,o)=>t(C)&&t(i)===t(g).CONV_C2C?(P(),h("div",{key:0,class:u(["call",["call-"+t(i),l.message.flow==="out"&&"call-reverse"]]),onClick:_},[f("div",{class:u(["icon",l.message.flow==="out"&&t(a).type===2&&"icon-reverse"])},[B(T,{file:t(a).icon},null,8,["file"])],2),f("span",j,M(t(d)),1)],2)):b("",!0)}});const te=I(k,[["__scopeId","data-v-9325c315"]]);export{te as default};
