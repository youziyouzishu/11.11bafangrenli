import{_ as R}from"./index-581f66c5.js";import{R as I,H as q,x as j,y as T,C as B,N,O,A as L}from"./element-plus-69d92160.js";import{g as F,s as J}from"./wx_oa-8ed3dc08.js";import{u as K}from"./index-90bac5cf.js";import{d as g,b2 as M,b5 as z,aq as G,ar as h,o as m,c as H,M as e,aR as s,a as o,a_ as t,aT as c,x as f,L as r}from"./@vue-a164be7a.js";import"./@tencentcloud-7fc831ec.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@element-plus-21ebab28.js";import"./dayjs-0ab82212.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./@vueuse-ebd2cc93.js";import"./lodash-f986f62a.js";import"./axios-9669b5e1.js";import"./vue-router-b1515852.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./nprogress-e3c843bc.js";import"./vue-clipboard3-b827321c.js";import"./clipboard-e27f968b.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-7476ba27.js";import"./@highlightjs-10fbb12e.js";import"./path-to-regexp-767716ea.js";const Z=o("div",{class:"font-medium mb-7"},"微信公众号",-1),P={class:"w-80"},Q={class:"w-80"},W=o("div",{class:"form-tips"},"建议尺寸：宽400px*高400px。jpg，jpeg，png格式",-1),X=o("div",{class:"font-medium mb-7"},"公众号开发者信息",-1),Y={class:"w-80"},$={class:"w-80"},ee=o("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->开发者ID，设置AppID和AppSecret ",-1),oe=o("div",{class:"font-medium mb-7"},"服务器配置",-1),le={class:"flex-1 min-w-0"},te={class:"sm:flex"},se={class:"mr-4 sm:w-80 flex"},ae=o("div",{class:"form-tips"}," 登录微信公众平台，点击开发>基本配置>服务器配置，填写服务器地址（URL） ",-1),ie={class:"flex-1 min-w-0"},de={class:"w-80"},ne=o("div",{class:"form-tips"}," 登录微信公众平台，点击开发>基本配置>服务器配置，设置令牌Token。不填默认为“” ",-1),re={class:"flex-1 min-w-0"},me={class:"w-80"},_e=o("div",{class:"form-tips"}," 消息加密密钥由43位字符组成，字符范围为A-Z,a-z,0-9 ",-1),pe={class:"flex-1 min-w-0"},ue=o("div",{class:"font-medium mb-7"},"功能设置",-1),ce={class:"flex-1 min-w-0"},fe={class:"sm:flex"},ve={class:"mr-4 sm:w-80 flex"},be=o("div",{class:"form-tips"}," 登录微信公众平台，点击设置>公众号设置>功能设置，填写业务域名 ",-1),Ve={class:"flex-1 min-w-0"},we={class:"sm:flex"},he={class:"mr-4 sm:w-80 flex"},ge=o("div",{class:"form-tips"}," 登录微信公众平台，点击设置>公众号设置>功能设置，填写JS接口安全域名 ",-1),xe={class:"flex-1 min-w-0"},ye={class:"sm:flex"},ke={class:"mr-4 sm:w-80 flex"},Ae=o("div",{class:"form-tips"}," 登录微信公众平台，点击设置>公众号设置>功能设置，填写网页授权域名 ",-1),Ue=g({name:"wxOaConfig"}),ho=g({...Ue,setup(Ee){const x=K(),l=M({name:"",original_id:" ",qr_code:"",app_id:"",app_secret:"",url:"",token:"",encoding_aes_key:"",encryption_type:1,business_domain:"",js_secure_domain:"",web_auth_domain:""}),V=z(),y={app_id:[{required:!0,message:"请输入AppID",trigger:["blur","change"]}],app_secret:[{required:!0,message:"请输入AppSecret",trigger:["blur","change"]}]},w=async()=>{const _=await F();for(const a in l)l[a]=_[a]},k=async()=>{var _;await((_=V.value)==null?void 0:_.validate()),await J(l),w()};return w(),(_,a)=>{const A=I,p=q,n=j,d=T,U=G("material-picker"),u=B,b=N,E=O,D=L,S=R,v=h("copy"),C=h("perms");return m(),H("div",null,[e(p,{class:"!border-none",shadow:"never"},{default:s(()=>[e(A,{type:"warning",title:"温馨提示：填写微信公众号开发配置，请前往微信公众平台申请服务号并完成认证",closable:!1,"show-icon":""})]),_:1}),e(D,{ref_key:"formRef",ref:V,model:t(l),rules:y,"label-width":t(x).isMobile?"80px":"160px"},{default:s(()=>[e(p,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[Z,e(d,{label:"公众号名称",prop:"name"},{default:s(()=>[o("div",P,[e(n,{modelValue:t(l).name,"onUpdate:modelValue":a[0]||(a[0]=i=>t(l).name=i),placeholder:"请输入公众号名称"},null,8,["modelValue"])])]),_:1}),e(d,{label:"原始ID",prop:"original_id"},{default:s(()=>[o("div",Q,[e(n,{modelValue:t(l).original_id,"onUpdate:modelValue":a[1]||(a[1]=i=>t(l).original_id=i),placeholder:"请输入原始ID"},null,8,["modelValue"])])]),_:1}),e(d,{label:"公众号二维码",prop:"qr_code"},{default:s(()=>[o("div",null,[o("div",null,[e(U,{modelValue:t(l).qr_code,"onUpdate:modelValue":a[2]||(a[2]=i=>t(l).qr_code=i),limit:1},null,8,["modelValue"])]),W])]),_:1})]),_:1}),e(p,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[X,e(d,{label:"AppID",prop:"app_id"},{default:s(()=>[o("div",Y,[e(n,{modelValue:t(l).app_id,"onUpdate:modelValue":a[3]||(a[3]=i=>t(l).app_id=i),placeholder:"请输入AppID"},null,8,["modelValue"])])]),_:1}),e(d,{label:"AppSecret",prop:"app_secret"},{default:s(()=>[o("div",$,[e(n,{modelValue:t(l).app_secret,"onUpdate:modelValue":a[4]||(a[4]=i=>t(l).app_secret=i),placeholder:"请输入AppSecret"},null,8,["modelValue"])])]),_:1}),e(d,null,{default:s(()=>[ee]),_:1})]),_:1}),e(p,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[oe,e(d,{label:"URL"},{default:s(()=>[o("div",le,[o("div",te,[o("div",se,[e(n,{modelValue:t(l).url,"onUpdate:modelValue":a[5]||(a[5]=i=>t(l).url=i),disabled:""},null,8,["modelValue"])]),c((m(),f(u,null,{default:s(()=>[r("复制")]),_:1})),[[v,t(l).url]])]),ae])]),_:1}),e(d,{label:"Token",prop:"Token"},{default:s(()=>[o("div",ie,[o("div",de,[e(n,{modelValue:t(l).token,"onUpdate:modelValue":a[6]||(a[6]=i=>t(l).token=i),placeholder:"请输入Token"},null,8,["modelValue"])]),ne])]),_:1}),e(d,{label:"EncodingAESKey",prop:"encoding_aes_key"},{default:s(()=>[o("div",re,[o("div",me,[e(n,{modelValue:t(l).encoding_aes_key,"onUpdate:modelValue":a[7]||(a[7]=i=>t(l).encoding_aes_key=i),placeholder:"请输入EncodingAESKey"},null,8,["modelValue"])]),_e])]),_:1}),e(d,{label:"消息加密方式",required:"",prop:"encryption_type"},{default:s(()=>[o("div",pe,[e(E,{class:"flex-col !items-start min-w-0",modelValue:t(l).encryption_type,"onUpdate:modelValue":a[8]||(a[8]=i=>t(l).encryption_type=i)},{default:s(()=>[e(b,{label:1},{default:s(()=>[r(" 明文模式 (不使用消息体加解密功能，安全系数较低) ")]),_:1}),e(b,{label:2},{default:s(()=>[r(" 兼容模式 (明文、密文将共存，方便开发者调试和维护) ")]),_:1}),e(b,{label:3},{default:s(()=>[r(" 安全模式（推荐） (消息包为纯密文，需要开发者加密和解密，安全系数高) ")]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),e(p,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[ue,e(d,{label:"业务域名"},{default:s(()=>[o("div",ce,[o("div",fe,[o("div",ve,[e(n,{modelValue:t(l).business_domain,"onUpdate:modelValue":a[9]||(a[9]=i=>t(l).business_domain=i),disabled:""},null,8,["modelValue"])]),c((m(),f(u,null,{default:s(()=>[r("复制")]),_:1})),[[v,t(l).business_domain]])]),be])]),_:1}),e(d,{label:"JS接口安全域名"},{default:s(()=>[o("div",Ve,[o("div",we,[o("div",he,[e(n,{modelValue:t(l).js_secure_domain,"onUpdate:modelValue":a[10]||(a[10]=i=>t(l).js_secure_domain=i),disabled:""},null,8,["modelValue"])]),c((m(),f(u,null,{default:s(()=>[r("复制")]),_:1})),[[v,t(l).js_secure_domain]])]),ge])]),_:1}),e(d,{label:"网页授权域名"},{default:s(()=>[o("div",xe,[o("div",ye,[o("div",ke,[e(n,{modelValue:t(l).web_auth_domain,"onUpdate:modelValue":a[11]||(a[11]=i=>t(l).web_auth_domain=i),disabled:""},null,8,["modelValue"])]),c((m(),f(u,null,{default:s(()=>[r("复制")]),_:1})),[[v,t(l).web_auth_domain]])]),Ae])]),_:1})]),_:1})]),_:1},8,["model","label-width"]),c((m(),f(S,null,{default:s(()=>[e(u,{type:"primary",onClick:k},{default:s(()=>[r("保存")]),_:1})]),_:1})),[[C,["channel.official_account_setting/setConfig"]]])])}}});export{ho as default};
