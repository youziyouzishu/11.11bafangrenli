import{x as E,y as x,A as F}from"./element-plus-69d92160.js";import{P as R}from"./index-943d816c.js";import{a as k,b as A,c as B}from"./e_contract-7b3228bb.js";import"./lodash-f986f62a.js";import{d as V,b5 as c,r as P,b as j,b2 as f,o as M,c as N,M as o,aR as p,a_ as a}from"./@vue-a164be7a.js";const O={class:"edit-popup"},S=V({name:"eContractEdit"}),K=V({...S,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(T,{expose:b,emit:I}){const i=I,m=c(),u=c(),r=P("add"),D=j(()=>r.value=="edit"?"编辑合同表":"新增合同表"),l=f({id:"",template_id:"",user_id:"",to_user_id:"",type:"",send_psn_id:"",send_org_id:"",accept_psn_id:"",accept_org_id:"",name:"",is_send:"",status:"",signFlowId:"",contract_file:""}),g=f({}),_=async s=>{for(const e in l)s[e]!=null&&s[e]!=null&&(l[e]=s[e])},y=async s=>{const e=await k({id:s.id});_(e)},U=async()=>{var e,d;await((e=m.value)==null?void 0:e.validate());const s={...l};r.value=="edit"?await A(s):await B(s),(d=u.value)==null||d.close(),i("success")},w=(s="add")=>{var e;r.value=s,(e=u.value)==null||e.open()},v=()=>{i("close")};return b({open:w,setFormData:_,getDetail:y}),(s,e)=>{const d=E,n=x,C=F;return M(),N("div",O,[o(R,{ref_key:"popupRef",ref:u,title:a(D),async:!0,width:"550px",onConfirm:U,onClose:v},{default:p(()=>[o(C,{ref_key:"formRef",ref:m,model:a(l),"label-width":"90px",rules:a(g)},{default:p(()=>[o(n,{label:"合同模版ID",prop:"template_id"},{default:p(()=>[o(d,{modelValue:a(l).template_id,"onUpdate:modelValue":e[0]||(e[0]=t=>a(l).template_id=t),clearable:"",placeholder:"请输入合同模版ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"发起合同用户",prop:"user_id"},{default:p(()=>[o(d,{modelValue:a(l).user_id,"onUpdate:modelValue":e[1]||(e[1]=t=>a(l).user_id=t),clearable:"",placeholder:"请输入发起合同用户"},null,8,["modelValue"])]),_:1}),o(n,{label:"参与合同",prop:"to_user_id"},{default:p(()=>[o(d,{modelValue:a(l).to_user_id,"onUpdate:modelValue":e[2]||(e[2]=t=>a(l).to_user_id=t),clearable:"",placeholder:"请输入参与合同"},null,8,["modelValue"])]),_:1}),o(n,{label:"0 - 企业 1 - 个人",prop:"type"},{default:p(()=>[o(d,{modelValue:a(l).type,"onUpdate:modelValue":e[3]||(e[3]=t=>a(l).type=t),clearable:"",placeholder:"请输入0 - 企业 1 - 个人"},null,8,["modelValue"])]),_:1}),o(n,{label:"发起人签约账户",prop:"send_psn_id"},{default:p(()=>[o(d,{modelValue:a(l).send_psn_id,"onUpdate:modelValue":e[4]||(e[4]=t=>a(l).send_psn_id=t),clearable:"",placeholder:"请输入发起人签约账户"},null,8,["modelValue"])]),_:1}),o(n,{label:"发起人组织ID",prop:"send_org_id"},{default:p(()=>[o(d,{modelValue:a(l).send_org_id,"onUpdate:modelValue":e[5]||(e[5]=t=>a(l).send_org_id=t),clearable:"",placeholder:"请输入发起人组织ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"接收人账户ID",prop:"accept_psn_id"},{default:p(()=>[o(d,{modelValue:a(l).accept_psn_id,"onUpdate:modelValue":e[6]||(e[6]=t=>a(l).accept_psn_id=t),clearable:"",placeholder:"请输入接收人账户ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"接收人组织ID",prop:"accept_org_id"},{default:p(()=>[o(d,{modelValue:a(l).accept_org_id,"onUpdate:modelValue":e[7]||(e[7]=t=>a(l).accept_org_id=t),clearable:"",placeholder:"请输入接收人组织ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"合同名称",prop:"name"},{default:p(()=>[o(d,{modelValue:a(l).name,"onUpdate:modelValue":e[8]||(e[8]=t=>a(l).name=t),clearable:"",placeholder:"请输入合同名称"},null,8,["modelValue"])]),_:1}),o(n,{label:"0 - 发起 1 - 接受",prop:"is_send"},{default:p(()=>[o(d,{modelValue:a(l).is_send,"onUpdate:modelValue":e[9]||(e[9]=t=>a(l).is_send=t),clearable:"",placeholder:"请输入0 - 发起 1 - 接受"},null,8,["modelValue"])]),_:1}),o(n,{label:"0 - 待签署 1 - 发起签署完成 2 - 参与方签署完成 3 - 结束",prop:"status"},{default:p(()=>[o(d,{modelValue:a(l).status,"onUpdate:modelValue":e[10]||(e[10]=t=>a(l).status=t),clearable:"",placeholder:"请输入0 - 待签署 1 - 发起签署完成 2 - 参与方签署完成 3 - 结束"},null,8,["modelValue"])]),_:1}),o(n,{label:"签署流ID",prop:"signFlowId"},{default:p(()=>[o(d,{modelValue:a(l).signFlowId,"onUpdate:modelValue":e[11]||(e[11]=t=>a(l).signFlowId=t),clearable:"",placeholder:"请输入签署流ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"合同地址",prop:"contract_file"},{default:p(()=>[o(d,{modelValue:a(l).contract_file,"onUpdate:modelValue":e[12]||(e[12]=t=>a(l).contract_file=t),clearable:"",placeholder:"请输入合同地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{K as _};
