import{d as E,r as h,b6 as F,b as O,o as t,c as s,a_ as e,M,y as i,a as c,aB as r,ae as k,aU as R,x as K,F as g,ao as U,ap as V,ak as H,aj as j}from"./@vue-a164be7a.js";import"./adapter-vue-24f22062.js";import{z as d,_ as G}from"./@tencentcloud-7fc831ec.js";import b from"./Icon-2c0593f3.js";import{s as q}from"./selected-a3efc726.js";import{b as P}from"./back-16f17fde.js";import{a as u,c as N,d as W}from"./env-a593fd1d.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const Y="/admin/assets/cancel-aba36dc1.svg",J=p=>(H("data-v-c7aecc0b"),p=p(),j(),p),Q={key:0,class:"transfer-header transfer-h5-header"},X={class:"title"},Z=J(()=>c("span",{class:"space"},null,-1)),ee={class:"main"},te={class:"left"},se={class:"transfer-header"},ae=["value","placeholder"],ne=["placeholder","value"],le={class:"transfer-left-main"},oe={class:"transfer-list"},ce={key:1,class:"icon-unselected"},re={class:"select-all"},ie=["onClick"],de=["src"],ue={class:"name"},pe={key:0},he={class:"right"},fe={key:0,class:"transfer-header"},_e={key:1,class:"transfer-list"},me={key:0,class:"transfer-text"},ke={class:"transfer-list-item-content"},ve=["src"],ye={key:0,class:"name"},ge=["onClick"],be={class:"transfer-right-footer"},Ie=E({__name:"index",props:{list:{type:Array,default:()=>[]},selectedList:{type:Array,default:()=>[]},isSearch:{type:Boolean,default:!0},isRadio:{type:Boolean,default:!1},isCustomItem:{type:Boolean,default:!1},title:{type:String,default:""},type:{type:String,default:""},resultShow:{type:Boolean,default:!0},total:{type:Number,default:0},isHiddenBackIcon:{type:Boolean,default:!1}},emits:["search","submit","cancel","getMore"],setup(p,{emit:$}){const n=p,_=h([]),w=h(0),o=h([]),I=h(!0),x=h(!1),C=h(""),f=h("");F(()=>{if(n.isCustomItem)for(let l=0;l<n.list.length;l++)n.list[l].conversationID.indexOf("@TIM#SYSTEM")>-1&&n.list.splice(l,1),_.value=n.list;else _.value=n.list;w.value=n.total?n.total:n.list.length,o.value=n.selectedList&&n.selectedList.length>0?n.selectedList:o.value,I.value=n.isSearch,x.value=n.isCustomItem,C.value=n.title});const v=$,y=O(()=>_.value.filter(l=>!l.isDisabled)),S=l=>{f.value=l.target.value||l.detail.value,v("search",f.value)},B=l=>{if(l.isDisabled)return;let m=o.value;const a=m.indexOf(l);if(a>-1)return o.value.splice(a,1);n.isRadio&&(m=[]),m.push(l),o.value=m},z=()=>{o.value.length===y.value.length?o.value=[]:o.value=[...y.value]},D=()=>{v("submit",o.value),f.value=""},T=()=>{v("cancel"),f.value=""},A=()=>{v("getMore")};return(l,m)=>(t(),s("div",{class:k(["transfer",[e(u)?"":"transfer-h5",e(W)?"transfer-h5-wechat":""]])},[e(u)?i("",!0):(t(),s("header",Q,[n.isHiddenBackIcon?i("",!0):(t(),s("div",{key:0,onClick:T},[M(b,{class:"icon",file:e(P),width:"18px",height:"18px"},null,8,["file"])])),c("span",X,r(e(C)),1),Z])),c("main",ee,[c("div",te,[c("header",se,[e(u)&&e(I)?(t(),s("input",{key:0,type:"text",value:e(f),placeholder:e(d).t("component.请输入userID"),enterkeyhint:"search",class:k([e(N)?"left-uniapp-input":""]),onKeyup:R(S,["enter"])},null,42,ae)):i("",!0),!e(u)&&e(I)?(t(),s("input",{key:1,type:"text",placeholder:e(d).t("component.请输入userID"),enterkeyhint:"search",value:e(f),class:k([e(N)?"left-uniapp-input":""]),onBlur:S,onConfirm:S},null,42,ne)):i("",!0)]),c("main",le,[c("ul",oe,[e(y).length>1&&!p.isRadio?(t(),s("li",{key:0,class:"transfer-list-item",onClick:z},[e(o).length===e(y).length?(t(),K(b,{key:0,file:e(q),width:"18px",height:"18px"},null,8,["file"])):(t(),s("i",ce)),c("span",re,r(e(d).t("component.全选")),1)])):i("",!0),(t(!0),s(g,null,U(e(_),a=>(t(),s("li",{key:a.userID,class:"transfer-list-item",onClick:L=>B(a)},[e(o).indexOf(a)>-1?(t(),K(b,{key:0,file:e(q),class:k([a.isDisabled&&"disabled"]),width:"18px",height:"18px"},null,8,["file","class"])):(t(),s("i",{key:1,class:k([a.isDisabled&&"disabled","icon-unselected"])},null,2)),e(x)?V(l.$slots,"left",{key:3,data:a},void 0,!0):(t(),s(g,{key:2},[c("img",{class:"avatar",src:a.avatar||"https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png",onerror:"this.onerror=null;this.src='https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png'"},null,8,de),c("span",ue,r(a.nick||a.userID),1),a.isDisabled?(t(),s("span",pe,"（"+r(e(d).t("component.已在群中"))+"）",1)):i("",!0)],64))],8,ie))),128)),e(w)>e(_).length?(t(),s("li",{key:1,class:"transfer-list-item more",onClick:A},r(e(d).t("component.查看更多")),1)):i("",!0)])])]),c("div",he,[e(u)?(t(),s("header",fe,r(e(C)),1)):i("",!0),p.resultShow?(t(),s("ul",_e,[e(o).length>0&&e(u)?(t(),s("p",me,r(e(d).t("component.已选中"))+r(e(o).length)+r(e(d).t("component.人")),1)):i("",!0),(t(!0),s(g,null,U(e(o),(a,L)=>(t(),s("li",{key:L,class:"transfer-list-item space-between"},[c("aside",ke,[e(x)?V(l.$slots,"right",{key:1,data:a},void 0,!0):(t(),s(g,{key:0},[c("img",{class:"avatar",src:a.avatar||"https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png",onerror:"this.onerror=null;this.src='https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png'"},null,8,ve),e(u)?(t(),s("span",ye,r(a.nick||a.userID),1)):i("",!0)],64))]),e(u)?(t(),s("span",{key:0,onClick:xe=>B(a)},[M(b,{file:e(Y),width:"18px",height:"18px"},null,8,["file"])],8,ge)):i("",!0)]))),128))])):i("",!0),c("footer",be,[c("button",{class:"btn btn-cancel",onClick:T},r(e(d).t("component.取消")),1),e(o).length>0?(t(),s("button",{key:0,class:"btn",onClick:D},r(e(d).t("component.完成")),1)):(t(),s("button",{key:1,class:"btn btn-no",onClick:D},r(e(d).t("component.完成")),1))])])])],2))}});const Oe=G(Ie,[["__scopeId","data-v-c7aecc0b"]]);export{Oe as default};
