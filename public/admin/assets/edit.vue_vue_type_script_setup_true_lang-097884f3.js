import{x as g,y as D,P as B,Q as F,A as I}from"./element-plus-69d92160.js";import{a as N,b as P,c as U}from"./article-dc63fbf4.js";import{P as A}from"./index-943d816c.js";import{d as S,b5 as c,r as q,b as M,b2 as Q,o as T,c as j,M as a,aR as n,a_ as l,a as _}from"./@vue-a164be7a.js";const z={class:"edit-popup"},G=_("div",{class:"form-tips"},"默认为0， 数值越大越排前",-1),W=S({__name:"edit",emits:["success","close"],setup(H,{expose:f,emit:v}){const u=v,d=c(),r=c(),i=q("add"),w=M(()=>i.value=="edit"?"编辑栏目":"新增栏目"),o=Q({id:"",name:"",sort:0,is_show:1}),b={name:[{required:!0,message:"请输入栏目名称",trigger:["blur"]}]},V=async()=>{var t,e;await((t=d.value)==null?void 0:t.validate()),i.value=="edit"?await N(o):await P(o),(e=r.value)==null||e.close(),u("success")},h=(t="add")=>{var e;i.value=t,(e=r.value)==null||e.open()},p=t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e])},x=async t=>{const e=await U({id:t.id});p(e)},C=()=>{u("close")};return f({open:h,setFormData:p,getDetail:x}),(t,e)=>{const y=g,m=D,E=B,R=F,k=I;return T(),j("div",z,[a(A,{ref_key:"popupRef",ref:r,title:l(w),async:!0,width:"550px",onConfirm:V,onClose:C},{default:n(()=>[a(k,{ref_key:"formRef",ref:d,model:l(o),"label-width":"84px",rules:b},{default:n(()=>[a(m,{label:"栏目名称",prop:"name"},{default:n(()=>[a(y,{modelValue:l(o).name,"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).name=s),placeholder:"请输入栏目名称",clearable:""},null,8,["modelValue"])]),_:1}),a(m,{label:"排序",prop:"sort"},{default:n(()=>[_("div",null,[a(E,{modelValue:l(o).sort,"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).sort=s),min:0,max:9999},null,8,["modelValue"]),G])]),_:1}),a(m,{label:"状态",prop:"is_show"},{default:n(()=>[a(R,{modelValue:l(o).is_show,"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).is_show=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{W as _};
