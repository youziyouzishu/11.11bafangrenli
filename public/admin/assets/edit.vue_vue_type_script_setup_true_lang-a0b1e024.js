import{x as F,y as I,N as P,O as A,P as O,Q as S,A as T}from"./element-plus-69d92160.js";import{f as z,h as G,i as L}from"./wx_oa-8ed3dc08.js";import{P as M}from"./index-943d816c.js";import{d as Q,b5 as x,r as j,b as H,b2 as J,o as p,c as K,M as o,aR as a,a_ as l,a as n,x as y,y as V,L as m}from"./@vue-a164be7a.js";const W={class:"edit-popup"},X={class:"flex-1"},Y=n("div",{class:"form-tips"},"方便通过名称管理关注回复内容",-1),Z={class:"flex-1"},$=n("div",{class:"form-tips"},"方便通过名称管理关注回复内容",-1),ee={class:"flex-1"},te=n("div",{class:"form-tips"},"模糊匹配时，关键词部分匹配用户输入的内容即可",-1),le={class:"flex-1"},oe=n("div",{class:"form-tips"},"暂时只支持文本类型",-1),ae={class:"flex-1"},se={class:"flex-1"},ne={class:"flex-1"},de=n("div",{class:"form-tips"}," 设置关键词匹配多条时回复的数量，暂时支持回复一条内容 ",-1),_e=Q({__name:"edit",emits:["success","close"],setup(re,{expose:w,emit:h}){const v=h,b=x(),_=x(),c=j("add"),k=H(()=>c.value=="edit"?"编辑":"新增"),t=J({id:"",name:"",reply_type:0,content_type:1,keyword:"",content:"",matching_type:1,status:1,sort:0,reply_num:1}),R={name:[{required:!0,message:"请输入规则名称",trigger:["blur"]}],keyword:[{required:!0,message:"请输入关键词",trigger:["blur"]}],matching_type:[{required:!0,message:"请选择匹配方式",trigger:["blur"]}],content_type:[{required:!0,message:"请选择回复类型",trigger:["blur"]}],content:[{required:!0,message:"请输入回复内容",trigger:["blur"]}]},E=async()=>{var d,e;await((d=b.value)==null?void 0:d.validate()),c.value=="edit"?await z(t):await G(t),(e=_.value)==null||e.close(),v("success")},U=(d="add",e=0)=>{var u;c.value=d,t.reply_type=e,(u=_.value)==null||u.open()},g=d=>{for(const e in t)d[e]!=null&&d[e]!=null&&(t[e]=d[e])},q=async d=>{const e=await L({id:d.id});g(e)},C=()=>{v("close")};return w({open:U,setFormData:g,getDetail:q}),(d,e)=>{const u=F,r=I,i=P,f=A,N=O,B=S,D=T;return p(),K("div",W,[o(M,{ref_key:"popupRef",ref:_,title:l(k),async:!0,width:"500px",onConfirm:E,onClose:C},{default:a(()=>[o(D,{ref_key:"formRef",ref:b,model:l(t),"label-width":"84px",rules:R,class:"pr-10"},{default:a(()=>[o(r,{label:"规则名称",prop:"name"},{default:a(()=>[n("div",X,[o(u,{modelValue:l(t).name,"onUpdate:modelValue":e[0]||(e[0]=s=>l(t).name=s),placeholder:"请输入规则名称"},null,8,["modelValue"]),Y])]),_:1}),l(t).reply_type==2?(p(),y(r,{key:0,label:"关键词",prop:"keyword"},{default:a(()=>[n("div",Z,[o(u,{modelValue:l(t).keyword,"onUpdate:modelValue":e[1]||(e[1]=s=>l(t).keyword=s),placeholder:"请输入关键词"},null,8,["modelValue"]),$])]),_:1})):V("",!0),l(t).reply_type==2?(p(),y(r,{key:1,label:"匹配方式",prop:"matching_type"},{default:a(()=>[n("div",ee,[o(f,{modelValue:l(t).matching_type,"onUpdate:modelValue":e[2]||(e[2]=s=>l(t).matching_type=s)},{default:a(()=>[o(i,{label:1},{default:a(()=>[m("全匹配")]),_:1}),o(i,{label:2},{default:a(()=>[m("模糊匹配")]),_:1})]),_:1},8,["modelValue"]),te])]),_:1})):V("",!0),o(r,{label:"回复类型",prop:"content_type",min:0},{default:a(()=>[n("div",le,[o(f,{modelValue:l(t).content_type,"onUpdate:modelValue":e[3]||(e[3]=s=>l(t).content_type=s)},{default:a(()=>[o(i,{label:1},{default:a(()=>[m("文本")]),_:1})]),_:1},8,["modelValue"]),oe])]),_:1}),o(r,{label:"回复内容",prop:"content"},{default:a(()=>[n("div",ae,[o(u,{modelValue:l(t).content,"onUpdate:modelValue":e[4]||(e[4]=s=>l(t).content=s),autosize:{minRows:4,maxRows:4},type:"textarea",maxlength:"200","show-word-limit":"",placeholder:"请输入回复内容"},null,8,["modelValue"])])]),_:1}),o(r,{label:"排序"},{default:a(()=>[n("div",se,[o(N,{modelValue:l(t).sort,"onUpdate:modelValue":e[5]||(e[5]=s=>l(t).sort=s),min:0,max:9999},null,8,["modelValue"])])]),_:1}),l(t).reply_type==2?(p(),y(r,{key:2,label:"回复数量",prop:"reply_num",required:""},{default:a(()=>[n("div",ne,[o(f,{modelValue:l(t).reply_num,"onUpdate:modelValue":e[6]||(e[6]=s=>l(t).reply_num=s)},{default:a(()=>[o(i,{label:1},{default:a(()=>[m("回复匹配首词条")]),_:1})]),_:1},8,["modelValue"]),de])]),_:1})):V("",!0),o(r,{label:"启用状态"},{default:a(()=>[o(B,{modelValue:l(t).status,"onUpdate:modelValue":e[7]||(e[7]=s=>l(t).status=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{_e as _};
