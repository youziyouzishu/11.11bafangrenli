import{x as F,y as B,K as L,L as A,A as O}from"./element-plus-69d92160.js";import{P}from"./index-943d816c.js";import{r as p}from"./index-90bac5cf.js";import"./lodash-f986f62a.js";import{d as v,b5 as g,r as j,b as K,b2 as y,o as _,c as V,M as o,aR as s,a_ as a,F as M,ao as N,x as T}from"./@vue-a164be7a.js";function ee(r){return p.get({url:"/e_seals/lists",params:r})}function G(r){return p.post({url:"/e_seals/add",params:r})}function H(r){return p.post({url:"/e_seals/edit",params:r})}function le(r){return p.post({url:"/e_seals/delete",params:r})}function J(r){return p.get({url:"/e_seals/detail",params:r})}const Q={class:"edit-popup"},W=v({name:"eSealsEdit"}),ae=v({...W,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(r,{expose:E,emit:D}){const c=D,f=g(),i=g(),m=j("add"),q=K(()=>m.value=="edit"?"编辑印章信息表":"新增印章信息表"),l=y({id:"",user_id:"",target_id:"",type:"",seal_name:"",seal_template_style:"",seal_opacity:"",seal_color:"",seal_old_style:"",seal_size:""}),x=y({user_id:[{required:!0,message:"请输入用户ID",trigger:["blur"]}],type:[{required:!0,message:"请选择用户类型",trigger:["blur"]}],seal_name:[{required:!0,message:"请输入印章名称",trigger:["blur"]}],seal_template_style:[{required:!0,message:"请输入印章模板样式",trigger:["blur"]}],seal_opacity:[{required:!0,message:"请输入印章透明度",trigger:["blur"]}],seal_color:[{required:!0,message:"请输入印章颜色",trigger:["blur"]}],seal_old_style:[{required:!0,message:"请输入旧样式编码",trigger:["blur"]}],seal_size:[{required:!0,message:"请输入印章尺寸（宽_高，例如40_40）",trigger:["blur"]}]}),b=async u=>{for(const e in l)u[e]!=null&&u[e]!=null&&(l[e]=u[e])},U=async u=>{const e=await J({id:u.id});b(e)},w=async()=>{var e,d;await((e=f.value)==null?void 0:e.validate());const u={...l};m.value=="edit"?await H(u):await G(u),(d=i.value)==null||d.close(),c("success")},S=(u="add")=>{var e;m.value=u,(e=i.value)==null||e.open()},k=()=>{c("close")};return E({open:S,setFormData:b,getDetail:U}),(u,e)=>{const d=F,n=B,I=L,R=A,z=O;return _(),V("div",Q,[o(P,{ref_key:"popupRef",ref:i,title:a(q),async:!0,width:"700px",onConfirm:w,onClose:k},{default:s(()=>[o(z,{ref_key:"formRef",ref:f,model:a(l),"label-width":"90px",rules:a(x)},{default:s(()=>[o(n,{label:"用户ID",prop:"user_id"},{default:s(()=>[o(d,{modelValue:a(l).user_id,"onUpdate:modelValue":e[0]||(e[0]=t=>a(l).user_id=t),clearable:"",placeholder:"请输入用户ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"主体ID",prop:"target_id"},{default:s(()=>[o(d,{modelValue:a(l).target_id,"onUpdate:modelValue":e[1]||(e[1]=t=>a(l).target_id=t),clearable:"",placeholder:"请输入主体ID"},null,8,["modelValue"])]),_:1}),o(n,{label:"用户类型",prop:"type"},{default:s(()=>[o(R,{class:"flex-1",modelValue:a(l).type,"onUpdate:modelValue":e[2]||(e[2]=t=>a(l).type=t),clearable:"",placeholder:"请选择用户类型"},{default:s(()=>[(_(!0),V(M,null,N(r.dictData.seal_type,(t,C)=>(_(),T(I,{key:C,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"印章名称",prop:"seal_name"},{default:s(()=>[o(d,{modelValue:a(l).seal_name,"onUpdate:modelValue":e[3]||(e[3]=t=>a(l).seal_name=t),clearable:"",placeholder:"请输入印章名称"},null,8,["modelValue"])]),_:1}),o(n,{label:"印章模板样式",prop:"seal_template_style"},{default:s(()=>[o(d,{modelValue:a(l).seal_template_style,"onUpdate:modelValue":e[4]||(e[4]=t=>a(l).seal_template_style=t),clearable:"",placeholder:"请输入印章模板样式"},null,8,["modelValue"])]),_:1}),o(n,{label:"印章透明度",prop:"seal_opacity"},{default:s(()=>[o(d,{modelValue:a(l).seal_opacity,"onUpdate:modelValue":e[5]||(e[5]=t=>a(l).seal_opacity=t),clearable:"",placeholder:"请输入印章透明度"},null,8,["modelValue"])]),_:1}),o(n,{label:"印章颜色",prop:"seal_color"},{default:s(()=>[o(d,{modelValue:a(l).seal_color,"onUpdate:modelValue":e[6]||(e[6]=t=>a(l).seal_color=t),clearable:"",placeholder:"请输入印章颜色"},null,8,["modelValue"])]),_:1}),o(n,{label:"旧样式编码",prop:"seal_old_style"},{default:s(()=>[o(d,{modelValue:a(l).seal_old_style,"onUpdate:modelValue":e[7]||(e[7]=t=>a(l).seal_old_style=t),clearable:"",placeholder:"请输入旧样式编码"},null,8,["modelValue"])]),_:1}),o(n,{label:"印章尺寸",prop:"seal_size"},{default:s(()=>[o(d,{modelValue:a(l).seal_size,"onUpdate:modelValue":e[8]||(e[8]=t=>a(l).seal_size=t),clearable:"",placeholder:"请输入印章尺寸"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{ae as _,le as a,ee as b};
