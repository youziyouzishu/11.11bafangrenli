import{d as e,e as l,o as t,c as a,w as o,f as s,j as u,E as i,a as r,h as n,t as c,n as d,i as m,H as p,p as h,F as f,q as _,aR as y,aS as b,k as x,s as g,m as k,x as v,a7 as V,aT as S,am as C}from"./index-40b5c4cd.js";import{_ as N}from"./u-button.d0ae8aa1.js";import{_ as I}from"./u-icon.4067ae16.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as B}from"./u-popup.2526b79a.js";import{_ as T,a as j}from"./u-radio-group.3f44a23c.js";import{_ as A,a as D}from"./u-form-item.8f125d67.js";import{_ as U}from"./u-picker.0e3c7c6c.js";import{_ as $}from"./u-form.5fab2264.js";import"./emitter.1571a5d9.js";const z=w({name:"u-alert-tips",emits:["click","close"],props:{title:{type:String,default:""},type:{type:String,default:"warning"},description:{type:String,default:""},closeAble:{type:Boolean,default:!1},closeText:{type:String,default:""},showIcon:{type:Boolean,default:!1},color:{type:String,default:""},bgColor:{type:String,default:""},borderColor:{type:String,default:""},show:{type:Boolean,default:!0},icon:{type:String,default:""},iconStyle:{type:Object,default:()=>({})},titleStyle:{type:Object,default:()=>({})},descStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{uTitleStyle(){let e={};return e.fontWeight=this.description?500:"normal",this.$u.deepMerge(e,this.titleStyle)},uIcon(){return this.icon?this.icon:this.$u.type2icon(this.type)},uIconType(){return Object.keys(this.iconStyle).length?"":this.type}},methods:{click(){this.$emit("click")},close(){this.$emit("close")}}},[["render",function(h,f,_,y,b,x){const g=e(l("u-icon"),I),k=m,v=p;return _.show?(t(),a(k,{key:0,class:d(["u-alert-tips",[_.show?"":"u-close-alert-tips",_.type?"u-alert-tips--bg--"+_.type+"-light":"",_.type?"u-alert-tips--border--"+_.type+"-disabled":""]]),style:r({backgroundColor:_.bgColor,borderColor:_.borderColor})},{default:o((()=>[s(k,{class:"u-icon-wrap"},{default:o((()=>[_.showIcon?(t(),a(g,{key:0,name:x.uIcon,size:_.description?40:32,class:"u-icon",color:x.uIconType,"custom-style":_.iconStyle},null,8,["name","size","color","custom-style"])):u("",!0)])),_:1}),s(k,{class:"u-alert-content",onClick:i(x.click,["stop"])},{default:o((()=>[s(k,{class:"u-alert-title",style:r([x.uTitleStyle])},{default:o((()=>[n(c(_.title),1)])),_:1},8,["style"]),_.description?(t(),a(k,{key:0,class:"u-alert-desc",style:r([_.descStyle])},{default:o((()=>[n(c(_.description),1)])),_:1},8,["style"])):u("",!0)])),_:1},8,["onClick"]),s(k,{class:"u-icon-wrap"},{default:o((()=>[_.closeAble&&!_.closeText?(t(),a(g,{key:0,onClick:x.close,hoverClass:"u-type-error-hover-color",name:"close",color:"#c0c4cc",size:22,class:"u-close-icon",style:r({top:_.description?"18rpx":"24rpx"})},null,8,["onClick","style"])):u("",!0)])),_:1}),_.closeAble&&_.closeText?(t(),a(v,{key:0,onClick:x.close,class:"u-close-text",style:r({top:_.description?"18rpx":"24rpx"})},{default:o((()=>[n(c(_.closeText),1)])),_:1},8,["onClick","style"])):u("",!0)])),_:1},8,["class","style"])):u("",!0)}],["__scopeId","data-v-ddfc3f45"]]);const P=w({emits:["update:modelValue","input","confirm"],props:{value:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},list:{type:Array,default:()=>[]},border:{type:Boolean,default:!0},cancelColor:{type:String,default:"#606266"},confirmColor:{type:String,default:"#2979ff"},zIndex:{type:[String,Number],default:0},safeAreaInsetBottom:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!0},defaultValue:{type:Array,default:()=>[0]},mode:{type:String,default:"single-column"},valueName:{type:String,default:"value"},labelName:{type:String,default:"label"},childName:{type:String,default:"children"},title:{type:String,default:""},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"},blur:{type:[Number,String],default:0}},data:()=>({popupValue:!1,defaultSelector:[0],columnData:[],selectValue:[],lastSelectIndex:[],columnNum:0,moving:!1,reset:!1}),watch:{valueCom:{immediate:!0,handler(e){e&&(this.reset=!0,setTimeout((()=>this.init()),10)),this.popupValue=e}}},computed:{uZIndex(){return this.zIndex?this.zIndex:this.$u.zIndex.popup},valueCom(){return this.modelValue},showColumnCom:()=>!0},methods:{pickstart(){},pickend(){},init(){this.reset=!1,this.setColumnNum(),this.setDefaultSelector(),this.setColumnData(),this.setSelectValue()},setDefaultSelector(){this.defaultSelector=this.defaultValue.length==this.columnNum?this.defaultValue:Array(this.columnNum).fill(0),this.lastSelectIndex=this.$u.deepClone(this.defaultSelector)},setColumnNum(){if("single-column"==this.mode)this.columnNum=1;else if("mutil-column"==this.mode)this.columnNum=this.list.length;else if("mutil-column-auto"==this.mode){let e=1,l=this.list;for(;l[0][this.childName];)l=l[0]?l[0][this.childName]:{},e++;this.columnNum=e}},setColumnData(){let e=[];if(this.selectValue=[],"mutil-column-auto"==this.mode){let l=this.list[this.defaultSelector.length?this.defaultSelector[0]:0];for(let t=0;t<this.columnNum;t++)0==t?(e[t]=this.list,l=l[this.childName]):(e[t]=l,l=l[this.defaultSelector[t]][this.childName])}else"single-column"==this.mode?e[0]=this.list:e=this.list;this.columnData=e},setSelectValue(){let e=null;for(let l=0;l<this.columnNum;l++){e=this.columnData[l][this.defaultSelector[l]];let t={index:this.defaultSelector[l],value:e?e[this.valueName]:null,label:e?e[this.labelName]:null};e&&void 0!==e.extra&&(t.extra=e.extra),this.selectValue.push(t)}},columnChange(e){let l=null,t=e.detail.value;if(this.selectValue=[],"mutil-column-auto"==this.mode){this.lastSelectIndex.map(((e,a)=>{e!=t[a]&&(l=a)})),this.defaultSelector=t;for(let e=l+1;e<this.columnNum;e++)this.columnData[e]=this.columnData[e-1][e-1==l?t[l]:0][this.childName],this.defaultSelector[e]=0;t.map(((e,l)=>{let a=this.columnData[l][t[l]],o={index:t[l],value:a?a[this.valueName]:null,label:a?a[this.labelName]:null};a&&void 0!==a.extra&&(o.extra=a.extra),this.selectValue.push(o)})),this.lastSelectIndex=t}else if("single-column"==this.mode){let e=this.columnData[0][t[0]],l={index:t[0],value:e?e[this.valueName]:null,label:e?e[this.labelName]:null};e&&void 0!==e.extra&&(l.extra=e.extra),this.selectValue.push(l),this.lastSelectIndex=t}else"mutil-column"==this.mode&&(t.map(((e,l)=>{let a=this.columnData[l][t[l]],o={index:t[l],value:a?a[this.valueName]:null,label:a?a[this.labelName]:null};a&&void 0!==a.extra&&(o.extra=a.extra),this.selectValue.push(o)})),this.lastSelectIndex=t)},close(){this.$emit("input",!1),this.$emit("update:modelValue",!1)},getResult(e=null){e&&this.$emit(e,this.selectValue),this.close()},selectHandler(){this.$emit("click")}}},[["render",function(d,p,x,g,k,v){const V=m,S=y,C=b,N=e(l("u-popup"),B);return t(),a(V,{class:"u-select"},{default:o((()=>[s(N,{blur:x.blur,maskCloseAble:x.maskCloseAble,mode:"bottom",popup:!1,modelValue:k.popupValue,"onUpdate:modelValue":p[4]||(p[4]=e=>k.popupValue=e),length:"auto",safeAreaInsetBottom:x.safeAreaInsetBottom,onClose:v.close,"z-index":v.uZIndex},{default:o((()=>[s(V,{class:"u-select"},{default:o((()=>[s(V,{class:"u-select__header",onTouchmove:p[3]||(p[3]=i((()=>{}),["stop","prevent"]))},{default:o((()=>[s(V,{class:"u-select__header__cancel u-select__header__btn",style:r({color:x.cancelColor}),"hover-class":"u-hover-class","hover-stay-time":150,onClick:p[0]||(p[0]=e=>v.getResult("cancel"))},{default:o((()=>[n(c(x.cancelText),1)])),_:1},8,["style"]),s(V,{class:"u-select__header__title"},{default:o((()=>[n(c(x.title),1)])),_:1}),s(V,{class:"u-select__header__confirm u-select__header__btn",style:r({color:k.moving?x.cancelColor:x.confirmColor}),"hover-class":"u-hover-class","hover-stay-time":150,onTouchmove:p[1]||(p[1]=i((()=>{}),["stop"])),onClick:p[2]||(p[2]=i((e=>v.getResult("confirm")),["stop"]))},{default:o((()=>[n(c(x.confirmText),1)])),_:1},8,["style"])])),_:1}),s(V,{class:"u-select__body"},{default:o((()=>[s(C,{onChange:v.columnChange,class:"u-select__body__picker-view",value:k.defaultSelector,onPickstart:v.pickstart,onPickend:v.pickend},{default:o((()=>[v.showColumnCom?(t(!0),h(f,{key:0},_(k.columnData,((e,l)=>(t(),a(S,{key:l},{default:o((()=>[(t(!0),h(f,null,_(e,((e,l)=>(t(),a(V,{class:"u-select__body__picker-view__item",key:l},{default:o((()=>[s(V,{class:"u-line-1"},{default:o((()=>[n(c(e[x.labelName]),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)))),128)):u("",!0)])),_:1},8,["onChange","value","onPickstart","onPickend"])])),_:1})])),_:1})])),_:1},8,["blur","maskCloseAble","modelValue","safeAreaInsetBottom","onClose","z-index"])])),_:1})}],["__scopeId","data-v-10766522"]]),O=w(x({__name:"role",setup(i){g(),k("");const r=v(),d=k(!1),p=k(!1),h=k([{label:"招聘顾问",value:2},{label:"驻场经理",value:3},{label:"求职者",value:4}]),f=()=>{p.value=!0},_=e=>{b.role=e[0].value,b.roleName=e[0].label,console.log(e[0])},y=e=>{console.log(e),b.city=e.city.code,b.city_address=e.province.name+","+e.city.name+","+e.area.name},b=V({type:"bind",real_name:"",sex:"1",role:"",roleName:"",id_card:"",bank_name:"",bank_account:"",profile:"",city:"",city_address:""}),x=async()=>{await S(b,{token:r.temToken}),r.login(r.temToken),await r.getUser(),setTimeout((()=>{C({url:"/pages/user/user"})}),100)};return(i,r)=>{const g=e(l("u-button"),N),k=e(l("u-alert-tips"),z),v=m,V=e(l("u-select"),P),S=e(l("u-radio"),T),C=e(l("u-radio-group"),j),I=e(l("u-form-item"),A),w=e(l("u-input"),D),B=e(l("u-picker"),U),O=e(l("u-form"),$);return t(),a(v,{class:"bg-white min-h-full flex flex-col items-center px-[40rpx] pt-[40rpx] box-border"},{default:o((()=>[s(v,{class:"w-full"},{default:o((()=>[s(O,{borderBottom:"","label-width":150},{default:o((()=>[s(g,{onClick:r[0]||(r[0]=e=>d.value=!0)},{default:o((()=>[n(c(b.roleName?""+b.roleName:"选择身份"),1)])),_:1}),s(v,{class:"mt-[16rpx]"},{default:o((()=>[s(k,{type:"warning","show-icon":!0,calss:"flex ml-[18rpx]",description:"选择身份后保存后无法在切换,请谨慎操作"})])),_:1}),s(V,{modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=e=>d.value=e),list:h.value,onConfirm:_},null,8,["modelValue","list"]),""!=b.role?(t(),a(v,{key:0},{default:o((()=>[s(I,{label:"性别",borderBottom:""},{default:o((()=>[s(C,{modelValue:b.sex,"onUpdate:modelValue":r[2]||(r[2]=e=>b.sex=e)},{default:o((()=>[s(S,{name:"1"},{default:o((()=>[n("男")])),_:1}),s(S,{name:"2"},{default:o((()=>[n("女")])),_:1})])),_:1},8,["modelValue"])])),_:1}),s(I,{label:"姓名",borderBottom:""},{default:o((()=>[s(w,{class:"flex-1",modelValue:b.real_name,"onUpdate:modelValue":r[3]||(r[3]=e=>b.real_name=e),border:!1,placeholder:"姓名"},null,8,["modelValue"])])),_:1}),s(I,{label:"身份证号",borderBottom:""},{default:o((()=>[s(w,{class:"flex-1",modelValue:b.id_card,"onUpdate:modelValue":r[4]||(r[4]=e=>b.id_card=e),border:!1,placeholder:"身份证号"},null,8,["modelValue"])])),_:1}),s(I,{label:"银行名称",borderBottom:""},{default:o((()=>[s(w,{class:"flex-1",modelValue:b.bank_name,"onUpdate:modelValue":r[5]||(r[5]=e=>b.bank_name=e),border:!1,placeholder:"开户行全称"},null,8,["modelValue"])])),_:1}),s(I,{label:"银行账号",borderBottom:""},{default:o((()=>[s(w,{class:"flex-1",modelValue:b.bank_account,"onUpdate:modelValue":r[6]||(r[6]=e=>b.bank_account=e),border:!1,placeholder:"银行账号"},null,8,["modelValue"])])),_:1}),s(I,{label:"个人简介",borderBottom:""},{default:o((()=>[s(w,{class:"flex-1",type:"textarea",modelValue:b.profile,"onUpdate:modelValue":r[7]||(r[7]=e=>b.profile=e),border:!1,placeholder:""},null,8,["modelValue"])])),_:1}),s(I,{label:"位置","label-width":"140",prop:"area"},{default:o((()=>[s(w,{placeholder:"请选择所在位置",modelValue:b.city_address,"onUpdate:modelValue":r[8]||(r[8]=e=>b.city_address=e),onFocus:f},null,8,["modelValue"]),s(B,{class:"region",mode:"region",modelValue:p.value,"onUpdate:modelValue":r[9]||(r[9]=e=>p.value=e),onConfirm:y},null,8,["modelValue"])])),_:1})])),_:1})):u("",!0)])),_:1}),s(v,{class:"mt-[40rpx] fixed-button"},{default:o((()=>[s(g,{disabled:""==b.role,type:"primary",shape:"circle",onClick:x},{default:o((()=>[n(" 保存 ")])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-1bf6e6a9"]]);export{O as default};
