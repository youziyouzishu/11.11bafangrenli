import{bb as e,aO as t,d as i,e as o,o as a,c as n,w as l,f as s,a as r,r as c,h as d,t as u,j as h,i as p,ae as f,H as m,W as _,I as g,bd as y,A as k,b0 as b,b7 as v,R as C,aj as x,ak as w,p as I,F as T,q as S,E as F,G as L,af as $,a0 as U,aC as B,U as D,n as M,g as N,Y as A,b as j,Q as P,am as V,bf as G,bg as W,bh as H,b3 as R,a$ as z}from"./index-40b5c4cd.js";import{a as O}from"./uni-list-item.88aca6c2.js";import{_ as E}from"./uni-load-more.0f0e0cfa.js";import{_ as q}from"./uni-list.8cb35de1.js";import{_ as J}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as Q}from"./uni-icons.4f8d1bfc.js";import{_ as X}from"./uni-list-chat.abf53d2c.js";import{_ as Y}from"./uni-popup-dialog.91400977.js";import{_ as K}from"./uni-popup.52abe24b.js";const Z={en:{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"},"zh-Hans":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"请输入搜索内容"},"zh-Hant":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"請輸入搜索內容"}},{t:ee}=e(Z);const te=J({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:()=>({show:!1,showSync:!1,searchVal:""}),computed:{cancelTextI18n(){return this.cancelText||ee("uni-search-bar.cancel")},placeholderText(){return this.placeholder||ee("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler(e){if(e){if(this.readonly)return;this.show=!0,this.$nextTick((()=>{this.showSync=!0}))}}},searchVal(e,t){this.$emit("input",e),this.$emit("update:modelValue",e)}},methods:{searchClick(){this.readonly||this.show||(this.show=!0,this.$nextTick((()=>{this.showSync=!0})))},clear(){this.searchVal="",this.$emit("clear","")},cancel(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,t())},confirm(){t(),this.$emit("confirm",{value:this.searchVal})},blur(){t(),this.$emit("blur",{value:this.searchVal})},emitFocus(e){this.$emit("focus",e.detail)}}},[["render",function(e,t,_,g,y,k){const b=i(o("uni-icons"),Q),v=p,C=f,x=m;return a(),n(v,{class:"uni-searchbar"},{default:l((()=>[s(v,{style:r({borderRadius:_.radius+"px",backgroundColor:_.bgColor}),class:"uni-searchbar__box",onClick:k.searchClick},{default:l((()=>[s(v,{class:"uni-searchbar__box-icon-search"},{default:l((()=>[c(e.$slots,"searchIcon",{},(()=>[s(b,{color:"#c0c4cc",size:"18",type:"search"})]),!0)])),_:3}),y.show||y.searchVal?(a(),n(C,{key:0,focus:y.showSync,disabled:_.readonly,placeholder:k.placeholderText,maxlength:_.maxlength,class:"uni-searchbar__box-search-input","confirm-type":"search",type:"text",modelValue:y.searchVal,"onUpdate:modelValue":t[0]||(t[0]=e=>y.searchVal=e),onConfirm:k.confirm,onBlur:k.blur,onFocus:k.emitFocus},null,8,["focus","disabled","placeholder","maxlength","modelValue","onConfirm","onBlur","onFocus"])):(a(),n(x,{key:1,class:"uni-searchbar__text-placeholder"},{default:l((()=>[d(u(_.placeholder),1)])),_:1})),y.show&&("always"===_.clearButton||"auto"===_.clearButton&&""!==y.searchVal)&&!_.readonly?(a(),n(v,{key:2,class:"uni-searchbar__box-icon-clear",onClick:k.clear},{default:l((()=>[c(e.$slots,"clearIcon",{},(()=>[s(b,{color:"#c0c4cc",size:"20",type:"clear"})]),!0)])),_:3},8,["onClick"])):h("",!0)])),_:3},8,["style","onClick"]),"always"===_.cancelButton||y.show&&"auto"===_.cancelButton?(a(),n(x,{key:0,onClick:k.cancel,class:"uni-searchbar__cancel"},{default:l((()=>[d(u(k.cancelTextI18n),1)])),_:1},8,["onClick"])):h("",!0)])),_:3})}],["__scopeId","data-v-72edd6de"]]),ie=_.database();const oe=J({emits:["clickMenu"],props:{showMenu:{type:Boolean,default:!0},showUser:{type:Boolean,default:!0}},data:()=>({scrollLeft:{0:0,1:1},activeIndex:!1,menuList:[{title:"加人/加群",path:"./addPeopleGroups/addPeopleGroups",srcName:"search"},{title:"群聊",path:"./groupList/groupList",srcName:"group"},{title:"创建群聊",path:"./createGroup/createGroup",srcName:"createGroup"}]}),computed:{isWidescreen:()=>g.isWidescreen,friendList:()=>g.friend.dataList,friendHasMore:()=>g.friend.hasMore,noticeList(){return[{title:"新朋友",param:{type:["uni-im-friend-invite"]},icon:"/uni_modules/uni-im/static/noticeIcon/newFriend.png"},{title:"群通知",param:{type:["uni-im-group-join-request"]},icon:"/uni_modules/uni-im/static/noticeIcon/groupNotice.png"},{title:"系统通知",param:{excludeType:["uni-im-group-join-request","uni-im-friend-invite"]},icon:"/uni_modules/uni-im/static/noticeIcon/notification.png"}].reduce(((e,t,i)=>{let{param:o,title:a}=t,n={filterNotice:o,title:a};return e.push({title:t.title,badge:this.getUnreadCount(t.param),badgeStyle:{backgroundColor:"#d60000"},path:"./notification/notification?param="+encodeURIComponent(JSON.stringify(n)),param:n,icon:t.icon,id:Date.now()+"-"+i}),e}),[])}},onPullDownRefresh(){this.$refs.udb.loadData({clear:!0},(()=>{y()}))},onReachBottom(){},methods:{openPages(e,t){if(this.isWidescreen){let t="uni-im-"+e.path.split("/")[1],i=e.param;return this.$emit("clickMenu",{componentName:t,param:i,title:e.title})}k({url:e.path,fail:t=>{console.error(t,e.path)}})},getUnreadCount:e=>g.notification.unreadCount(e),toChat(e){var t;this.isWidescreen?b("uni-im-toChat",{user_id:e._id}):(t="/uni_modules/uni-im/pages/chat/chat?user_id="+e._id,k({url:t,fail:e=>{console.log({err1:e}),v({url:t,fail:t=>{console.error({err1:e,err2:t})}})}}))},hiddenDeleteBtn(){this.activeIndex=!1,this.$nextTick((()=>{for(let e in this.scrollLeft)this.$set(this.scrollLeft,e,0)}))},async deleteItem(e,t,i){C({title:"确认要删除好友吗",content:"此操作不可撤销",showCancel:!0,cancelText:"取消",confirmText:"确认",complete:async t=>{t.confirm&&(x({mask:!0}),await ie.collection("uni-im-friend").where({friend_uid:e._id,user_id:_.getCurrentUserInfo().uid}).remove(),w())}}),this.hiddenDeleteBtn(),i.stopPropagation(),i.preventDefault()},scroll(e){this.$set(this.scrollLeft,this.activeIndex,e.detail.scrollLeft);for(let t in this.scrollLeft)t!=this.activeIndex&&this.$set(this.scrollLeft,t,0)},handleItemClick(e){k({url:"./detail?id="+e})},fabClick(){k({url:"./add",events:{refreshData:()=>{this.$refs.udb.loadData({clear:!0})}}})}}},[["render",function(e,t,r,c,f,_){const g=L,y=p,k=i(o("uni-list-item"),O),b=m,v=$,C=U,x=i(o("uni-load-more"),E),w=i(o("uni-list"),q);return a(),n(y,{class:"container",onClick:_.hiddenDeleteBtn},{default:l((()=>[s(w,{border:!1,class:"list-box"},{default:l((()=>[r.showMenu?(a(),I(T,{key:0},[(a(!0),I(T,null,S(f.menuList,((e,t)=>(a(),n(k,{key:t,class:"menu-item",title:e.title,link:"",onClick:t=>_.openPages(e),border:!1,showBadge:!0},{header:l((()=>[s(y,{class:"slot-icon-box green"},{default:l((()=>[s(g,{class:"slot-icon",src:"/uni_modules/uni-im/static/noticeIcon/"+e.srcName+".png",mode:"widthFix"},null,8,["src"])])),_:2},1024)])),_:2},1032,["title","onClick"])))),128)),(a(!0),I(T,null,S(_.noticeList,((e,t)=>(a(),n(k,{key:e.id,class:"menu-item",title:e.title,showBadge:!0,badgeText:e.badge,badgeStyle:e.badgeStyle,link:"",onClick:t=>_.openPages(e),border:!1},{header:l((()=>[s(y,{class:"slot-icon-box blue"},{default:l((()=>[s(g,{class:"slot-icon",src:e.icon,mode:"widthFix"},null,8,["src"])])),_:2},1024)])),_:2},1032,["title","badgeText","badgeStyle","onClick"])))),128))],64)):h("",!0),r.showUser?(a(),I(T,{key:1},[s(k,{customStyle:{padding:0},border:!1},{body:l((()=>[s(b,{class:"grey"},{default:l((()=>[d("好友列表")])),_:1})])),_:1}),(a(!0),I(T,null,S(_.friendList,((e,t)=>(a(),n(k,{key:e._id,customStyle:{padding:0},class:"user-list-item"},{body:l((()=>[s(C,{"scroll-x":"true",onScroll:_.scroll,"scroll-left":f.activeIndex===t?"":f.scrollLeft[t],"show-scrollbar":!1,"scroll-with-animation":!0,class:"user-list-item-scroll-view"},{default:l((()=>[s(y,{class:"item",onClick:t=>_.toChat(e),onTouchstartPassive:e=>f.activeIndex=t},{default:l((()=>[s(g,{class:"avatar",src:e.avatar_file&&e.avatar_file.url?e.avatar_file.url:"/uni_modules/uni-im/static/avatarUrl.png",mode:"widthFix"},null,8,["src"]),s(b,{class:"username"},{default:l((()=>[d(u(e.nickname),1)])),_:2},1024),s(v,{onClick:F((i=>_.deleteItem(e,t,i)),["stop"]),class:"delete-btn",size:"mini",type:"warn"},{default:l((()=>[d("删除")])),_:2},1032,["onClick"])])),_:2},1032,["onClick","onTouchstartPassive"])])),_:2},1032,["onScroll","scroll-left"])])),_:2},1024)))),128)),s(k,{customStyle:{padding:0}},{body:l((()=>[s(x,{class:"tip",status:_.friendHasMore?"loading":"noMore"},null,8,["status"])])),_:1})],64)):h("",!0)])),_:1})])),_:1},8,["onClick"])}],["__scopeId","data-v-2a563439"]]),ae=_.database();const ne=_.database();const le=J({data:()=>({filterNotice:{},tips:"",hasMore:!0}),async onLoad({param:e}){e=JSON.parse(decodeURIComponent(e)),this.setParam(e)},computed:{isWidescreen:()=>g.isWidescreen,notificationDatas(){let e=g.notification.get(this.filterNotice);return 0==e.length&&setTimeout((()=>{this.hasMore=!1}),100),e}},mounted(){this.hasMore=g.notification.hasMore},methods:{setParam({filterNotice:e,title:t}){"string"==typeof e&&(e=JSON.parse(decodeURIComponent(e))),this.filterNotice=e,console.log("filterNotice",e),B({title:t}),"新朋友"!=t||this.isWidescreen||(this.tips="好友请求通知")},async setItem({_id:e},t){const i=g.notification.get(this.filterNotice);for(let n=0;n<i.length;n++)if(i[n]._id==e){i[n]=a(i[n],t),g.notificationDatas=i,console.log("uniIm.notificationDatas",g.notificationDatas);break}function o(e){return"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)}function a(){let e=arguments.length,t=arguments[0];o(t)||(t={});for(let i=1;i<e;i++){let e=arguments[i];if(o(e))for(let i in e)"__proto__"!==i&&t!==e[i]&&(o(e[i])?t[i]=a(t[i],e[i]):t[i]=e[i])}return t}await ne.collection("uni-im-notification").where(`"_id" == "${e}" && "user_id" == $cloudEnv_uid`).get(),await ne.collection("uni-im-notification").where(`"_id" == "${e}" && "user_id" == $cloudEnv_uid`).update(t)},async clickHandle(e,t){t.is_read||this.setItem(t,{is_read:!0});let i=t.path||t.payload.path;i&&k({url:i,fail:e=>{console.error(e)}})},doAction(e,t){let i=this.notificationDatas[e];!async function({subType:e,confirm:t,cancel:i,item:o},a){switch(console.log({subType:e,confirm:t,cancel:i,item:o}),e){case"uni-im-friend-invite":return x({mask:!1}),ae.collection("uni-im-friend-invite").doc(o.payload.data._id).update({state:t?100:-100}).then((e=>{w(),a()})).catch((e=>{console.log(e),C({content:e.message||"请求服务失败",showCancel:!1})}));case"uni-im-group-join-request":x({mask:!1}),await ae.collection("uni-im-group-join").where({_id:o.payload.data.doc_id}).update({state:t?100:-100}).then((e=>{w(),a()})).catch((e=>{console.log(e),C({content:e.message||"请求服务失败",showCancel:!1})}));break;default:console.log({subType:e})}}({subType:i.payload.subType,confirm:1===t,cancel:0===t,item:i},(e=>{console.log("doAction",e),this.setItem(i,{is_read:!0,payload:{state:1===t?"confirm":"cancel"}})}))},friendlyTime:e=>D.toFriendlyTime(e),handleText(e){switch(e){case 0:return"同意";case 100:return"已同意";case-100:return"已拒绝";default:return"其他"}}}},[["render",function(e,t,r,c,f,_){const g=m,y=i(o("uni-icons"),Q),k=p,b=i(o("uni-list-chat"),X),v=i(o("uni-load-more"),E),C=i(o("uni-list-item"),O),x=i(o("uni-list"),q);return a(),n(k,{class:"notification-box"},{default:l((()=>[f.tips?(a(),n(g,{key:0,class:"tips"},{default:l((()=>[d(u(f.tips),1)])),_:1})):h("",!0),s(x,{border:!1},{default:l((()=>[_.notificationDatas&&_.notificationDatas.length?(a(!0),I(T,{key:0},S(_.notificationDatas,((e,t)=>(a(),n(b,{key:e.id,avatarCircle:!0,clickable:!0,"badge-text":e.is_read?"":"dot",badgePositon:"left",title:e.payload.title||e.title,note:e.payload.content||e.content||"无",avatar:e.payload.avatar_file&&e.payload.avatar_file.url?e.payload.avatar_file.url:"/uni_modules/uni-im/static/noticeIcon/notification2.png",onClick:i=>_.clickHandle(t,e),direction:"column",time:_.friendlyTime(e.create_time)},{default:l((()=>[s(k,{class:"handle-box"},{default:l((()=>[e.payload.state?(a(),n(g,{key:0,class:"handle done"},{default:l((()=>[d(u("已"+("confirm"==e.payload.state?e.payload.confirmText:e.payload.cancelText)),1)])),_:2},1024)):(a(),I(T,{key:1},[e.payload.cancelText?(a(),n(g,{key:0,class:"handle",onClick:F((e=>_.doAction(t,0)),["stop"])},{default:l((()=>[d(u(e.payload.cancelText),1)])),_:2},1032,["onClick"])):h("",!0),e.payload.confirmText?(a(),n(g,{key:1,class:"handle",onClick:F((e=>_.doAction(t,1)),["stop"])},{default:l((()=>[d(u(e.payload.confirmText),1)])),_:2},1032,["onClick"])):h("",!0),e.payload.cancelText||e.payload.confirmText||!e.path?h("",!0):(a(),n(y,{key:2,type:"right",color:"#cccccc"}))],64))])),_:2},1024)])),_:2},1032,["badge-text","title","note","avatar","onClick","time"])))),128)):(a(),n(C,{key:1,class:"load-more"},{body:l((()=>[s(v,{class:"tip",status:f.hasMore?"loading":"noMore"},null,8,["status"])])),_:1}))])),_:1})])),_:1})}],["__scopeId","data-v-61c7f4fa"]]);const se=J({name:"UniSegmentedControl",emits:["clickItem"],props:{current:{type:Number,default:0},values:{type:Array,default:()=>[]},activeColor:{type:String,default:"#2979FF"},styleType:{type:String,default:"button"}},data:()=>({currentIndex:0}),watch:{current(e){e!==this.currentIndex&&(this.currentIndex=e)}},created(){this.currentIndex=this.current},methods:{_onClick(e){this.currentIndex!==e&&(this.currentIndex=e,this.$emit("clickItem",{currentIndex:e}))}}},[["render",function(e,t,i,o,c,h){const f=m,_=p;return a(),n(_,{class:M([["text"===i.styleType?"segmented-control--text":"segmented-control--button"],"segmented-control"]),style:r({borderColor:"text"===i.styleType?"":i.activeColor})},{default:l((()=>[(a(!0),I(T,null,S(i.values,((e,t)=>(a(),n(_,{class:M([["text"===i.styleType?"":"segmented-control__item--button",t===c.currentIndex&&"button"===i.styleType?"segmented-control__item--button--active":"",0===t&&"button"===i.styleType?"segmented-control__item--button--first":"",t===i.values.length-1&&"button"===i.styleType?"segmented-control__item--button--last":""],"segmented-control__item"]),key:t,style:r({backgroundColor:t===c.currentIndex&&"button"===i.styleType?i.activeColor:"",borderColor:t===c.currentIndex&&"text"===i.styleType||"button"===i.styleType?i.activeColor:"transparent"}),onClick:e=>h._onClick(t)},{default:l((()=>[s(_,null,{default:l((()=>[s(f,{style:r({color:t===c.currentIndex?"text"===i.styleType?i.activeColor:"#fff":"text"===i.styleType?"#000":i.activeColor}),class:M(["segmented-control__text","text"===i.styleType&&t===c.currentIndex?"segmented-control__item--text":""])},{default:l((()=>[d(u(e),1)])),_:2},1032,["style","class"])])),_:2},1024)])),_:2},1032,["class","style","onClick"])))),128))])),_:1},8,["class","style"])}],["__scopeId","data-v-ef556e72"]]);const re=e=>"number"==typeof e?e+"px":e;const ce=J({name:"UniNavBar",components:{statusBar:J({name:"UniStatusBar",data:()=>({statusBarHeight:N().statusBarHeight+"px"})},[["render",function(e,t,i,o,s,d){const u=p;return a(),n(u,{style:r({height:s.statusBarHeight}),class:"uni-status-bar"},{default:l((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-3da872fd"]])},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},backgroundColor:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},height:{type:[Number,String],default:44},leftWidth:{type:[Number,String],default:60},rightWidth:{type:[Number,String],default:60},stat:{type:[Boolean,String],default:""}},computed:{themeBgColor(){return this.dark?this.backgroundColor?this.backgroundColor:this.dark?"#333":"#FFF":this.backgroundColor||"#FFF"},themeColor(){return this.dark?this.color?this.color:this.dark?"#fff":"#333":this.color||"#333"},navbarHeight(){return re(this.height)},leftIconWidth(){return re(this.leftWidth)},rightIconWidth(){return re(this.rightWidth)}},mounted(){uni.report&&this.stat&&""!==this.title&&uni.report("title",this.title)},methods:{onClickLeft(){this.$emit("clickLeft")},onClickRight(){this.$emit("clickRight")},onClickTitle(){this.$emit("clickTitle")}}},[["render",function(e,t,f,_,g,y){const k=A("status-bar"),b=i(o("uni-icons"),Q),v=p,C=m;return a(),n(v,{class:M(["uni-navbar",{"uni-dark":f.dark,"uni-nvue-fixed":f.fixed}])},{default:l((()=>[s(v,{class:M(["uni-navbar__content",{"uni-navbar--fixed":f.fixed,"uni-navbar--shadow":f.shadow,"uni-navbar--border":f.border}]),style:r({"background-color":y.themeBgColor,"border-bottom-color":y.themeColor})},{default:l((()=>[f.statusBar?(a(),n(k,{key:0})):h("",!0),s(v,{style:r({color:y.themeColor,backgroundColor:y.themeBgColor,height:y.navbarHeight}),class:"uni-navbar__header"},{default:l((()=>[s(v,{onClick:y.onClickLeft,class:"uni-navbar__header-btns uni-navbar__header-btns-left",style:r({width:y.leftIconWidth})},{default:l((()=>[c(e.$slots,"left",{},(()=>[f.leftIcon.length>0?(a(),n(v,{key:0,class:"uni-navbar__content_view"},{default:l((()=>[s(b,{color:y.themeColor,type:f.leftIcon,size:"20"},null,8,["color","type"])])),_:1})):h("",!0),f.leftText.length?(a(),n(v,{key:1,class:M([{"uni-navbar-btn-icon-left":!f.leftIcon.length>0},"uni-navbar-btn-text"])},{default:l((()=>[s(C,{style:r({color:y.themeColor,fontSize:"12px"})},{default:l((()=>[d(u(f.leftText),1)])),_:1},8,["style"])])),_:1},8,["class"])):h("",!0)]),!0)])),_:3},8,["onClick","style"]),s(v,{class:"uni-navbar__header-container",onClick:y.onClickTitle},{default:l((()=>[c(e.$slots,"default",{},(()=>[f.title.length>0?(a(),n(v,{key:0,class:"uni-navbar__header-container-inner"},{default:l((()=>[s(C,{class:"uni-nav-bar-text uni-ellipsis-1",style:r({color:y.themeColor})},{default:l((()=>[d(u(f.title),1)])),_:1},8,["style"])])),_:1})):h("",!0)]),!0)])),_:3},8,["onClick"]),s(v,{onClick:y.onClickRight,class:"uni-navbar__header-btns uni-navbar__header-btns-right",style:r({width:y.rightIconWidth})},{default:l((()=>[c(e.$slots,"right",{},(()=>[f.rightIcon.length?(a(),n(v,{key:0},{default:l((()=>[s(b,{color:y.themeColor,type:f.rightIcon,size:"22"},null,8,["color","type"])])),_:1})):h("",!0),f.rightText.length&&!f.rightIcon.length?(a(),n(v,{key:1,class:"uni-navbar-btn-text"},{default:l((()=>[s(C,{class:"uni-nav-bar-right-text",style:r({color:y.themeColor})},{default:l((()=>[d(u(f.rightText),1)])),_:1},8,["style"])])),_:1})):h("",!0)]),!0)])),_:3},8,["onClick","style"])])),_:3},8,["style"])])),_:3},8,["class","style"]),f.fixed?(a(),n(v,{key:0,class:"uni-navbar__placeholder"},{default:l((()=>[f.statusBar?(a(),n(k,{key:0})):h("",!0),s(v,{class:"uni-navbar__placeholder-view",style:r({height:y.navbarHeight})},null,8,["style"])])),_:1})):h("",!0)])),_:3},8,["class"])}],["__scopeId","data-v-3b2ca166"]]),de=_.database();const ue=J({data:()=>({loading:!0,hasMore:!1,activeIndex:0,value:"",items:["找人","找群"],searchFocus:!1,keyword:"",tabs:[{title:"添加手机联系人",url:""},{title:"扫一扫加好友",url:""},{title:"查找陌生人",url:""}],usersData:[],checkIndex:"",groupData:[]}),computed:{usersList(){let e=_.getCurrentUserInfo().uid,t=g.friend.dataList;return this.usersData.filter((i=>!t.find((e=>e._id==i._id))&&i._id!=e))},groupList(){let e=g.group.dataList;return this.groupData.filter((t=>(console.log("i.group_info._id == item._id",t.group_info,t._id),!t.group_info||!e.find((e=>e.group_info._id==t._id)))))}},mounted(){this.getUserList(),this.getGroupsList()},methods:{async getGroupsList(){const e=await de.collection("uni-im-group").get();e.result.data.length&&(this.loading=!1,this.hasMore=!0,this.groupData=e.result.data)},async getUserList(){try{let e=(await de.collection("uni-id-users").field("_id,nickname,avatar_file").get()).result.data;e.length&&(this.loading=!1,this.hasMore=!0,this.usersData=e)}catch(e){console.log(e)}},back(){j()},async doSearch(e){if(console.log("doSearch: ",e,this.keyword),this.activeIndex){let e=await de.collection("uni-im-group").where(`\n\t\t\t\t\t\t\t"name" == "${this.keyword}" || \n\t\t\t\t\t\t\t"_id" == "${this.keyword}"\n\t\t\t\t\t\t`).get();console.log(e),this.groupData=e.result.data}else{let e=await de.collection("uni-id-users").where(`\n\t\t\t\t\t\t\t\t\t\t\t"_id"\t\t==\t"${this.keyword}" || \n\t\t\t\t\t\t\t\t\t\t\t"username"\t==\t"${this.keyword}" || \n\t\t\t\t\t\t\t\t\t\t\t"nickname"\t==\t"${this.keyword}" || \n\t\t\t\t\t\t\t\t\t\t\t"email"\t\t==\t"${this.keyword}" || \n\t\t\t\t\t\t\t\t\t\t\t"mobile"\t==\t"${this.keyword}" \n\t\t\t\t\t\t\t\t\t\t`).field("_id,nickname,avatar_file").get();console.log(e),this.usersData=e.result.data}},doClear(){this.keyword="",this.getUserList(),this.getGroupsList()},setActiveIndex(e){this.activeIndex!=e.currentIndex&&(this.activeIndex=e.currentIndex)},addUser(e){this.checkIndex=e,this.$refs.popup.open()},async confirm(e){if(this.value=e,this.$refs.popup.close(),0===this.activeIndex){const e=_.importObject("uni-im-co");await e.addFriendInvite({to_uid:this.usersList[this.checkIndex]._id,message:this.value}).then((e=>{console.log("res: ",e),P({title:"已申请",icon:"none"})})).catch((e=>{C({content:e.message||"请求服务失败",showCancel:!1})}))}else de.collection("uni-im-group-join").add({group_id:this.groupList[this.checkIndex]._id,message:this.value}).then((e=>{console.log("res: ",e),P({icon:"none",title:"已申请"})})).catch((e=>{C({content:e.message||"请求服务失败",showCancel:!1})}));setTimeout((()=>{this.value=""}),100)},close(){console.log("取消了"),this.$refs.popup.close()}}},[["render",function(e,t,r,c,u,f){const _=i(o("uni-segmented-control"),se),g=p,y=i(o("uni-nav-bar"),ce),k=i(o("uni-search-bar"),te),b=m,v=i(o("uni-list-chat"),X),C=i(o("uni-list"),q),x=i(o("uni-load-more"),E),w=i(o("uni-popup-dialog"),Y),F=i(o("uni-popup"),K);return a(),n(g,null,{default:l((()=>[s(y,{color:"#999",fixed:!0,"background-color":"#ffffff","status-bar":"","left-icon":"left",onClickLeft:f.back},{default:l((()=>[s(g,{class:"segmented-box"},{default:l((()=>[s(_,{values:u.items,onClickItem:f.setActiveIndex,styleType:"button",activeColor:"#5fc08e",style:{width:"120px"}},null,8,["values","onClickItem"])])),_:1})])),_:1},8,["onClickLeft"]),s(g,{class:"content"},{default:l((()=>[s(k,{placeholder:u.activeIndex?"搜索群名称/群号":"搜索手机号/用户名/用户昵称",radius:100,bgColor:"#eeeeee",modelValue:u.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>u.keyword=e),onConfirm:f.doSearch,onFocus:t[1]||(t[1]=e=>u.searchFocus=!0),onBlur:t[2]||(t[2]=e=>u.searchFocus=!1),onCancel:f.doClear,onClear:f.doClear},null,8,["placeholder","modelValue","onConfirm","onCancel","onClear"]),0===u.activeIndex?(a(),n(g,{key:0},{default:l((()=>[f.usersList.length?(a(),n(C,{key:0},{default:l((()=>[(a(!0),I(T,null,S(f.usersList,((e,t)=>(a(),n(v,{key:t,title:e.nickname,avatarCircle:!0,avatar:e.avatar_file&&e.avatar_file.url?e.avatar_file.url:"/uni_modules/uni-im/static/avatarUrl.png"},{default:l((()=>[s(b,{onClick:e=>f.addUser(t),class:"chat-custom-right"},{default:l((()=>[d("加为好友")])),_:2},1032,["onClick"])])),_:2},1032,["title","avatar"])))),128))])),_:1})):(a(),n(x,{key:1,status:u.loading?"loading":u.hasMore?"hasMore":"noMore"},null,8,["status"]))])),_:1})):h("",!0),1===u.activeIndex?(a(),n(g,{key:1},{default:l((()=>[f.groupList.length?(a(),n(C,{key:0},{default:l((()=>[(a(!0),I(T,null,S(f.groupList,((e,t)=>(a(),n(v,{key:t,title:e.name,avatarCircle:!0,avatar:e.avatar_file&&e.avatar_file.url?e.avatar_file.url:"/uni_modules/uni-im/static/avatarUrl.png"},{default:l((()=>[s(b,{onClick:e=>f.addUser(t),class:"chat-custom-right"},{default:l((()=>[d("申请加入")])),_:2},1032,["onClick"])])),_:2},1032,["title","avatar"])))),128))])),_:1})):(a(),n(x,{key:1,status:u.loading?"loading":u.hasMore?"hasMore":"noMore"},null,8,["status"]))])),_:1})):h("",!0)])),_:1}),s(F,{ref:"popup",type:"dialog"},{default:l((()=>[s(w,{mode:"input",title:u.activeIndex?"申请加群":"申请添加好友",placeholder:"请输入验证信息",confirmText:"发送",message:"成功消息",duration:2e3,"before-close":!0,value:u.value,onClose:f.close,onConfirm:f.confirm},null,8,["title","value","onClose","onConfirm"])])),_:1},512)])),_:1})}],["__scopeId","data-v-0867816f"]]);const he=J({data:()=>({keyword:"",groupData:!1}),computed:{isWidescreen:()=>g.isWidescreen,groupList(){let e=g.group.get();return this.keyword?e.filter((e=>e.group_info.name.includes(this.keyword)||e.group_info._id.includes(this.keyword))):e},groupHasMore:()=>g.group.hasMore},onLoad(){},methods:{doClear(){this.keyword=""},toChat(e){let t="group_"+e;if(this.isWidescreen)b("uni-im-toChat",t);else{let e="/uni_modules/uni-im/pages/chat/chat?conversation_id="+t;k({url:e,animationDuration:300,fail:t=>{v({url:e,animationDuration:300,fail:e=>{console.error(t,e)}})}})}}}},[["render",function(e,t,r,c,d,u){const h=i(o("uni-search-bar"),te),f=i(o("uni-list-chat"),X),m=i(o("uni-list"),q),_=i(o("uni-load-more"),E),g=p;return a(),n(g,null,{default:l((()=>[s(h,{placeholder:"搜索群号/群名称",radius:100,bgColor:"#eeeeee",modelValue:d.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>d.keyword=e),onCancel:u.doClear,onClear:u.doClear},null,8,["modelValue","onCancel","onClear"]),s(m,{border:!1},{default:l((()=>[(a(!0),I(T,null,S(u.groupList,((e,t)=>(a(),n(f,{key:t,onClick:t=>u.toChat(e.group_info._id),link:"",title:e.group_info.name,avatar:e.group_info.avatar_file&&e.group_info.avatar_file.url?e.group_info.avatar_file.url:"/uni_modules/uni-im/static/avatarUrl.png"},null,8,["onClick","title","avatar"])))),128))])),_:1}),s(_,{status:u.groupHasMore?"loading":"noMore"},null,8,["status"])])),_:1})}]]),pe=_.database();const fe=J({data:()=>({loading:!0,hasMore:!1,keyword:"",checkFriendIds:[],friendData:[],groupMemberUid:[],group_id:!1}),computed:{friendList(){return this.friendData.filter((e=>!this.groupMemberUid.includes(e._id)))},checkFriendNum(){return this.checkFriendIds.length>0?"（"+this.checkFriendIds.length+"）":""},btnText(){return this.group_id?"立即邀请":"立即创建"},checkFriendsWidth(){return this.checkFriendIds.length>6?"360":65*this.checkFriendIds.length},translateXWidth(){return this.checkFriendIds.length>6?65*this.checkFriendIds.length:"60"},checkFriendImg(){return this.friendList.reduce(((e,t)=>(this.checkFriendIds.includes(t._id)&&e.push(t),e)),[]).map((e=>e.avatar_file))}},async onLoad(e){this.setParam(e)},methods:{async setParam(e={}){if(console.log("group_id",e),e.group_id){this.group_id=e.group_id,B({title:"邀请新成员"});let t=await pe.collection("uni-im-group-member").where({group_id:e.group_id}).get();console.log("res:查本群，成员 ",t),this.groupMemberUid=t.result.data.map((e=>e.user_id)),console.log("this.groupMemberUid",this.groupMemberUid)}this.getFriendsData()},async getFriendsData(){let e={};this.keyword&&(e=`\n\t\t\t\t\t\t"_id"\t\t== \t"${this.keyword}" ||\n\t\t\t\t\t\t"username"\t== \t"${this.keyword}" || \n\t\t\t\t\t\t"nickname"\t== \t"${this.keyword}" || \n\t\t\t\t\t\t"email"\t\t== \t"${this.keyword}" || \n\t\t\t\t\t\t"mobile"\t== \t"${this.keyword}" \n\t\t\t\t\t`);let t=(await pe.collection(pe.collection("uni-im-friend").where('"user_id" == $cloudEnv_uid').field("friend_uid,mark,class_name").getTemp(),pe.collection("uni-id-users").where(e).field("_id,nickname,avatar_file").getTemp()).get()).result.data;t.forEach(((e,i)=>{e.friend_uid[0]?t[i]=e.friend_uid[0]:delete t[i]})),this.friendData=t,this.loading=!1,this.hasMore=0!=this.friendList.length},doClear(){this.keyword="",this.getFriendsData()},checkboxChange(e){this.checkFriendIds=e.detail.value},async createGroup(){const e=_.importObject("uni-im-co");let t=await e.chooseUserIntoGroup({user_ids:this.checkFriendIds,group_id:this.group_id});this.checkFriendIds=[],this.group_id?j({delta:1}):g.isWidescreen?b("uni-im-toChat","group_"+t.data.group_id):V({url:"/uni_modules/uni-im/pages/chat/chat?conversation_id=group_"+t.data.group_id,animationDuration:300,fail:e=>{console.log(e)}})}}},[["render",function(e,t,r,c,h,f){const m=i(o("uni-search-bar"),te),_=p,g=W,y=i(o("uni-list-chat"),X),k=i(o("uni-list"),q),b=H,v=G,C=$,x=i(o("uni-load-more"),E);return a(),n(_,{class:"create-group-box"},{default:l((()=>[s(_,{class:"header-box"},{default:l((()=>[s(m,{modelValue:h.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>h.keyword=e),placeholder:"搜索",bgColor:"#fff",radius:100,onConfirm:f.getFriendsData,onCancel:f.doClear,onClear:f.doClear},null,8,["modelValue","onConfirm","onCancel","onClear"])])),_:1}),s(_,{class:"content-box"},{default:l((()=>[s(v,{onChange:f.checkboxChange},{default:l((()=>[(a(!0),I(T,null,S(f.friendList,((e,t)=>(a(),n(b,{key:t,class:"label-box"},{default:l((()=>[s(g,{value:e._id,class:"checkbox"},null,8,["value"]),s(_,null,{default:l((()=>[s(k,{border:!1},{default:l((()=>[s(y,{"avatar-circle":!0,title:e.nickname,avatar:e.avatar_file&&e.avatar_file.url?e.avatar_file.url:"/uni_modules/uni-im/static/avatarUrl.png"},null,8,["title","avatar"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["onChange"])])),_:1}),s(_,{class:"foot-box"},{default:l((()=>[s(C,{disabled:!!h.group_id&&!h.checkFriendIds.length,class:"btn",type:"primary",onClick:f.createGroup},{default:l((()=>[d(u(f.btnText)+u(f.checkFriendNum),1)])),_:1},8,["disabled","onClick"])])),_:1}),s(x,{status:h.loading?"loading":h.hasMore?"hasMore":"noMore",contentText:{contentnomore:f.friendList.length?"没有更多好友":"没有可以选择的好友"}},null,8,["status","contentText"])])),_:1})}],["__scopeId","data-v-3475efd0"]]),me=_.database();const _e=J({data:()=>({friend_uid:"",friend_info:{username:"",nickname:"",avatar_file:{url:""}}}),props:{conversation_id:{default:()=>!1}},computed:{isFriend(){return g.friend.get().find((e=>e._id==this.friend_uid))}},async onLoad(e){this.load(e)},async mounted(){this.conversation_id&&this.load({conversation_id:this.conversation_id})},methods:{async load(e){if(e.conversation_id){let t=await g.conversation.get(e.conversation_id);e.user_id=t.friend_uid}this.friend_uid=e.user_id;let t=await me.collection("uni-id-users").doc(this.friend_uid).field("_id,nickname,avatar_file").get();this.friend_info=t.result.data[0]},async deteleFriend(){C({title:"确认要删除好友吗",content:"此操作不可撤销",showCancel:!0,cancelText:"取消",confirmText:"确认",complete:async e=>{if(e.confirm){x({mask:!0});try{await me.collection("uni-im-friend").where({friend_uid:this.friend_uid,user_id:_.getCurrentUserInfo().uid}).remove(),j({delta:2})}catch(t){C({content:JSON.stringify(t.message),showCancel:!1})}w()}}})}}},[["render",function(e,t,r,c,u,h){const f=i(o("uni-list-chat"),X),_=i(o("uni-list"),q),g=$,y=m,k=p;return a(),n(k,{class:"container"},{default:l((()=>[s(_,{border:!1,class:"list"},{default:l((()=>[s(f,{avatar:u.friend_info.avatar_file?u.friend_info.avatar_file.url:"/uni_modules/uni-im/static/avatarUrl.png",title:u.friend_info.nickname},null,8,["avatar","title"])])),_:1}),h.isFriend?(a(),n(g,{key:0,class:"btn",plain:"",type:"warn",onClick:h.deteleFriend},{default:l((()=>[d("删除好友")])),_:1},8,["onClick"])):(a(),n(y,{key:1,style:{color:"#999","font-size":"14px"}},{default:l((()=>[d("- 非好友的临时会话无法设置 -")])),_:1}))])),_:1})}],["__scopeId","data-v-537033a2"]]),ge=_.database();const ye=J({data:()=>({conversation:{group_info:{user_id:""},group_member:{}},member_list:[],manage:!1,editorType:"",value:"",groupType:"",isAdmin:!1}),computed:{...g.mapState(["isWidescreen"]),logoUrl(){return!!this.conversation.group_info.avatar_file&&this.conversation.group_info.avatar_file.url},join_option(){return{needPermission:"需要验证权限",freeAccess:"自由加入",disableApply:"禁止加入"}[this.conversation.group_info.join_option]}},watch:{"conversation.group_info.user_id"(e){if(this.isAdmin=e==_.getCurrentUserInfo().uid,this.isAdmin)this.isWidescreen&&(this.manage=!0);else if(!this.isWidescreen){document.getElementsByClassName("uni-page-head-btn")[1].style.visibility="hidden"}},"conversation.group_member":{handler(e,t){console.log("group_member",e),this.member_list=[];for(let o in e)this.member_list.push(e[o]);let i="群信息（"+this.member_list.length+"人）";B({title:i})},deep:!0,immediate:!0}},props:{conversation_id:{default:()=>!1}},async onLoad(e){if(!e.conversation_id)throw new Error("会话id不能为空");this.load(e.conversation_id)},mounted(){this.conversation_id&&this.load(this.conversation_id)},onShow(){},onNavigationBarButtonTap(e){if(0===e.index){this.manage=!this.manage,document.getElementsByClassName("uni-btn-icon")[1].innerHTML=this.manage?"退出管理":"管理"}},methods:{async load(e){this.conversation=await g.conversation.get(e)},async expel(e){C({title:"确定要将该用户移出本群吗？",content:"不能撤销，请谨慎操作",cancelText:"取消",confirmText:"确认",complete:async t=>{if(t.confirm){x({mask:!0});try{(await ge.collection("uni-im-group-member").where({user_id:e._id,group_id:this.conversation.group_info._id}).remove()).result.deleted&&P({title:"成功移除",icon:"none",complete:()=>{}})}catch(i){P({title:i.message,icon:"error",complete:()=>{}})}w()}}})},invite(){console.log("group_info._id",this.conversation.group_info._id),k({url:"/uni_modules/uni-im/pages/contacts/createGroup/createGroup?group_id="+this.conversation.group_info._id})},async exitGroup(){const e=this.conversation.group_info._id;this.isAdmin?C({title:"确认要解散群聊吗？",content:"不能撤销，请谨慎操作",cancelText:"取消",confirmText:"确认",complete:async t=>{if(console.log(t),t.confirm){x({mask:!0});let t=await ge.collection("uni-im-group").where({_id:e}).remove().finally((e=>{w()}));console.log("exitGroup",t)}}}):C({title:"确认要退出群聊吗？",content:"不能撤销，请谨慎操作",cancelText:"取消",confirmText:"确认",complete:async t=>{if(console.log(t),t.confirm){x({mask:!0});let t=await ge.collection("uni-im-group-member").where({user_id:_.getCurrentUserInfo().uid,group_id:e}).remove();t.result.deleted&&P({title:"成功退出",icon:"none"}),w(),console.log("exitGroup",t)}}})},openPopupInfo(e){console.log(e),this.isAdmin&&(this.editorType=e,console.log(this.conversation.group_info.name,11),console.log(this.conversation.group_info.introduction,22),"editorName"==e&&this.conversation.group_info.name?this.value=this.conversation.group_info.name:"editorInfo"==e&&this.conversation.group_info.introduction?this.value=this.conversation.group_info.introduction:this.value="",this.$refs.popupInfo.open())},closePopupInfo(){this.$refs.popupInfo.close()},confirmPopupInfo(e){e?(console.log("----",e),"editorName"==this.editorType?this.editGroupInfo({name:e}):this.editGroupInfo({introduction:e}),this.$refs.popupInfo.close()):P({title:"内容不能为空！",icon:"none"})},setAddGroupType(){this.isAdmin&&R({itemList:["自由加入","需要验证权限","禁止加入"],success:e=>{let t=["freeAccess","needPermission","disableApply"][e.tapIndex];this.editGroupInfo({join_option:t})},fail:e=>{console.log("err: ",e)}})},async editGroupInfo(e){console.log("group_info---------",e),this.conversation.group_info=Object.assign(this.conversation.group_info,e);let t=await ge.collection("uni-im-group").doc(this.conversation.group_id).update(e);console.log("change group info",t.result.updated,this.conversation)},async setAvatar(){if(!this.isAdmin)return;const e={quality:100,width:600,height:600,resize:!0};z({count:1,crop:e,success:async t=>{console.log(899889,t);let i=t.tempFiles[0],o={extname:i.name.split(".")[i.name.split(".").length-1]},a=t.tempFilePaths[0],n=!1;n=!["ios","android"].includes(N().platform),n||(a=await new Promise((t=>{k({url:"/uni_modules/uni-id-pages/pages/userinfo/cropImage/cropImage?path="+a+`&options=${JSON.stringify(e)}`,animationType:"fade-in",events:{success:e=>{t(e)}},complete(e){}})})));let l=_.getCurrentUserInfo().uid+""+Date.now();o.name=l,x({title:"更新中",mask:!0});let{fileID:s}=await _.uploadFile({filePath:a,cloudPath:l,fileType:"image"});o.url=s,w(),this.editGroupInfo({avatar_file:o})}})},toQRCode(){let e=this.logoUrl?this.logoUrl:"";k({url:"/uni_modules/uni-im/pages/group/groupQRCode?id="+this.conversation.group_info._id+"&name="+this.conversation.group_info.name+"&avatar_file="+e,complete:e=>{}})}}},[["render",function(e,t,r,c,f,_){const g=i(o("uni-icons"),Q),y=p,k=m,b=L,v=U,C=i(o("uni-list-item"),O),x=i(o("uni-list"),q),w=$,F=i(o("uni-popup-dialog"),Y),B=i(o("uni-popup"),K);return a(),n(y,{class:"pages"},{default:l((()=>[s(y,{class:"usersInfo"},{default:l((()=>[s(v,{class:"usersInfo","scroll-y":"true","enable-flex":!0},{default:l((()=>[s(y,{style:{height:"150px",width:"750rpx","flex-direction":"row","flex-wrap":"wrap"}},{default:l((()=>[s(y,{class:"invite-box"},{default:l((()=>[s(y,{class:"invite"},{default:l((()=>[s(g,{onClick:_.invite,color:"#989898",size:"20px",class:"plusempty",type:"plusempty"},null,8,["onClick"])])),_:1}),s(k,{class:"nickname"},{default:l((()=>[d("邀请")])),_:1})])),_:1}),(a(!0),I(T,null,S(f.member_list,((e,t)=>(a(),n(y,{class:"item",key:t},{default:l((()=>[s(b,{class:"avatar",src:e.avatar_file?e.avatar_file.url:"/uni_modules/uni-im/static/avatarUrl.png",mode:"widthFix"},null,8,["src"]),s(k,{class:"nickname"},{default:l((()=>[d(u(e.nickname||"匿名用户"),1)])),_:2},1024),f.manage?(a(),n(g,{key:0,onClick:t=>_.expel(e),color:"#e64348",size:"20px",class:"minus-filled",type:"minus-filled"},null,8,["onClick"])):h("",!0)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),s(x,null,{default:l((()=>[f.conversation.group_id?(a(),n(C,{key:0,onClick:_.toQRCode,clickable:!0,title:"群号和二维码",link:""},{footer:l((()=>[s(y,{class:"slot-code"},{default:l((()=>[s(b,{class:"group-code",src:"/mobile/uni_modules/uni-im/static/qrCode.png",mode:"widthFix"})])),_:1})])),_:1},8,["onClick"])):h("",!0),s(C,{onClick:t[0]||(t[0]=e=>_.openPopupInfo("editorName")),title:"群聊名称",showArrow:f.isAdmin,clickable:!0},{footer:l((()=>[s(k,{class:"introduction"},{default:l((()=>[d(u(f.conversation.group_info.name),1)])),_:1})])),_:1},8,["showArrow"]),s(C,{onClick:t[1]||(t[1]=e=>_.openPopupInfo("editorInfo")),title:"简介",showArrow:f.isAdmin,clickable:!0},{footer:l((()=>[s(k,{class:"introduction"},{default:l((()=>[d(u(f.conversation.group_info.introduction||"未设置"),1)])),_:1})])),_:1},8,["showArrow"]),s(C,{onClick:_.setAvatar,title:"群头像",clickable:!0},{footer:l((()=>[s(b,{class:"logo",src:_.logoUrl||"/uni_modules/uni-im/static/avatarUrl.png",mode:""},null,8,["src"])])),_:1},8,["onClick"]),s(C,{onClick:_.setAddGroupType,title:"加群方式",note:"申请加入本群的验证规则",clickable:!0},{footer:l((()=>[s(k,{class:"join_option"},{default:l((()=>[d(u(_.join_option),1)])),_:1})])),_:1},8,["onClick"])])),_:1}),s(w,{class:"exitGroup",onClick:_.exitGroup},{default:l((()=>[d(u(f.isAdmin?"解散群聊":"退出群聊"),1)])),_:1},8,["onClick"]),s(B,{ref:"popupInfo",type:"dialog"},{default:l((()=>[s(F,{mode:"input",title:"editorName"==f.editorType?"编辑群聊名称":"编辑群聊简介",placeholder:"editorName"==f.editorType?"请输入群聊名称":"请输入群聊简介",duration:2e3,"before-close":!0,value:f.value,onClose:_.closePopupInfo,onConfirm:_.confirmPopupInfo},null,8,["title","placeholder","value","onClose","onConfirm"])])),_:1},512)])),_:1})}],["__scopeId","data-v-843d2234"]]);export{te as _,ue as a,fe as b,oe as c,_e as d,ye as e,he as g,le as n};
