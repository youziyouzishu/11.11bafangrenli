import{A as x,B as A,C}from"./element-plus-64da2267.js";import{P as E}from"./index-e34f0d65.js";import{c as R,d as q,e as P}from"./project_tasks_audit-3342f08f.js";import"./lodash-2cc29f39.js";import{d as b,b0 as f,r as T,b as U,aZ as _,o as h,c as B,G as a,aM as u,aV as l}from"./@vue-25170201.js";const F={class:"edit-popup"},G=b({name:"projectTasksAuditEdit"}),H=b({...G,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(M,{expose:V,emit:g}){const n=g,m=f(),p=f(),i=T("add"),k=U(()=>i.value=="edit"?"编辑招聘任务审核":"新增招聘任务审核"),t=_({id:"",project_id:"",user_id:"",type:"",status:"",remarks:""}),y=_({project_id:[{required:!0,message:"请输入项目ID",trigger:["blur"]}],user_id:[{required:!0,message:"请输入用户ID",trigger:["blur"]}],type:[{required:!0,message:"请输入类型(1=职员,2=招聘经理,3=驻场经理)",trigger:["blur"]}],status:[{required:!0,message:"请输入状态(1=待审核,2=通过,3=拒绝)",trigger:["blur"]}],remarks:[{required:!0,message:"请输入拒绝说明",trigger:["blur"]}]}),c=async o=>{for(const e in t)o[e]!=null&&o[e]!=null&&(t[e]=o[e])},D=async o=>{const e=await R({id:o.id});c(e)},j=async()=>{var e,s;await((e=m.value)==null?void 0:e.validate());const o={...t};i.value=="edit"?await q(o):await P(o),(s=p.value)==null||s.close(),n("success")},v=(o="add")=>{var e;i.value=o,(e=p.value)==null||e.open()},w=()=>{n("close")};return V({open:v,setFormData:c,getDetail:D}),(o,e)=>{const s=x,d=A,I=C;return h(),B("div",F,[a(E,{ref_key:"popupRef",ref:p,title:l(k),async:!0,width:"550px",onConfirm:j,onClose:w},{default:u(()=>[a(I,{ref_key:"formRef",ref:m,model:l(t),"label-width":"90px",rules:l(y)},{default:u(()=>[a(d,{label:"项目ID",prop:"project_id"},{default:u(()=>[a(s,{modelValue:l(t).project_id,"onUpdate:modelValue":e[0]||(e[0]=r=>l(t).project_id=r),clearable:"",placeholder:"请输入项目ID"},null,8,["modelValue"])]),_:1}),a(d,{label:"用户ID",prop:"user_id"},{default:u(()=>[a(s,{modelValue:l(t).user_id,"onUpdate:modelValue":e[1]||(e[1]=r=>l(t).user_id=r),clearable:"",placeholder:"请输入用户ID"},null,8,["modelValue"])]),_:1}),a(d,{label:"类型(1=职员,2=招聘经理,3=驻场经理)",prop:"type"},{default:u(()=>[a(s,{modelValue:l(t).type,"onUpdate:modelValue":e[2]||(e[2]=r=>l(t).type=r),clearable:"",placeholder:"请输入类型(1=职员,2=招聘经理,3=驻场经理)"},null,8,["modelValue"])]),_:1}),a(d,{label:"状态(1=待审核,2=通过,3=拒绝)",prop:"status"},{default:u(()=>[a(s,{modelValue:l(t).status,"onUpdate:modelValue":e[3]||(e[3]=r=>l(t).status=r),clearable:"",placeholder:"请输入状态(1=待审核,2=通过,3=拒绝)"},null,8,["modelValue"])]),_:1}),a(d,{label:"拒绝说明",prop:"remarks"},{default:u(()=>[a(s,{modelValue:l(t).remarks,"onUpdate:modelValue":e[4]||(e[4]=r=>l(t).remarks=r),clearable:"",placeholder:"请输入拒绝说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{H as _};
