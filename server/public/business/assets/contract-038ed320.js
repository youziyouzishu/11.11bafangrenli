import{l as $,O as z,P as H,A as J,B as Q,C as W,S as X,N as ee,L as le,M as te}from"./element-plus-64da2267.js";import{d as T,b0 as V,r as E,b as oe,aZ as _,o as f,c,G as t,aM as r,E as s,aO as re,aK as ae,a as n,aw as b,u as S,F as ue,aj as de,t as se,af as me,ae as ne}from"./@vue-25170201.js";import{P as pe}from"./index-e34f0d65.js";import{a as ie,b as F}from"./project_tasks_audit-3342f08f.js";import{_ as fe}from"./@tencentcloud-25a17c42.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@element-plus-9559a6ac.js";import"./dayjs-346d7cd4.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./index-7638d9aa.js";import"./@vueuse-944ef3f4.js";import"./lodash-2cc29f39.js";import"./axios-67477f72.js";import"./vue-router-f7517f62.js";import"./pinia-1182f1fa.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./nprogress-ccaead9e.js";import"./@tiptap-008a465d.js";import"./prosemirror-state-c544e594.js";import"./prosemirror-model-8b0495eb.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-fc1f2a72.js";import"./prosemirror-view-ef3f9f96.js";import"./prosemirror-keymap-776f822d.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-5c2a1a07.js";import"./prosemirror-schema-list-1c96ec4d.js";import"./vue-clipboard3-f5f9feb9.js";import"./clipboard-3d849c41.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-1b502259.js";import"./@highlightjs-7a15facb.js";import"./path-to-regexp-767716ea.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const k=y=>(me("data-v-a59598f5"),y=y(),ne(),y),be={class:"contract-popup"},ce={key:0},ye={class:"contract"},ge={style:{color:"red"}},Ve=k(()=>n("br",null,null,-1)),_e={style:{color:"red"}},ve=k(()=>n("br",null,null,-1)),we={style:{color:"red"}},xe=k(()=>n("br",null,null,-1)),Se={style:{color:"red"}},ke={key:1},Me={key:2},Ue=T({name:"projectTasksAuditEdit"}),De=T({...Ue,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(y,{expose:C,emit:Y}){const M=Y,h=V(),R=V(),P=V(),v=V(),p=E("2"),U=E([]),B=oe(()=>p.value=="2"?"招聘方合同":"驻场方合同"),l=_({id:0,paymentDate:"",penaltyFee:"",feeStandardType:"元/人",feeStandardAmount:"",accountServiceFeeType:"免费",accountServiceFeeAmount:"",serverAddress:"",serverSdate:"",serverEdate:"",ratio:0,cost3:0,cost4:0,cost5:0,cost6:0,cost7:0,cost8:0,cost13:0,cost14:0,status:1,workSdate:"",workEdate:"",workMonth:"",workPosition:"",payCost:0,project_id:0,type:0,onsite_id:void 0}),D=_({paymentDate:[{required:!0,message:"请输入支付日期",trigger:["blur"]},{type:"number",min:1,max:28,message:"数字必须在 1 到 28 号之前的数字",trigger:"blur"}],penaltyFee:[{required:!0,message:"请输入违约金",trigger:["blur"]}],accountServiceFeeAmount:[{required:!1,message:"请输入招聘账号服务费具体金额",trigger:["blur"]}],feeStandardAmount:[{required:!0,message:"请输入结算费用标准具体金额",trigger:["blur"]}]}),q=_({paymentDate:[{required:!0,message:"请输入支付日期",trigger:["blur"]},{type:"number",min:1,max:28,message:"数字必须在 1 到 28 号之前的数字",trigger:"blur"}],feeStandardAmount:[{required:!0,message:"请输入结算费用标准具体金额",trigger:["blur"]}],serverAddress:[{required:!0,message:"请输入服务地址",trigger:["blur"]}],serverSdate:[{required:!0,message:"请输入合同开始日期",trigger:["blur"]}],serverEdate:[{required:!0,message:"请输入合同结束日期",trigger:["blur"]}],cost3:[{type:"number",min:1,max:100,message:"数字必须在 1 到 100 之间",trigger:"blur",required:!0}],cost4:[{type:"number",min:1,max:100,message:"数字必须在 1 到 100 之间",trigger:"blur",required:!0}],cost5:[{type:"number",min:1,max:1e3,message:"数字必须在 1 到 1000 之间",trigger:"blur",required:!0}],cost6:[{type:"number",min:1,max:100,message:"数字必须在 1 到 100 之间",trigger:"blur",required:!0}],cost7:[{type:"number",min:1,max:100,message:"数字必须在 1 到 100 之间",trigger:"blur",required:!0}],cost8:[{type:"number",min:1,max:100,message:"数字必须在 1 到 100 之间",trigger:"blur",required:!0}],cost13:[{type:"number",min:1,max:100,message:"数字必须在 1 到 100 之间",trigger:"blur",required:!0}],cost14:[{type:"number",min:1,max:100,message:"数字必须在 1 到 100 之间",trigger:"blur",required:!0}],ratio:[{type:"number",min:1,max:100,message:"数字必须在 1 到 100 之间",trigger:"blur",required:!0}]}),A=_({onsite_id:[{required:!0,message:"请输选择驻场经理",trigger:["blur"]}],paymentDate:[{required:!0,message:"请输入支付日期",trigger:["blur"]},{type:"number",min:1,max:28,message:"数字必须在 1 到 28 号之前的数字",trigger:"blur"}],workSdate:[{required:!0,message:"请输入合同开始日期",trigger:["blur"]}],workEdate:[{required:!0,message:"请输入合同结束日期",trigger:["blur"]}],workPosition:[{required:!0,message:"请输入工作岗位",trigger:["blur"]}],workMonth:[{type:"number",min:1,max:300,message:"数字必须在 1 到 300 之间",trigger:"blur",required:!0}],payCost:[{type:"number",min:500,max:5e4,message:"数字必须在 500 到 50000 之间",trigger:"blur",required:!0}]}),j=async d=>{for(const e in l)d[e]!=null&&d[e]!=null&&(l[e]=d[e])},N=async d=>{U.value=await ie({project_id:d.project_id,type:3})},I=async()=>{var i;var d;switch(p.value){case"2":d=D;break;case"3":d=q;break;case"4":d=A;break}try{await(d==null?void 0:d.validate())}catch(u){console.error("表单验证失败:",u);return}const e={...l},m=p.value=="2"?await F(e):await F(e);(i=v.value)==null||i.close(),M("success"),L("签署合同需跳转到e签宝",m.data.url)},O=(d="2")=>{var e;p.value=d,(e=v.value)==null||e.open()},G=()=>{M("close")};C({open:O,setFormData:j});const L=(d,e)=>{$.confirm(d,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const m=e;window.open(m,"_blank")}).catch(()=>{})};return(d,e)=>{const m=z,i=H,u=J,a=Q,w=W,x=X,g=ee,K=le,Z=te;return f(),c("div",be,[t(pe,{ref_key:"popupRef",ref:v,title:B.value,async:!0,width:"720px",onConfirm:I,onClose:G},{default:r(()=>[p.value==2?(f(),c("div",ce,[t(w,{ref_key:"formRef",ref:h,model:l,"label-width":"130px",rules:D},{default:r(()=>[t(a,{label:"招聘账号服务费"},{default:r(()=>[t(i,{modelValue:l.accountServiceFeeType,"onUpdate:modelValue":e[0]||(e[0]=o=>l.accountServiceFeeType=o)},{default:r(()=>[t(m,{label:"免费"},{default:r(()=>[s("免费")]),_:1}),t(m,{label:"元/月"},{default:r(()=>[s("元/月")]),_:1}),t(m,{label:"元/天"},{default:r(()=>[s("元/天")]),_:1})]),_:1},8,["modelValue"]),re(t(u,{type:"number",class:"mt-2",modelValue:l.accountServiceFeeAmount,"onUpdate:modelValue":e[1]||(e[1]=o=>l.accountServiceFeeAmount=o),placeholder:"请输入具体金额"},null,8,["modelValue"]),[[ae,l.accountServiceFeeType!=="免费"]])]),_:1}),t(a,{label:"费用标准"},{default:r(()=>[t(i,{modelValue:l.feeStandardType,"onUpdate:modelValue":e[2]||(e[2]=o=>l.feeStandardType=o)},{default:r(()=>[t(m,{label:"元/人"},{default:r(()=>[s("元/人")]),_:1}),t(m,{label:"元/班次"},{default:r(()=>[s("元/班次")]),_:1}),t(m,{label:"元/小时"},{default:r(()=>[s("元/小时")]),_:1})]),_:1},8,["modelValue"]),t(u,{type:"number",class:"mt-2",modelValue:l.feeStandardAmount,"onUpdate:modelValue":e[3]||(e[3]=o=>l.feeStandardAmount=o),placeholder:"请输入具体金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"支付日期"},{default:r(()=>[t(u,{type:"number",modelValue:l.paymentDate,"onUpdate:modelValue":e[4]||(e[4]=o=>l.paymentDate=o),placeholder:"请输入支付日"},null,8,["modelValue"])]),_:1}),t(a,{label:"违约金"},{default:r(()=>[t(u,{type:"number",modelValue:l.penaltyFee,"onUpdate:modelValue":e[5]||(e[5]=o=>l.penaltyFee=o),placeholder:"请输入违约金"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),t(x,{type:"error",title:"以上内容会替换合同中的信息，请仔细填写，签署后合同生效",closable:!1,"show-icon":""}),n("div",ye,[n("p",null,[s("1、可根据招聘方需求为其提供招聘账号，可以收费，需要提前说明收费标准 "),n("span",ge,b(l.accountServiceFeeAmount)+" "+b(l.accountServiceFeeType),1),s(" ，如没有提前说明则视为免费为招聘方提供招聘账号。 ")]),Ve,n("p",null,[s("2、费用标准：按乙方招聘最终入职人数 "),n("span",_e,b(l.feeStandardAmount)+" "+b(l.feeStandardType),1),s("的标准支付乙方的招聘费用。")]),ve,n("p",null,[s("3、支付方式：甲方根据项目按月支付乙方招聘费用（不含税），每月 "),n("span",we,b(l.paymentDate),1),s(" 日支付上个月费用。")]),xe,n("p",null,[s("4、乙方不得虚假，夸大宣传，否则无论此人是否为有效产生费用人员，甲方都有权不予结算，并承担违约责任 "),n("span",Se,b(l.penaltyFee),1),s(" 元/人。 ")])])])):S("",!0),p.value==3?(f(),c("div",ke,[t(w,{ref_key:"formRef2",ref:R,model:l,"label-width":"330px",rules:q},{default:r(()=>[t(a,{label:"服务地址",prop:"serverAddress"},{default:r(()=>[t(u,{modelValue:l.serverAddress,"onUpdate:modelValue":e[6]||(e[6]=o=>l.serverAddress=o),placeholder:"请输入服务地址"},null,8,["modelValue"])]),_:1}),t(a,{label:"服务开始时间",prop:"serverSdate"},{default:r(()=>[t(g,{class:"flex-1 !flex",modelValue:l.serverSdate,"onUpdate:modelValue":e[7]||(e[7]=o=>l.serverSdate=o),clearable:"",type:"date","value-format":"YYYY-MM-DD",placeholder:"发布时间",wdith:"400px;"},null,8,["modelValue"])]),_:1}),t(a,{label:"服务结束时间",prop:"serverEdate"},{default:r(()=>[t(g,{class:"flex-1 !flex",modelValue:l.serverEdate,"onUpdate:modelValue":e[8]||(e[8]=o=>l.serverEdate=o),clearable:"",type:"date","value-format":"YYYY-MM-DD",placeholder:"发布时间",wdith:"400px;"},null,8,["modelValue"])]),_:1}),t(a,{label:"费用标准",prop:"feeStandardAmount"},{default:r(()=>[t(i,{modelValue:l.feeStandardType,"onUpdate:modelValue":e[9]||(e[9]=o=>l.feeStandardType=o)},{default:r(()=>[t(m,{label:"元/人"},{default:r(()=>[s("元/人")]),_:1}),t(m,{label:"元/班次"},{default:r(()=>[s("元/班次")]),_:1}),t(m,{label:"元/小时"},{default:r(()=>[s("元/小时")]),_:1})]),_:1},8,["modelValue"]),t(u,{type:"number",class:"mt-2",modelValue:l.feeStandardAmount,"onUpdate:modelValue":e[10]||(e[10]=o=>l.feeStandardAmount=o),modelModifiers:{number:!0},placeholder:"请输入具体金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"支付日期",prop:"paymentDate"},{default:r(()=>[t(u,{type:"number",modelValue:l.paymentDate,"onUpdate:modelValue":e[11]||(e[11]=o=>l.paymentDate=o),modelModifiers:{number:!0},placeholder:"请输入支付日"},null,8,["modelValue"])]),_:1}),t(a,{label:"终止产生费用百分比","label-width":"330px",prop:"ratio"},{default:r(()=>[t(u,{type:"number",modelValue:l.ratio,"onUpdate:modelValue":e[12]||(e[12]=o=>l.ratio=o),modelModifiers:{number:!0},placeholder:"请输入具体比例"},null,8,["modelValue"])]),_:1}),t(a,{label:"漏接一人核减","label-width":"330px",prop:"cost3"},{default:r(()=>[t(u,{type:"number",modelValue:l.cost3,"onUpdate:modelValue":e[13]||(e[13]=o=>l.cost3=o),modelModifiers:{number:!0},placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"漏报一人核减",prop:"cost4"},{default:r(()=>[t(u,{type:"number",modelValue:l.cost4,"onUpdate:modelValue":e[14]||(e[14]=o=>l.cost4=o),modelModifiers:{number:!0},placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"因乙方自身原因造成纠纷核减",prop:"cost5"},{default:r(()=>[t(u,{type:"number",modelValue:l.cost5,"onUpdate:modelValue":e[15]||(e[15]=o=>l.cost5=o),modelModifiers:{number:!0},placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"漏做日报核减",prop:"cost6"},{default:r(()=>[t(u,{type:"number",modelValue:l.cost6,"onUpdate:modelValue":e[16]||(e[16]=o=>l.cost6=o),modelModifiers:{number:!0},placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"漏做周报核减",prop:"cost7"},{default:r(()=>[t(u,{type:"number",modelValue:l.cost7,"onUpdate:modelValue":e[17]||(e[17]=o=>l.cost7=o),modelModifiers:{number:!0},placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"漏做月报以及此合同第四款第10、11条，核减",prop:"cost8"},{default:r(()=>[t(u,{type:"number",modelValue:l.cost8,"onUpdate:modelValue":e[18]||(e[18]=o=>l.cost8=o),modelModifiers:{number:!0},placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"虚假招聘信息赔偿",prop:"cost13"},{default:r(()=>[t(u,{type:"number",modelValue:l.cost13,"onUpdate:modelValue":e[19]||(e[19]=o=>l.cost13=o),modelModifiers:{number:!0},placeholder:"请输入金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"已方主动终止合同违约金",prop:"cost14"},{default:r(()=>[t(u,{type:"number",modelValue:l.cost14,"onUpdate:modelValue":e[20]||(e[20]=o=>l.cost14=o),modelModifiers:{number:!0},laceholder:"请输入金额"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),t(x,{type:"error",title:"以上内容会替换合同中的信息，请仔细填写，签署后合同生效",closable:!1,"show-icon":""})])):S("",!0),p.value==4?(f(),c("div",Me,[t(w,{ref_key:"formRef3",ref:P,model:l,"label-width":"130px",rules:A},{default:r(()=>[t(a,{label:"驻场经理",prop:"onsite_id"},{default:r(()=>[t(Z,{modelValue:l.onsite_id,"onUpdate:modelValue":e[21]||(e[21]=o=>l.onsite_id=o),class:"w-[140px]",placeholder:"请选择驻场经理",onChange:d.filterTable,onFocus:e[22]||(e[22]=o=>N(l))},{default:r(()=>[(f(!0),c(ue,null,de(U.value,o=>(f(),se(K,{key:o.user_id,label:o.psn_name,value:o.user_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(a,{label:"工作岗位",prop:"workPosition"},{default:r(()=>[t(u,{modelValue:l.workPosition,"onUpdate:modelValue":e[23]||(e[23]=o=>l.workPosition=o),placeholder:"请输入具体工作岗位"},null,8,["modelValue"])]),_:1}),t(a,{label:"合同开始时间",prop:"workSdate"},{default:r(()=>[t(g,{class:"flex-1 !flex",modelValue:l.workSdate,"onUpdate:modelValue":e[24]||(e[24]=o=>l.workSdate=o),clearable:"",type:"date","value-format":"YYYY-MM-DD",placeholder:"发布时间",wdith:"400px;"},null,8,["modelValue"])]),_:1}),t(a,{label:"合同结束时间",prop:"workEdate"},{default:r(()=>[t(g,{class:"flex-1 !flex",modelValue:l.workEdate,"onUpdate:modelValue":e[25]||(e[25]=o=>l.workEdate=o),clearable:"",type:"date","value-format":"YYYY-MM-DD",placeholder:"发布时间",wdith:"400px;"},null,8,["modelValue"])]),_:1}),t(a,{label:"本合同期限/月",prop:"workMonth"},{default:r(()=>[t(u,{type:"number",class:"mt-2",modelValue:l.workMonth,"onUpdate:modelValue":e[26]||(e[26]=o=>l.workMonth=o),modelModifiers:{number:!0},placeholder:"请输入具体多少个月"},null,8,["modelValue"])]),_:1}),t(a,{label:"工资金额",prop:"payCost"},{default:r(()=>[t(u,{type:"number",class:"mt-2",modelValue:l.payCost,"onUpdate:modelValue":e[27]||(e[27]=o=>l.payCost=o),modelModifiers:{number:!0},placeholder:"请输入具体金额"},null,8,["modelValue"])]),_:1}),t(a,{label:"支付日期",prop:"paymentDate"},{default:r(()=>[t(u,{type:"number",modelValue:l.paymentDate,"onUpdate:modelValue":e[28]||(e[28]=o=>l.paymentDate=o),modelModifiers:{number:!0},placeholder:"请输入支付日"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),t(x,{type:"error",title:"以上内容会替换合同中的信息，请仔细填写，签署后合同生效",closable:!1,"show-icon":""})])):S("",!0)]),_:1},8,["title"])])}}});const ql=fe(De,[["__scopeId","data-v-a59598f5"]]);export{ql as default};
