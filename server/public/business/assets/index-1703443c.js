var N=Object.defineProperty;var O=(i,e,t)=>e in i?N(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var f=(i,e,t)=>(O(i,typeof e!="symbol"?e+"":e,t),t);import{d as U,r as b,b as V,aU as P,o as n,c as a,aV as c,F as g,aj as k,a as r,t as E,aw as x,aR as S,u as _}from"./@vue-25170201.js";import"./adapter-vue-20243c9c.js";import T from"./Icon-fec85db6.js";import{z as h,R as w,r as y,_ as A}from"./@tencentcloud-25a17c42.js";import{a as B}from"./env-6b0ecdb8.js";import{e as I}from"./constant-bad60a54.js";const L="/business/assets/start-group-6d6b5fbb.svg",j="/business/assets/icon-c2c-d80299ab.svg",o=class o{static getInstance(){return o.instance||(o.instance=new o),o.instance}getMenu(){const e=this.generateMenuList();return!B&&e.length>0?[{text:h.t("TUIConversation.发起会话"),data:{name:"all",children:e}}]:e}generateMenuList(){return[{icon:j,text:h.t("TUIConversation.发起单聊"),data:{name:I.TYPEC2C},listener:{onClicked:this.createConversation.bind(this)}},{icon:L,text:h.t("TUIConversation.发起群聊"),data:{name:I.TYPEGROUP},listener:{onClicked:this.createConversation.bind(this)}}]}createConversation(e){w.callService({serviceName:y.TUIConversation.SERVICE.NAME,method:y.TUIConversation.SERVICE.METHOD.CREATE_CONVERSATION,params:e})}};f(o,"instance");let C=o;const z={key:0,class:"list"},Y=["onClick"],D={key:1,class:"plus"},F={class:"tui-conversation-header-item-title"},G={key:1,class:"tui-conversation-header-children list"},$=["onClick"],H={class:"tui-conversation-header-item-title"},q=U({__name:"index",setup(i,{expose:e}){const t=b([]),M=b(),m=V(()=>C.getInstance().getMenu());P(()=>{t.value=[]});const v=l=>{const{data:{children:u},listener:s={onClicked:()=>{}}}=l;u?t.value=t.value.length>0?[]:u:(s.onClicked(l),p())},p=()=>{t.value=[]};return e({closeChildren:p}),(l,u)=>(n(),a("div",{ref:c(M),class:"tui-conversation-header"},[c(m).length>0?(n(),a("ul",z,[(n(!0),a(g,null,k(c(m),(s,d)=>(n(),a("li",{key:d,class:"list-item"},[r("main",{class:"tui-conversation-header-item",onClick:S(R=>v(s),["stop"])},[s.icon&&!s.data.children?(n(),E(T,{key:0,class:"tui-conversation-header-item-icon",file:s.icon},null,8,["file"])):(n(),a("i",D)),r("h1",F,x(s.text),1)],8,Y)]))),128))])):_("",!0),c(t).length>0?(n(),a("ul",G,[(n(!0),a(g,null,k(c(t),(s,d)=>(n(),a("li",{key:d,class:"list-item"},[r("main",{class:"tui-conversation-header-item",onClick:R=>v(s)},[s.icon?(n(),E(T,{key:0,class:"tui-conversation-header-item-icon",file:s.icon},null,8,["file"])):_("",!0),r("h1",H,x(s.text),1)],8,$)]))),128))])):_("",!0)],512))}});const J=A(q,[["__scopeId","data-v-300517bb"]]),se=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{J as C,L as a,j as c,se as i};
