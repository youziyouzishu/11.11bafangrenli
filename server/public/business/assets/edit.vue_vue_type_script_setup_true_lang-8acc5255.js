import{A as C,B as U,Q as j,R as B,C as D}from"./element-plus-64da2267.js";import{j as q,a as F,b as I}from"./post-0fc976c9.js";import{P as N}from"./index-e34f0d65.js";import{d as A,b0 as f,r as P,b as S,aZ as z,o as G,c as M,G as t,aM as n,aV as a,a as _}from"./@vue-25170201.js";const Q={class:"edit-popup"},T=_("div",{class:"form-tips"},"默认为0， 数值越大越排前",-1),O=A({__name:"edit",emits:["success","close"],setup(Z,{expose:b,emit:V}){const i=V,p=f(),m=f(),u=P("add"),v=S(()=>u.value=="edit"?"编辑岗位":"新增岗位"),o=z({id:"",name:"",code:"",sort:0,remark:"",status:1}),w={code:[{required:!0,message:"请输入岗位编码",trigger:["blur"]}],name:[{required:!0,message:"请输入岗位名称",trigger:["blur"]}]},x=async()=>{var l,e;await((l=p.value)==null?void 0:l.validate()),u.value=="edit"?await q(o):await F(o),(e=m.value)==null||e.close(),i("success")},g=(l="add")=>{var e;u.value=l,(e=m.value)==null||e.open()},c=l=>{for(const e in o)l[e]!=null&&l[e]!=null&&(o[e]=l[e])},k=async l=>{const e=await I({id:l.id});c(e)},R=()=>{i("close")};return b({open:g,setFormData:c,getDetail:k}),(l,e)=>{const d=C,r=U,h=j,y=B,E=D;return G(),M("div",Q,[t(N,{ref_key:"popupRef",ref:m,title:a(v),async:!0,width:"550px",onConfirm:x,onClose:R},{default:n(()=>[t(E,{ref_key:"formRef",ref:p,model:a(o),"label-width":"84px",rules:w},{default:n(()=>[t(r,{label:"岗位名称",prop:"name"},{default:n(()=>[t(d,{modelValue:a(o).name,"onUpdate:modelValue":e[0]||(e[0]=s=>a(o).name=s),placeholder:"请输入岗位名称",clearable:"",maxlength:100},null,8,["modelValue"])]),_:1}),t(r,{label:"岗位编码",prop:"code"},{default:n(()=>[t(d,{modelValue:a(o).code,"onUpdate:modelValue":e[1]||(e[1]=s=>a(o).code=s),placeholder:"请输入岗位编码",clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"排序",prop:"sort"},{default:n(()=>[_("div",null,[t(h,{modelValue:a(o).sort,"onUpdate:modelValue":e[2]||(e[2]=s=>a(o).sort=s),min:0,max:9999},null,8,["modelValue"]),T])]),_:1}),t(r,{label:"备注",prop:"remark"},{default:n(()=>[t(d,{modelValue:a(o).remark,"onUpdate:modelValue":e[3]||(e[3]=s=>a(o).remark=s),placeholder:"请输入备注",type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(r,{label:"岗位状态",required:"",prop:"status"},{default:n(()=>[t(y,{modelValue:a(o).status,"onUpdate:modelValue":e[4]||(e[4]=s=>a(o).status=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{O as _};
