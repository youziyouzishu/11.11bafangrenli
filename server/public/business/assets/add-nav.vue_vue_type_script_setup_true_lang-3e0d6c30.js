import{A as w,x as C}from"./element-plus-64da2267.js";import{_ as E}from"./index-c028864d.js";import{w as c,n as B}from"./index-7638d9aa.js";import{D as N}from"./vuedraggable-78471ab3.js";import{d as $,b as A,al as r,o as i,c as D,a as e,G as t,aM as d,t as z,aV as p,aX as G,E as I}from"./@vue-25170201.js";const L={class:"bg-fill-light flex items-center w-full p-4 mb-4 cursor-move"},M={class:"upload-btn w-[60px] h-[60px]"},P={class:"ml-3 flex-1"},R={class:"flex"},T=e("span",{class:"text-tx-regular flex-none mr-3"},"名称",-1),X={class:"flex mt-[18px]"},j=e("span",{class:"text-tx-regular flex-none mr-3"},"链接",-1),O=$({__name:"add-nav",props:{modelValue:{type:Array,default:()=>[]},max:{type:Number,default:10},min:{type:Number,default:1}},emits:["update:modelValue"],setup(_,{emit:f}){const a=_,V=f,s=A({get(){return a.modelValue},set(o){V("update:modelValue",o)}}),x=()=>{var o;((o=a.modelValue)==null?void 0:o.length)<a.max?s.value.push({image:"",name:"导航名称",link:{}}):c.msgError(`最多添加${a.max}个`)},g=o=>{var m;if(((m=a.modelValue)==null?void 0:m.length)<=a.min)return c.msgError(`最少保留${a.min}个`);s.value.splice(o,1)};return(o,m)=>{const v=B,h=r("material-picker"),k=w,b=r("link-picker"),y=E,U=C;return i(),D("div",null,[e("div",null,[t(p(N),{class:"draggable",modelValue:p(s),"onUpdate:modelValue":m[0]||(m[0]=l=>G(s)?s.value=l:null),animation:"300"},{item:d(({element:l,index:u})=>[(i(),z(y,{class:"max-w-[400px]",key:u,onClose:n=>g(u)},{default:d(()=>[e("div",L,[t(h,{modelValue:l.image,"onUpdate:modelValue":n=>l.image=n,"upload-class":"bg-body",size:"60px","exclude-domain":""},{upload:d(()=>[e("div",M,[t(v,{name:"el-icon-Plus",size:20})])]),_:2},1032,["modelValue","onUpdate:modelValue"]),e("div",P,[e("div",R,[T,t(k,{modelValue:l.name,"onUpdate:modelValue":n=>l.name=n,placeholder:"请输入名称"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",X,[j,t(b,{modelValue:l.link,"onUpdate:modelValue":n=>l.link=n},null,8,["modelValue","onUpdate:modelValue"])])])])]),_:2},1032,["onClose"]))]),_:1},8,["modelValue"])]),e("div",null,[t(U,{type:"primary",onClick:x},{default:d(()=>[I("添加")]),_:1})])])}}});export{O as _};
