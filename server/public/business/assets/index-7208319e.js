import"./adapter-vue-20243c9c.js";import{q as f,o as v,_}from"./@tencentcloud-25a17c42.js";import C from"./convert-content-4209ee90.js";import{d as x,r as p,aU as b,aW as I,aV as t,o as T,c as h,G as V,a9 as k,u as S}from"./@vue-25170201.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const W=x({__name:"index",props:{message:{default:()=>({})}},setup(u){const o=u,s=p(!1),n=p(!1),m=p();let a=!0;b(()=>{f.watch(v.CHAT,{voiceToTextInfo:l})}),I(()=>{f.unwatch(v.CHAT,{voiceToTextInfo:l})});function g(e){n.value=e}function l(e){if(e===void 0)return;a=!1;const r=e.get(o.message.conversationID)||[];for(let i=0;i<r.length;++i){const{messageID:d,visible:c}=r[i];if(d===o.message.ID&&c!==void 0){r.length===1&&c&&(a=!0),n.value=!1,s.value=c;break}}}return(e,r)=>t(s)?(T(),h("div",{key:0,ref_key:"convertWrapperRef",ref:m,class:k({"message-convert":!0,reverse:o.message.flow==="out",error:t(n)})},[V(C,{message:o.message,contentVisible:t(s),isSingleConvert:t(a),convertWrapperRef:t(m),onToggleErrorStatus:g},null,8,["message","contentVisible","isSingleConvert","convertWrapperRef"])],2)):S("",!0)}});const L=_(W,[["__scopeId","data-v-0db989e9"]]);export{L as default};
