import"./adapter-vue-20243c9c.js";import{z as q,_ as G}from"./@tencentcloud-25a17c42.js";import{g as p,d as n}from"./dayjs-346d7cd4.js";import{a as H}from"./env-6b0ecdb8.js";import{d as J,b7 as Q,r as u,b as m,w as X,b2 as Z,o,c as d,a as y,F as k,aj as j,aw as z,aV as b,a9 as x}from"./@vue-25170201.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const tt={class:"tui-date-table-body"},et={class:"tui-date-table-body-weeks"},at=["aria-label"],st=["onClick"],nt={class:"tui-date-table-body-days-item-cell-text"},rt=J({__name:"date-table",props:{type:{type:String,default:"range"},currentPanelDate:{type:p.Dayjs,default:()=>n()},date:{type:p.Dayjs,default:null},startDate:{type:p.Dayjs,default:null},endDate:{type:p.Dayjs,default:null}},emits:["pick"],setup(N,{emit:R}){const a=N,$=R,_=Q(),w=u([[],[],[],[],[],[]]),f=u(n(a.currentPanelDate||null)),M=u(n(a.date||null)),Y=u(n(a.startDate||null)),v=u(n(a.endDate||null)),A=m(()=>n.weekdaysShort()),C=m(()=>A.value.map(t=>t.substring(1))),F=m(()=>{var i;const t=(i=f.value)==null?void 0:i.startOf("month");return t==null?void 0:t.subtract((t==null?void 0:t.day())||7,"day")}),K=m(()=>{var D,E,P,O,T;const t=w.value,i=C.value.length,s=(D=f.value)==null?void 0:D.startOf("month"),c=(s==null?void 0:s.day())||7,r=s==null?void 0:s.daysInMonth();let l=1;for(let g=0;g<w.value.length;g++)for(let S=0;S<i;S++){const e=(E=F.value)==null?void 0:E.add(l,"day"),W=e==null?void 0:e.date(),L=a.type==="single"&&(e==null?void 0:e.format("YYYY-MM-DD"))===((P=M.value)==null?void 0:P.format("YYYY-MM-DD")),I=a.type==="range"&&(e==null?void 0:e.format("YYYY-MM-DD"))===((O=Y.value)==null?void 0:O.format("YYYY-MM-DD")),B=a.type==="range"&&(e==null?void 0:e.format("YYYY-MM-DD"))===((T=v.value)==null?void 0:T.format("YYYY-MM-DD")),U=(e==null?void 0:e.isSameOrBefore(v.value,"day"))&&(e==null?void 0:e.isSameOrAfter(Y.value,"day"));let h="normal";l<c?h="prev-month":l-c>=r&&(h="next-month"),t[g][S]={type:h,date:e,text:W,isSelected:L||I||B,isSelectedStart:I,isSelectedEnd:B,isInRange:U},l++}return t}),V=t=>{(t==null?void 0:t.type)==="normal"&&$("pick",t)};return X(()=>[a.currentPanelDate,a.date,a.startDate,a.endDate],()=>{f.value=n(a.currentPanelDate||null),M.value=n(a.date||null),Y.value=n(a.startDate||null),v.value=n(a.endDate||null),Z(()=>{var t;(t=_==null?void 0:_.proxy)==null||t.$forceUpdate()})},{deep:!0,immediate:!0}),(t,i)=>(o(),d("table",{class:x(["tui-date-table",!b(H)&&"tui-date-table-h5"]),cellspacing:"0",cellpadding:"0",role:"grid"},[y("tbody",tt,[y("tr",et,[(o(!0),d(k,null,j(b(C),s=>(o(),d("th",{key:s,class:"tui-date-table-body-weeks-item","aria-label":s+"",scope:"col"},z(b(q).t(`time.${s}`)),9,at))),128))]),(o(!0),d(k,null,j(b(K),(s,c)=>(o(),d("tr",{key:c,class:"tui-date-table-body-days"},[(o(!0),d(k,null,j(s,(r,l)=>(o(),d("td",{key:l,class:x(["tui-date-table-body-days-item",r.type])},[y("div",{class:x(["tui-date-table-body-days-item-cell",r.isSelected&&"selected",r.isSelectedStart&&"selected-start",r.isSelectedEnd&&"selected-end",r.isInRange&&"range"]),onClick:D=>V(r)},[y("span",nt,z(r.text),1)],10,st)],2))),128))]))),128))])],2))}});const gt=G(rt,[["__scopeId","data-v-42d7e744"]]);export{gt as default};
