import{_ as I}from"./index-89569703.js";import{S as R,y as q,A as j,B,x as O,O as T,P as N,C as F}from"./element-plus-64da2267.js";import{g as G,s as J}from"./wx_oa-e3a697ae.js";import{k as K}from"./index-7638d9aa.js";import{d as g,aZ as L,b0 as M,al as Z,am as h,o as m,c as z,G as e,aM as s,a as o,aV as t,aO as c,t as f,E as r}from"./@vue-25170201.js";import"./@tencentcloud-25a17c42.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@element-plus-9559a6ac.js";import"./dayjs-346d7cd4.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./@vueuse-944ef3f4.js";import"./lodash-2cc29f39.js";import"./axios-67477f72.js";import"./vue-router-f7517f62.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./nprogress-ccaead9e.js";import"./@tiptap-008a465d.js";import"./prosemirror-state-c544e594.js";import"./prosemirror-model-8b0495eb.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-fc1f2a72.js";import"./prosemirror-view-ef3f9f96.js";import"./prosemirror-keymap-776f822d.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-5c2a1a07.js";import"./prosemirror-schema-list-1c96ec4d.js";import"./vue-clipboard3-f5f9feb9.js";import"./clipboard-3d849c41.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-1b502259.js";import"./@highlightjs-7a15facb.js";import"./path-to-regexp-767716ea.js";const P=o("div",{class:"font-medium mb-7"},"微信公众号",-1),H={class:"w-80"},Q={class:"w-80"},W=o("div",{class:"form-tips"},"建议尺寸：宽400px*高400px。jpg，jpeg，png格式",-1),X=o("div",{class:"font-medium mb-7"},"公众号开发者信息",-1),Y={class:"w-80"},$={class:"w-80"},ee=o("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->开发者ID，设置AppID和AppSecret ",-1),oe=o("div",{class:"font-medium mb-7"},"服务器配置",-1),le={class:"flex-1 min-w-0"},te={class:"sm:flex"},se={class:"mr-4 sm:w-80 flex"},ae=o("div",{class:"form-tips"}," 登录微信公众平台，点击开发>基本配置>服务器配置，填写服务器地址（URL） ",-1),ie={class:"flex-1 min-w-0"},de={class:"w-80"},ne=o("div",{class:"form-tips"}," 登录微信公众平台，点击开发>基本配置>服务器配置，设置令牌Token。不填默认为“” ",-1),re={class:"flex-1 min-w-0"},me={class:"w-80"},pe=o("div",{class:"form-tips"}," 消息加密密钥由43位字符组成，字符范围为A-Z,a-z,0-9 ",-1),_e={class:"flex-1 min-w-0"},ue=o("div",{class:"font-medium mb-7"},"功能设置",-1),ce={class:"flex-1 min-w-0"},fe={class:"sm:flex"},ve={class:"mr-4 sm:w-80 flex"},be=o("div",{class:"form-tips"}," 登录微信公众平台，点击设置>公众号设置>功能设置，填写业务域名 ",-1),Ve={class:"flex-1 min-w-0"},we={class:"sm:flex"},he={class:"mr-4 sm:w-80 flex"},ge=o("div",{class:"form-tips"}," 登录微信公众平台，点击设置>公众号设置>功能设置，填写JS接口安全域名 ",-1),xe={class:"flex-1 min-w-0"},ye={class:"sm:flex"},ke={class:"mr-4 sm:w-80 flex"},Ae=o("div",{class:"form-tips"}," 登录微信公众平台，点击设置>公众号设置>功能设置，填写网页授权域名 ",-1),Ee=g({name:"wxOaConfig"}),Do=g({...Ee,setup(Ue){const x=K(),l=L({name:"",original_id:" ",qr_code:"",app_id:"",app_secret:"",url:"",token:"",encoding_aes_key:"",encryption_type:1,business_domain:"",js_secure_domain:"",web_auth_domain:""}),V=M(),y={app_id:[{required:!0,message:"请输入AppID",trigger:["blur","change"]}],app_secret:[{required:!0,message:"请输入AppSecret",trigger:["blur","change"]}]},w=async()=>{const p=await G();for(const a in l)l[a]=p[a]},k=async()=>{var p;await((p=V.value)==null?void 0:p.validate()),await J(l),w()};return w(),(p,a)=>{const A=R,_=q,n=j,d=B,E=Z("material-picker"),u=O,b=T,U=N,S=F,D=I,v=h("copy"),C=h("perms");return m(),z("div",null,[e(_,{class:"!border-none",shadow:"never"},{default:s(()=>[e(A,{type:"warning",title:"温馨提示：填写微信公众号开发配置，请前往微信公众平台申请服务号并完成认证",closable:!1,"show-icon":""})]),_:1}),e(S,{ref_key:"formRef",ref:V,model:t(l),rules:y,"label-width":t(x).isMobile?"80px":"160px"},{default:s(()=>[e(_,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[P,e(d,{label:"公众号名称",prop:"name"},{default:s(()=>[o("div",H,[e(n,{modelValue:t(l).name,"onUpdate:modelValue":a[0]||(a[0]=i=>t(l).name=i),placeholder:"请输入公众号名称"},null,8,["modelValue"])])]),_:1}),e(d,{label:"原始ID",prop:"original_id"},{default:s(()=>[o("div",Q,[e(n,{modelValue:t(l).original_id,"onUpdate:modelValue":a[1]||(a[1]=i=>t(l).original_id=i),placeholder:"请输入原始ID"},null,8,["modelValue"])])]),_:1}),e(d,{label:"公众号二维码",prop:"qr_code"},{default:s(()=>[o("div",null,[o("div",null,[e(E,{modelValue:t(l).qr_code,"onUpdate:modelValue":a[2]||(a[2]=i=>t(l).qr_code=i),limit:1},null,8,["modelValue"])]),W])]),_:1})]),_:1}),e(_,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[X,e(d,{label:"AppID",prop:"app_id"},{default:s(()=>[o("div",Y,[e(n,{modelValue:t(l).app_id,"onUpdate:modelValue":a[3]||(a[3]=i=>t(l).app_id=i),placeholder:"请输入AppID"},null,8,["modelValue"])])]),_:1}),e(d,{label:"AppSecret",prop:"app_secret"},{default:s(()=>[o("div",$,[e(n,{modelValue:t(l).app_secret,"onUpdate:modelValue":a[4]||(a[4]=i=>t(l).app_secret=i),placeholder:"请输入AppSecret"},null,8,["modelValue"])])]),_:1}),e(d,null,{default:s(()=>[ee]),_:1})]),_:1}),e(_,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[oe,e(d,{label:"URL"},{default:s(()=>[o("div",le,[o("div",te,[o("div",se,[e(n,{modelValue:t(l).url,"onUpdate:modelValue":a[5]||(a[5]=i=>t(l).url=i),disabled:""},null,8,["modelValue"])]),c((m(),f(u,null,{default:s(()=>[r("复制")]),_:1})),[[v,t(l).url]])]),ae])]),_:1}),e(d,{label:"Token",prop:"Token"},{default:s(()=>[o("div",ie,[o("div",de,[e(n,{modelValue:t(l).token,"onUpdate:modelValue":a[6]||(a[6]=i=>t(l).token=i),placeholder:"请输入Token"},null,8,["modelValue"])]),ne])]),_:1}),e(d,{label:"EncodingAESKey",prop:"encoding_aes_key"},{default:s(()=>[o("div",re,[o("div",me,[e(n,{modelValue:t(l).encoding_aes_key,"onUpdate:modelValue":a[7]||(a[7]=i=>t(l).encoding_aes_key=i),placeholder:"请输入EncodingAESKey"},null,8,["modelValue"])]),pe])]),_:1}),e(d,{label:"消息加密方式",required:"",prop:"encryption_type"},{default:s(()=>[o("div",_e,[e(U,{class:"flex-col !items-start min-w-0",modelValue:t(l).encryption_type,"onUpdate:modelValue":a[8]||(a[8]=i=>t(l).encryption_type=i)},{default:s(()=>[e(b,{label:1},{default:s(()=>[r(" 明文模式 (不使用消息体加解密功能，安全系数较低) ")]),_:1}),e(b,{label:2},{default:s(()=>[r(" 兼容模式 (明文、密文将共存，方便开发者调试和维护) ")]),_:1}),e(b,{label:3},{default:s(()=>[r(" 安全模式（推荐） (消息包为纯密文，需要开发者加密和解密，安全系数高) ")]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),e(_,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[ue,e(d,{label:"业务域名"},{default:s(()=>[o("div",ce,[o("div",fe,[o("div",ve,[e(n,{modelValue:t(l).business_domain,"onUpdate:modelValue":a[9]||(a[9]=i=>t(l).business_domain=i),disabled:""},null,8,["modelValue"])]),c((m(),f(u,null,{default:s(()=>[r("复制")]),_:1})),[[v,t(l).business_domain]])]),be])]),_:1}),e(d,{label:"JS接口安全域名"},{default:s(()=>[o("div",Ve,[o("div",we,[o("div",he,[e(n,{modelValue:t(l).js_secure_domain,"onUpdate:modelValue":a[10]||(a[10]=i=>t(l).js_secure_domain=i),disabled:""},null,8,["modelValue"])]),c((m(),f(u,null,{default:s(()=>[r("复制")]),_:1})),[[v,t(l).js_secure_domain]])]),ge])]),_:1}),e(d,{label:"网页授权域名"},{default:s(()=>[o("div",xe,[o("div",ye,[o("div",ke,[e(n,{modelValue:t(l).web_auth_domain,"onUpdate:modelValue":a[11]||(a[11]=i=>t(l).web_auth_domain=i),disabled:""},null,8,["modelValue"])]),c((m(),f(u,null,{default:s(()=>[r("复制")]),_:1})),[[v,t(l).web_auth_domain]])]),Ae])]),_:1})]),_:1})]),_:1},8,["model","label-width"]),c((m(),f(D,null,{default:s(()=>[e(u,{type:"primary",onClick:k},{default:s(()=>[r("保存")]),_:1})]),_:1})),[[C,["channel.official_account_setting/setConfig"]]])])}}});export{Do as default};
