import{A as C,B as D,Q as U,O as h,P as B,C as F}from"./element-plus-64da2267.js";import{P as N}from"./index-e34f0d65.js";import{a as q,b as I}from"./dict-58220cb0.js";import{d as P,b0 as _,r as A,b as G,aZ as T,o as z,c as M,G as a,aM as t,aV as o,a as b,E as f}from"./@vue-25170201.js";const O={class:"edit-popup"},Q=b("div",{class:"form-tips"},"数值越大越排前",-1),W=P({__name:"edit",emits:["success","close"],setup(S,{expose:v,emit:V}){const p=V,i=_(),d=_(),m=A("add"),w=G(()=>m.value=="edit"?"编辑字典数据":"新增字典数据"),l=T({id:"",type_value:"",name:"",value:"",sort:0,status:1,remark:"",type_id:0}),x={name:[{required:!0,message:"请输入数据名称",trigger:["blur"]}],value:[{required:!0,message:"请输入数据值",trigger:["blur"]}]},k=async()=>{var s,e;await((s=i.value)==null?void 0:s.validate()),m.value=="edit"?await q(l):await I(l),(e=d.value)==null||e.close(),p("success")},y=()=>{p("close")};return v({open:(s="add")=>{var e;m.value=s,(e=d.value)==null||e.open()},setFormData:s=>{for(const e in l)s[e]!=null&&s[e]!=null&&(l[e]=s[e])}}),(s,e)=>{const n=C,u=D,E=U,c=h,R=B,g=F;return z(),M("div",O,[a(N,{ref_key:"popupRef",ref:d,title:o(w),async:!0,width:"550px",onConfirm:k,onClose:y},{default:t(()=>[a(g,{class:"ls-form",ref_key:"formRef",ref:i,rules:x,model:o(l),"label-width":"84px"},{default:t(()=>[a(u,{label:"字典类型"},{default:t(()=>[a(n,{"model-value":o(l).type_value,placeholder:"请输入字典类型",disabled:""},null,8,["model-value"])]),_:1}),a(u,{label:"数据名称",prop:"name"},{default:t(()=>[a(n,{modelValue:o(l).name,"onUpdate:modelValue":e[0]||(e[0]=r=>o(l).name=r),placeholder:"请输入数据名称",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"数据值",prop:"value"},{default:t(()=>[a(n,{modelValue:o(l).value,"onUpdate:modelValue":e[1]||(e[1]=r=>o(l).value=r),placeholder:"请输入数据值",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"排序",prop:"sort"},{default:t(()=>[b("div",null,[a(E,{modelValue:o(l).sort,"onUpdate:modelValue":e[2]||(e[2]=r=>o(l).sort=r),min:0,max:9999},null,8,["modelValue"]),Q])]),_:1}),a(u,{label:"状态",required:"",prop:"status"},{default:t(()=>[a(R,{modelValue:o(l).status,"onUpdate:modelValue":e[3]||(e[3]=r=>o(l).status=r)},{default:t(()=>[a(c,{label:1},{default:t(()=>[f("正常")]),_:1}),a(c,{label:0},{default:t(()=>[f("停用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"备注",prop:"remark"},{default:t(()=>[a(n,{modelValue:o(l).remark,"onUpdate:modelValue":e[4]||(e[4]=r=>o(l).remark=r),type:"textarea",autosize:{minRows:4,maxRows:6},clearable:"",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{W as _};
