import{_ as T}from"./index-89569703.js";import{q as w,n as q}from"./index-7638d9aa.js";import{O as z,P as A,B as G,C as O,y as $,x as j,A as H,H as L,I as M}from"./element-plus-64da2267.js";import{d as C,aZ as P,b as Z,am as J,o as m,c as h,G as t,aM as e,aV as c,a,E as p,aO as y,t as V,F as K,aj as Q,aw as W,af as X,ae as Y}from"./@vue-25170201.js";import{_ as tt}from"./@tencentcloud-25a17c42.js";import"./@vueuse-944ef3f4.js";import"./lodash-2cc29f39.js";import"./axios-67477f72.js";import"./vue-router-f7517f62.js";import"./pinia-1182f1fa.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./@element-plus-9559a6ac.js";import"./nprogress-ccaead9e.js";import"./@tiptap-008a465d.js";import"./prosemirror-state-c544e594.js";import"./prosemirror-model-8b0495eb.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-fc1f2a72.js";import"./prosemirror-view-ef3f9f96.js";import"./prosemirror-keymap-776f822d.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-5c2a1a07.js";import"./prosemirror-schema-list-1c96ec4d.js";import"./dayjs-346d7cd4.js";import"./vue-clipboard3-f5f9feb9.js";import"./clipboard-3d849c41.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-1b502259.js";import"./@highlightjs-7a15facb.js";import"./path-to-regexp-767716ea.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";function et(){return w.get({url:"/setting.hot_search/getConfig"})}function ot(l){return w.post({url:"/setting.hot_search/setConfig",params:l})}const d=l=>(X("data-v-1f7b34ef"),l=l(),Y(),l),at={class:"hot-search"},st=d(()=>a("div",{class:"form-tips"},"默认开启，关闭则前端不显示该功能",-1)),rt={class:"lg:flex"},nt={class:"flex-1 min-w-0"},lt={class:"hot-search-phone mt-4 lg:mt-0 lg:ml-4 flex-none"},it=d(()=>a("div",{class:"mb-4 text-center"},"- 热搜预览图 -",-1)),mt={class:"hot-search-phone-content"},ct={class:"search-com"},pt={class:"search-con flex items-center px-[15px]"},dt=d(()=>a("span",{class:"ml-[5px]"},"请输入关键词搜索",-1)),_t=d(()=>a("div",{class:"hot-search-title"},"热门搜索",-1)),ut={class:"hot-search-text"},ht=C({name:"search"}),ft=C({...ht,setup(l){const r=P({status:1,data:[]}),E=Z(()=>r.data.filter(o=>o.name).sort((o,n)=>n.sort-o.sort)),f=async()=>{try{const o=await et();for(const n in r)r[n]=o[n]}catch(o){console.log("获取=>",o)}},k=()=>{r.data.push({name:"",sort:0})},S=o=>{r.data.splice(o,1)},I=async()=>{try{await ot(r),f()}catch(o){console.log("保存=>",o)}};return f(),(o,n)=>{const g=z,B=A,D=G,U=O,b=$,_=j,v=H,u=L,F=M,N=q,R=T,x=J("perms");return m(),h("div",at,[t(b,{class:"!border-none",shadow:"never"},{default:e(()=>[t(U,{ref:"formRef",model:c(r),"label-width":"100px"},{default:e(()=>[t(D,{label:"功能状态",style:{"margin-bottom":"0"}},{default:e(()=>[a("div",null,[t(B,{modelValue:c(r).status,"onUpdate:modelValue":n[0]||(n[0]=s=>c(r).status=s)},{default:e(()=>[t(g,{label:1},{default:e(()=>[p("开启")]),_:1}),t(g,{label:0},{default:e(()=>[p("关闭")]),_:1})]),_:1},8,["modelValue"]),st])]),_:1})]),_:1},8,["model"])]),_:1}),t(b,{class:"!border-none mt-4",shadow:"never"},{default:e(()=>[a("div",rt,[a("div",nt,[t(_,{type:"primary",class:"mb-4",onClick:k},{default:e(()=>[p("添加")]),_:1}),t(F,{size:"large",data:c(r).data},{default:e(()=>[t(u,{label:"关键词",prop:"describe","min-width":"160"},{default:e(({row:s})=>[t(v,{modelValue:s.name,"onUpdate:modelValue":i=>s.name=i,clearable:"",placeholder:"请输入关键字","show-word-limit":"",maxlength:"30"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(u,{label:"排序",prop:"describe","min-width":"160"},{default:e(({row:s})=>[t(v,{modelValue:s.sort,"onUpdate:modelValue":i=>s.sort=i,type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(u,{label:"操作","min-width":"80",fixed:"right"},{default:e(({$index:s})=>[y((m(),V(_,{type:"danger",link:"",onClick:i=>S(s)},{default:e(()=>[p(" 删除 ")]),_:2},1032,["onClick"])),[[x,["setting:storage:edit"]]])]),_:1})]),_:1},8,["data"])]),a("div",lt,[it,a("div",mt,[a("div",ct,[a("div",pt,[t(N,{name:"el-icon-Search",size:17}),dt])]),_t,a("div",ut,[(m(!0),h(K,null,Q(c(E),(s,i)=>(m(),h("span",{key:i},W(s.name),1))),128))])])])])]),_:1}),y((m(),V(R,null,{default:e(()=>[t(_,{type:"primary",onClick:I},{default:e(()=>[p("保存")]),_:1})]),_:1})),[[x,["setting.hot_search/setConfig"]]])])}}});const fe=tt(ft,[["__scopeId","data-v-1f7b34ef"]]);export{fe as default};
