import{k as n,b as c}from"./w3c-keyname-a25e4cc1.js";import{P as d}from"./prosemirror-state-c544e594.js";const h=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function m(e){let r=e.split(/-(?!$)/),t=r[r.length-1];t=="Space"&&(t=" ");let i,f,o,a;for(let l=0;l<r.length-1;l++){let s=r[l];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))i=!0;else if(/^(c|ctrl|control)$/i.test(s))f=!0;else if(/^s(hift)?$/i.test(s))o=!0;else if(/^mod$/i.test(s))h?a=!0:f=!0;else throw new Error("Unrecognized modifier name: "+s)}return i&&(t="Alt-"+t),f&&(t="Ctrl-"+t),a&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function p(e){let r=Object.create(null);for(let t in e)r[m(t)]=e[t];return r}function u(e,r,t=!0){return r.altKey&&(e="Alt-"+e),r.ctrlKey&&(e="Ctrl-"+e),r.metaKey&&(e="Meta-"+e),t&&r.shiftKey&&(e="Shift-"+e),e}function k(e){return new d({props:{handleKeyDown:y(e)}})}function y(e){let r=p(e);return function(t,i){let f=n(i),o,a=r[u(f,i)];if(a&&a(t.state,t.dispatch,t))return!0;if(f.length==1&&f!=" "){if(i.shiftKey){let l=r[u(f,i,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((i.shiftKey||i.altKey||i.metaKey||f.charCodeAt(0)>127)&&(o=c[i.keyCode])&&o!=f){let l=r[u(o,i)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}export{k};
