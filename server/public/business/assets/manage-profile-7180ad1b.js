import"./adapter-vue-20243c9c.js";import{W as U,Q as B,B as v,z as r,J as I,q as C,o as g,i as E,_ as x}from"./@tencentcloud-25a17c42.js";import N from"./index-15293322.js";import{c as k}from"./env-6b0ecdb8.js";import{d as Y,r as D,b1 as $,w as q,aV as t,o as p,c as d,a as e,aw as a,u as b,G as F,af as O,ae as V}from"./@vue-25170201.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const S=c=>(O("data-v-55143ca4"),c=c(),V(),c),W={key:0,class:"memeber-profile"},z={class:"memeber-profile-main"},A=["src"],G={class:"list"},H=S(()=>e("label",null,"ID：",-1)),K={class:"memeber-profile-footer"},L={key:1,class:"edit-h5"},M={class:"main"},J={class:"edit-h5-header"},Q={class:"left"},j={class:"edit-h5-profile"},R={class:"memeber-profile-main"},X={class:"list"},Z=S(()=>e("label",null,"ID：",-1)),ee={class:"memeber-profile-footer"},te=Y({__name:"manage-profile",props:{userInfo:{type:Object,default:()=>({})}},emits:["handleSwitchConversation","close","openConversation"],setup(c,{emit:w}){const m=c,_=D(!1),s=D({});$(()=>{s.value=m.userInfo});const T=w;q(()=>m.userInfo,async(i,o)=>{if(i===o)return;const n=await U.getUserProfile({userIDList:[m.userInfo.userID]});s.value=n==null?void 0:n.data[0],y()},{deep:!0,immediate:!0});const f=async(i,o)=>{const n=`${o}${i}`;I.getConversationProfile(n).then(l=>{I.switchConversation(l.data.conversation.conversationID).then(()=>{var u;C.update(g.GRP,"isShowManageComponent",!1),k&&((u=E)==null||u.navigateBack())})}).catch(l=>{console.warn("获取会话资料失败",l.code,l.msg)})},y=async()=>{s.value.userID&&B.checkFriend({userIDList:[s.value.userID],type:v.TYPES.SNS_CHECK_TYPE_BOTH}).then(i=>{var n,l,u;const o=(u=(l=(n=i==null?void 0:i.data)==null?void 0:n.successUserIDList)==null?void 0:l[0])==null?void 0:u.relation;_.value=o===v.TYPES.SNS_TYPE_BOTH_WAY})},h=()=>_.value||!C.getData(g.APP,"isOfficial"),P=i=>{T("close",i)};return(i,o)=>t(k)?(p(),d("div",L,[e("main",M,[e("header",J,[e("aside",Q,[e("h1",null,a(t(r).t("TUIGroup.群成员")),1)]),e("span",{class:"close",onClick:o[1]||(o[1]=n=>P("profile"))},a(t(r).t("关闭")),1)]),e("div",j,[e("div",R,[F(N,{class:"avatar",url:t(s).avatar,size:"60px"},null,8,["url"]),e("ul",X,[e("h1",null,a(t(s).nick||t(s).userID),1),e("li",null,[Z,e("span",null,a(t(s).userID),1)]),e("li",null,[e("label",null,a(t(r).t("TUIContact.个性签名"))+"：",1),e("span",null,a(t(s).selfSignature),1)])])]),e("div",ee,[h()?(p(),d("div",{key:0,class:"button",onClick:o[2]||(o[2]=n=>f(t(s).userID,"C2C"))},a(t(r).t("TUIContact.发送消息")),1)):b("",!0)])])])])):(p(),d("div",W,[e("div",z,[e("img",{class:"avatar",src:t(s).avatar||"https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png",onerror:"this.onerror=null;this.src='https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png'"},null,8,A),e("ul",G,[e("h2",null,a(t(s).nick||t(s).userID),1),e("li",null,[H,e("span",null,a(t(s).userID),1)]),e("li",null,[e("label",null,a(t(r).t("TUIContact.个性签名"))+"：",1),e("span",null,a(t(s).selfSignature),1)])])]),e("div",K,[h()?(p(),d("div",{key:0,class:"button",onClick:o[0]||(o[0]=n=>f(t(s).userID,"C2C"))},a(t(r).t("TUIContact.发送消息")),1)):b("",!0)])]))}});const ve=x(te,[["__scopeId","data-v-55143ca4"]]);export{ve as default};
