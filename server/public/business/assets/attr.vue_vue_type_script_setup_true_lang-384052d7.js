import{O as N,P as D,B as O,A as j,x as A,C as F}from"./element-plus-64da2267.js";import{_ as G}from"./index-c028864d.js";import{w as g}from"./index-7638d9aa.js";import{D as I}from"./vuedraggable-78471ab3.js";import{d as R,al as y,o as d,c as $,G as t,aM as l,t as c,E as p,u as r,a as i,aV as M}from"./@vue-25170201.js";const P={class:"flex-1"},S=i("div",{class:"form-tips"},"最多添加5张，建议图片尺寸：750px*340px",-1),T={class:"bg-fill-light flex items-center w-full p-4 mt-4 cursor-move"},q={class:"ml-3 flex-1"},_=5,Q=R({__name:"attr",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},type:{type:String,default:"mobile"}},setup(a){const u=a,h=()=>{var m;((m=u.content.data)==null?void 0:m.length)<_?u.content.data.push({image:"",name:"",link:{}}):g.msgError(`最多添加${_}张图片`)},x=m=>{var n;if(((n=u.content.data)==null?void 0:n.length)<=1)return g.msgError("最少保留一张图片");u.content.data.splice(m,1)};return(m,n)=>{const f=N,E=D,s=O,U=y("material-picker"),V=j,v=y("link-picker"),C=G,w=A,B=F;return d(),$("div",null,[t(B,{"label-width":"70px"},{default:l(()=>{var b;return[a.type=="mobile"?(d(),c(s,{key:0,label:"是否启用"},{default:l(()=>[t(E,{modelValue:a.content.enabled,"onUpdate:modelValue":n[0]||(n[0]=e=>a.content.enabled=e)},{default:l(()=>[t(f,{label:1},{default:l(()=>[p("开启")]),_:1}),t(f,{label:0},{default:l(()=>[p("停用")]),_:1})]),_:1},8,["modelValue"])]),_:1})):r("",!0),t(s,{label:"图片设置"},{default:l(()=>[i("div",P,[S,t(M(I),{class:"draggable",modelValue:a.content.data,"onUpdate:modelValue":n[1]||(n[1]=e=>a.content.data=e),animation:"300"},{item:l(({element:e,index:k})=>[(d(),c(C,{key:k,onClose:o=>x(k),class:"max-w-[400px]"},{default:l(()=>[i("div",T,[t(U,{modelValue:e.image,"onUpdate:modelValue":o=>e.image=o,"upload-class":"bg-body","exclude-domain":""},null,8,["modelValue","onUpdate:modelValue"]),i("div",q,[t(s,{label:"图片名称"},{default:l(()=>[t(V,{modelValue:e.name,"onUpdate:modelValue":o=>e.name=o,placeholder:"请输入名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(s,{class:"mt-[18px]",label:"图片链接"},{default:l(()=>[a.type=="mobile"?(d(),c(v,{key:0,modelValue:e.link,"onUpdate:modelValue":o=>e.link=o},null,8,["modelValue","onUpdate:modelValue"])):r("",!0),a.type=="pc"?(d(),c(V,{key:1,placeholder:"请输入链接",modelValue:e.link.path,"onUpdate:modelValue":o=>e.link.path=o},null,8,["modelValue","onUpdate:modelValue"])):r("",!0)]),_:2},1024)])])]),_:2},1032,["onClose"]))]),_:1},8,["modelValue"])])]),_:1}),((b=a.content.data)==null?void 0:b.length)<_?(d(),c(s,{key:1},{default:l(()=>[t(w,{type:"primary",onClick:h},{default:l(()=>[p("添加图片")]),_:1})]),_:1})):r("",!0)]}),_:1})])}}});export{Q as _};
