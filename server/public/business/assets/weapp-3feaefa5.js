import{_ as E}from"./index-89569703.js";import{S,y as B,A as F,B as R,x as N,C as j}from"./element-plus-64da2267.js";import{q as g,k as M}from"./index-7638d9aa.js";import{d as x,aZ as W,b0 as G,al as O,am as V,o as m,c as T,G as t,aM as s,a as e,aV as l,aO as r,t as _,E as u}from"./@vue-25170201.js";import"./@tencentcloud-25a17c42.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@element-plus-9559a6ac.js";import"./dayjs-346d7cd4.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./@vueuse-944ef3f4.js";import"./lodash-2cc29f39.js";import"./axios-67477f72.js";import"./vue-router-f7517f62.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./nprogress-ccaead9e.js";import"./@tiptap-008a465d.js";import"./prosemirror-state-c544e594.js";import"./prosemirror-model-8b0495eb.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-fc1f2a72.js";import"./prosemirror-view-ef3f9f96.js";import"./prosemirror-keymap-776f822d.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-5c2a1a07.js";import"./prosemirror-schema-list-1c96ec4d.js";import"./vue-clipboard3-f5f9feb9.js";import"./clipboard-3d849c41.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-1b502259.js";import"./@highlightjs-7a15facb.js";import"./path-to-regexp-767716ea.js";function Z(b){return g.post({url:"/channel.mnp_settings/setConfig",params:b})}function z(){return g.get({url:"/channel.mnp_settings/getConfig"})}const H=e("div",{class:"font-medium mb-7"},"微信小程序",-1),J={class:"w-80"},K={class:"w-80"},L={class:"flex-1"},P=e("div",{class:"form-tips"},"建议尺寸：宽400px*高400px。jpg，jpeg，png格式",-1),Q=e("div",{class:"font-medium mb-7"},"开发者ID",-1),X={class:"w-80"},Y={class:"w-80"},$=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->开发者ID，设置AppID和AppSecret ",-1),ee=e("div",{class:"font-medium mb-7"},"服务器域名",-1),oe={class:"flex-1 min-w-0"},te={class:"sm:flex"},le={class:"mr-4 sm:w-80 flex"},se=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1),ie={class:"flex-1 min-w-0"},ae={class:"sm:flex"},de={class:"mr-4 sm:w-80 flex"},ne=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写wss协议域名 ",-1),me={class:"flex-1 min-w-0"},pe={class:"sm:flex"},re={class:"mr-4 sm:w-80 flex"},_e=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1),ue={class:"flex-1 min-w-0"},ce={class:"sm:flex"},fe={class:"mr-4 sm:w-80 flex"},ve=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1),be={class:"flex-1 min-w-0"},he={class:"sm:flex"},we={class:"mr-4 sm:w-80 flex"},Ve=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写udp协议域名 ",-1),ge=e("div",{class:"font-medium mb-7"},"业务域名",-1),xe={class:"flex-1 min-w-0"},ke={class:"sm:flex"},qe={class:"mr-4 sm:w-80 flex"},De=e("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->业务域名，填写业务域名 ",-1),Ce=x({name:"weappConfig"}),Ao=x({...Ce,setup(b){const k=M(),o=W({name:"",original_id:"",qr_code:"",app_id:"",app_secret:"",business_domain:"",download_file_domain:"",request_domain:"",socket_domain:"",tcpDomain:"",udp_domain:"",upload_file_domain:""}),h=G(),q={app_id:[{required:!0,message:"请输入AppID",trigger:["blur","change"]}],app_secret:[{required:!0,message:"请输入AppSecret",trigger:["blur","change"]}]},w=async()=>{const f=await z();for(const i in o)o[i]=f[i]},D=async()=>{var f;await((f=h.value)==null?void 0:f.validate()),await Z(o),w()};return w(),(f,i)=>{const C=S,v=B,n=F,d=R,A=O("material-picker"),p=N,I=j,U=E,c=V("copy"),y=V("perms");return m(),T("div",null,[t(v,{class:"!border-none",shadow:"never"},{default:s(()=>[t(C,{type:"warning",title:"温馨提示：填写微信小程序开发配置，请前往微信公众平台申请小程序并完成认证",closable:!1,"show-icon":""})]),_:1}),t(I,{ref_key:"formRef",ref:h,model:l(o),rules:q,"label-width":l(k).isMobile?"80px":"160px"},{default:s(()=>[t(v,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[H,t(d,{label:"小程序名称",prop:"name"},{default:s(()=>[e("div",J,[t(n,{modelValue:l(o).name,"onUpdate:modelValue":i[0]||(i[0]=a=>l(o).name=a),placeholder:"请输入小程序名称"},null,8,["modelValue"])])]),_:1}),t(d,{label:"原始ID",prop:"original_id"},{default:s(()=>[e("div",K,[t(n,{modelValue:l(o).original_id,"onUpdate:modelValue":i[1]||(i[1]=a=>l(o).original_id=a),placeholder:"请输入原始ID"},null,8,["modelValue"])])]),_:1}),t(d,{label:"小程序码",prop:"qr_code"},{default:s(()=>[e("div",L,[e("div",null,[t(A,{modelValue:l(o).qr_code,"onUpdate:modelValue":i[2]||(i[2]=a=>l(o).qr_code=a),limit:1},null,8,["modelValue"])]),P])]),_:1})]),_:1}),t(v,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[Q,t(d,{label:"AppID",prop:"app_id"},{default:s(()=>[e("div",X,[t(n,{modelValue:l(o).app_id,"onUpdate:modelValue":i[3]||(i[3]=a=>l(o).app_id=a),placeholder:"请输入AppID"},null,8,["modelValue"])])]),_:1}),t(d,{label:"AppSecret",prop:"app_secret"},{default:s(()=>[e("div",Y,[t(n,{modelValue:l(o).app_secret,"onUpdate:modelValue":i[4]||(i[4]=a=>l(o).app_secret=a),placeholder:"请输入AppSecret"},null,8,["modelValue"])])]),_:1}),t(d,null,{default:s(()=>[$]),_:1})]),_:1}),t(v,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[ee,t(d,{label:"request合法域名",prop:"appId"},{default:s(()=>[e("div",oe,[e("div",te,[e("div",le,[t(n,{modelValue:l(o).request_domain,"onUpdate:modelValue":i[5]||(i[5]=a=>l(o).request_domain=a),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,l(o).request_domain]])]),se])]),_:1}),t(d,{label:"socket合法域名"},{default:s(()=>[e("div",ie,[e("div",ae,[e("div",de,[t(n,{modelValue:l(o).socket_domain,"onUpdate:modelValue":i[6]||(i[6]=a=>l(o).socket_domain=a),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,l(o).socket_domain]])]),ne])]),_:1}),t(d,{label:"uploadFile合法域名"},{default:s(()=>[e("div",me,[e("div",pe,[e("div",re,[t(n,{modelValue:l(o).upload_file_domain,"onUpdate:modelValue":i[7]||(i[7]=a=>l(o).upload_file_domain=a),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,l(o).upload_file_domain]])]),_e])]),_:1}),t(d,{label:"downloadFile合法域名"},{default:s(()=>[e("div",ue,[e("div",ce,[e("div",fe,[t(n,{modelValue:l(o).download_file_domain,"onUpdate:modelValue":i[8]||(i[8]=a=>l(o).download_file_domain=a),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,l(o).download_file_domain]])]),ve])]),_:1}),t(d,{label:"udp合法域名"},{default:s(()=>[e("div",be,[e("div",he,[e("div",we,[t(n,{modelValue:l(o).udp_domain,"onUpdate:modelValue":i[9]||(i[9]=a=>l(o).udp_domain=a),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,l(o).udp_domain]])]),Ve])]),_:1})]),_:1}),t(v,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[ge,t(d,{label:"业务域名"},{default:s(()=>[e("div",xe,[e("div",ke,[e("div",qe,[t(n,{modelValue:l(o).business_domain,"onUpdate:modelValue":i[10]||(i[10]=a=>l(o).business_domain=a),disabled:""},null,8,["modelValue"])]),r((m(),_(p,null,{default:s(()=>[u("复制")]),_:1})),[[c,l(o).business_domain]])]),De])]),_:1})]),_:1})]),_:1},8,["model","label-width"]),r((m(),_(U,null,{default:s(()=>[t(p,{type:"primary",onClick:D},{default:s(()=>[u("保存")]),_:1})]),_:1})),[[y,["channel.mnp_settings/setConfig"]]])])}}});export{Ao as default};
