import{d as L,r as c,b as O,o as v,c as g,a as C,ak as _,aO as Y,aJ as B,aV as l,aX as M,a9 as p,u as y,G as R,t as q}from"./@vue-25170201.js";import"./adapter-vue-20243c9c.js";import{z as w,_ as A}from"./@tencentcloud-25a17c42.js";import{g as G,d as h,l as I,i as J,f as N}from"./dayjs-346d7cd4.js";import z from"./date-picker-panel-245cd44c.js";import{c as j,a as S}from"./env-6b0ecdb8.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";import"./date-table-21a73c34.js";import"./Icon-fec85db6.js";const W=["placeholder","disabled"],X={key:0},H=["placeholder","disabled"],K=L({__name:"index",props:{type:{type:String,default:"range"},rangeTableType:{type:String,default:"one"},startPlaceholder:{type:String,default:()=>w.t("开始时间")},endPlaceholder:{type:String,default:()=>w.t("开始时间")},popupPosition:{type:String,default:"bottom"},defaultSingleDate:{type:G.Dayjs,default:null,required:!1}},emits:["pick","change"],setup(u,{emit:E}){h.extend(I),h.extend(J),h.extend(N),h.locale("zh-cn");const d=E,a=u,f=c(!1),m=c(a.type==="single"?a==null?void 0:a.defaultSingleDate:null),t=c(a.type==="single"?a==null?void 0:a.defaultSingleDate:null),n=c(a.type==="single"?a==null?void 0:a.defaultSingleDate:null),D=O(()=>{var e;return(e=t==null?void 0:t.value)==null?void 0:e.format("YYYY/MM/DD")}),P=O(()=>{var e;return(e=n==null?void 0:n.value)==null?void 0:e.format("YYYY/MM/DD")}),F=a.startPlaceholder,U=a.endPlaceholder,o=c(),b=c(),k=e=>{f.value=e},i=e=>{const r=[];return e.forEach(s=>{s?(r.push("tui-date-picker-"+s),!S&&r.push("tui-date-picker-h5-"+s)):(r.push("tui-date-picker"),!S&&r.push("tui-date-picker-h5"))}),r},x=e=>{var r,s,T;switch(a.type){case"single":t.value=e.date,n.value=e.date,m.value=e.date,d("change",e),d("pick",m.value),setTimeout(()=>{k(!1)},300);break;case"range":t!=null&&t.value?n!=null&&n.value?(t.value=e.date,n.value=null):((r=t==null?void 0:t.value)!=null&&r.isSameOrBefore(e.date,"day")?n.value=e.date:(n.value=t.value,t.value=e.date),d("pick",{startDate:(s=t==null?void 0:t.value)==null?void 0:s.startOf("date"),endDate:(T=n==null?void 0:n.value)==null?void 0:T.endOf("date")}),setTimeout(()=>{k(!1)},200)):t.value=e.date,d("change",{startDate:t.value,endDate:n.value,leftCurrentPanel:o.value,rightCurrentPanel:o.value});break}},V=e=>{o.value=e,d("change",{startDate:t.value,endDate:n.value,leftCurrentPanel:o.value,rightCurrentPanel:o.value})},$=e=>{b.value=e,d("change",{startDate:t.value,endDate:n.value,leftCurrentPanel:o.value,rightCurrentPanel:o.value})};return(e,r)=>(v(),g("div",{class:p([i([""])])},[C("div",{class:p([i(["input"]),l(f)&&i(["input-active"])]),onClick:r[2]||(r[2]=s=>k(!l(f)))},[_(e.$slots,"start-icon",{},void 0,!0),Y(C("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>M(D)?D.value=s:null),placeholder:l(F),class:p([i(["input-start"])]),style:{"pointer-events":"none"},type:"text",readonly:!0,disabled:l(j),autocomplete:"false"},null,10,W),[[B,l(D)]]),u.type!=="single"?(v(),g("span",X,"-")):y("",!0),u.type!=="single"?Y((v(),g("input",{key:1,"onUpdate:modelValue":r[1]||(r[1]=s=>M(P)?P.value=s:null),placeholder:l(U),class:p([i(["input-end"])]),style:{"pointer-events":"none"},type:"text",readonly:!0,disabled:l(j),autocomplete:"false"},null,10,H)),[[B,l(P)]]):y("",!0),_(e.$slots,"end-icon",{},void 0,!0)],2),l(f)?(v(),g("div",{key:0,class:p([i(["dialog"])])},[C("div",{class:p([i(["dialog-container","dialog-container-"+u.rangeTableType,"dialog-container-"+u.popupPosition])])},[R(z,{type:a.type,rangeType:"left",date:l(m),startDate:l(t),endDate:l(n),currentOtherPanelValue:l(b),onPick:x,onChange:V},null,8,["type","date","startDate","endDate","currentOtherPanelValue"]),a.type==="range"&&l(S)&&u.rangeTableType==="two"?(v(),q(z,{key:0,type:a.type,rangeType:"right",date:l(m),startDate:l(t),endDate:l(n),currentOtherPanelValue:l(o),onPick:x,onChange:$},null,8,["type","date","startDate","endDate","currentOtherPanelValue"])):y("",!0)],2)],2)):y("",!0)],2))}});const ge=A(K,[["__scopeId","data-v-7dc1e5f7"]]);export{ge as default};
