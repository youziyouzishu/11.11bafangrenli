import{C as w}from"./element-plus-64da2267.js";import{P as h}from"./index-e34f0d65.js";import{q as o}from"./index-7638d9aa.js";import"./lodash-2cc29f39.js";import{d as f,b0 as d,r as k,b as P,aZ as _,o as x,c as C,G as m,aM as I,aV as l}from"./@vue-25170201.js";function S(t){return o.get({url:"/project_daily_report/lists",params:t})}function E(t){return o.post({url:"/project_daily_report/add",params:t})}function B(t){return o.post({url:"/project_daily_report/edit",params:t})}function T(t){return o.post({url:"/project_daily_report/delete",params:t})}function F(t){return o.get({url:"/project_daily_report/detail",params:t})}const V={class:"edit-popup"},A=f({name:"projectDailyReportEdit"}),Z=f({...A,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(t,{expose:g,emit:y}){const c=y,n=d(),i=d(),u=k("add"),D=P(()=>u.value=="edit"?"编辑项目日报":"新增项目日报"),a=_({id:""}),b=_({task_audit_id:[{required:!0,message:"请输入任务审计ID",trigger:["blur"]}],uid:[{required:!0,message:"请选择人力公司ID",trigger:["blur"]}],report_date:[{required:!0,message:"请选择报告日期",trigger:["blur"]}],project_id:[{required:!0,message:"请输入项目ID",trigger:["blur"]}],user_id:[{required:!0,message:"请输入用户ID",trigger:["blur"]}],recruit_user_id:[{required:!0,message:"请输入招聘专员ID",trigger:["blur"]}],onsite_user_id:[{required:!0,message:"请输入驻场经理ID",trigger:["blur"]}],work_status:[{required:!0,message:"请输入工作状态",trigger:["blur"]}],daily_salary:[{required:!0,message:"请输入日薪",trigger:["blur"]}]}),p=async r=>{for(const e in a)r[e]!=null&&r[e]!=null&&(a[e]=r[e])},j=async r=>{const e=await F({id:r.id});p(e)},R=async()=>{var e,s;await((e=n.value)==null?void 0:e.validate());const r={...a};u.value=="edit"?await B(r):await E(r),(s=i.value)==null||s.close(),c("success")},q=(r="add")=>{var e;u.value=r,(e=i.value)==null||e.open()},v=()=>{c("close")};return g({open:q,setFormData:p,getDetail:j}),(r,e)=>{const s=w;return x(),C("div",V,[m(h,{ref_key:"popupRef",ref:i,title:l(D),async:!0,width:"550px",onConfirm:R,onClose:v},{default:I(()=>[m(s,{ref_key:"formRef",ref:n,model:l(a),"label-width":"90px",rules:l(b)},null,8,["model","rules"])]),_:1},8,["title"])])}}});export{Z as _,T as a,S as b};
