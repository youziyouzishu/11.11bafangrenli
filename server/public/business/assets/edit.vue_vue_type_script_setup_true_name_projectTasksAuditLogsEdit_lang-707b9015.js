import{A as j,B as x,C as A}from"./element-plus-64da2267.js";import{P as C}from"./index-e34f0d65.js";import{b as E,c as R,d as P}from"./project_tasks_audit_logs-2125b45a.js";import"./lodash-2cc29f39.js";import{d as V,b0 as c,r as T,b as q,aZ as f,o as L,c as B,G as o,aM as d,aV as a}from"./@vue-25170201.js";const F={class:"edit-popup"},G=V({name:"projectTasksAuditLogsEdit"}),H=V({...G,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(M,{expose:b,emit:g}){const n=g,m=c(),i=c(),p=T("add"),k=q(()=>p.value=="edit"?"编辑项目任务审计表":"新增项目任务审计表"),l=f({id:"",audit_id:"",creator:"",project_id:"",user_id:"",recruit_user_id:"",onsite_user_id:"",type:"",status:"",work_status:"",remarks:"",sign_flow_id:""}),w=f({audit_id:[{required:!0,message:"请输入审计ID",trigger:["blur"]}],recruit_user_id:[{required:!0,message:"请输入招聘专员ID",trigger:["blur"]}],onsite_user_id:[{required:!0,message:"请输入驻场经理ID",trigger:["blur"]}],work_status:[{required:!0,message:"请输入工作状态 - 1 待上岗",trigger:["blur"]}]}),_=async u=>{for(const e in l)u[e]!=null&&u[e]!=null&&(l[e]=u[e])},D=async u=>{const e=await E({id:u.id});_(e)},I=async()=>{var e,r;await((e=m.value)==null?void 0:e.validate());const u={...l};p.value=="edit"?await R(u):await P(u),(r=i.value)==null||r.close(),n("success")},y=(u="add")=>{var e;p.value=u,(e=i.value)==null||e.open()},U=()=>{n("close")};return b({open:y,setFormData:_,getDetail:D}),(u,e)=>{const r=j,s=x,v=A;return L(),B("div",F,[o(C,{ref_key:"popupRef",ref:i,title:a(k),async:!0,width:"550px",onConfirm:I,onClose:U},{default:d(()=>[o(v,{ref_key:"formRef",ref:m,model:a(l),"label-width":"90px",rules:a(w)},{default:d(()=>[o(s,{label:"审计ID",prop:"audit_id"},{default:d(()=>[o(r,{modelValue:a(l).audit_id,"onUpdate:modelValue":e[0]||(e[0]=t=>a(l).audit_id=t),clearable:"",placeholder:"请输入审计ID"},null,8,["modelValue"])]),_:1}),o(s,{label:"",prop:"creator"},{default:d(()=>[o(r,{modelValue:a(l).creator,"onUpdate:modelValue":e[1]||(e[1]=t=>a(l).creator=t),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(s,{label:"项目id",prop:"project_id"},{default:d(()=>[o(r,{modelValue:a(l).project_id,"onUpdate:modelValue":e[2]||(e[2]=t=>a(l).project_id=t),clearable:"",placeholder:"请输入项目id"},null,8,["modelValue"])]),_:1}),o(s,{label:"用户id",prop:"user_id"},{default:d(()=>[o(r,{modelValue:a(l).user_id,"onUpdate:modelValue":e[3]||(e[3]=t=>a(l).user_id=t),clearable:"",placeholder:"请输入用户id"},null,8,["modelValue"])]),_:1}),o(s,{label:"招聘专员ID",prop:"recruit_user_id"},{default:d(()=>[o(r,{modelValue:a(l).recruit_user_id,"onUpdate:modelValue":e[4]||(e[4]=t=>a(l).recruit_user_id=t),clearable:"",placeholder:"请输入招聘专员ID"},null,8,["modelValue"])]),_:1}),o(s,{label:"驻场经理ID",prop:"onsite_user_id"},{default:d(()=>[o(r,{modelValue:a(l).onsite_user_id,"onUpdate:modelValue":e[5]||(e[5]=t=>a(l).onsite_user_id=t),clearable:"",placeholder:"请输入驻场经理ID"},null,8,["modelValue"])]),_:1}),o(s,{label:"任务类型",prop:"type"},{default:d(()=>[o(r,{modelValue:a(l).type,"onUpdate:modelValue":e[6]||(e[6]=t=>a(l).type=t),clearable:"",placeholder:"请输入任务类型"},null,8,["modelValue"])]),_:1}),o(s,{label:"任务状态",prop:"status"},{default:d(()=>[o(r,{modelValue:a(l).status,"onUpdate:modelValue":e[7]||(e[7]=t=>a(l).status=t),clearable:"",placeholder:"请输入任务状态"},null,8,["modelValue"])]),_:1}),o(s,{label:"工作状态 - 1 待上岗",prop:"work_status"},{default:d(()=>[o(r,{modelValue:a(l).work_status,"onUpdate:modelValue":e[8]||(e[8]=t=>a(l).work_status=t),clearable:"",placeholder:"请输入工作状态 - 1 待上岗"},null,8,["modelValue"])]),_:1}),o(s,{label:"备注",prop:"remarks"},{default:d(()=>[o(r,{modelValue:a(l).remarks,"onUpdate:modelValue":e[9]||(e[9]=t=>a(l).remarks=t),clearable:"",placeholder:"请输入备注"},null,8,["modelValue"])]),_:1}),o(s,{label:"合同ID",prop:"sign_flow_id"},{default:d(()=>[o(r,{modelValue:a(l).sign_flow_id,"onUpdate:modelValue":e[10]||(e[10]=t=>a(l).sign_flow_id=t),clearable:"",placeholder:"请输入合同ID"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{H as _};
