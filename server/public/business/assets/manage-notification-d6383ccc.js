import{d as C,r as d,b1 as G,aV as t,o as e,c as o,aO as k,aJ as y,aX as h,aP as T,aw as n,u as b,a as u,a9 as w,b2 as E}from"./@vue-25170201.js";import"./adapter-vue-20243c9c.js";import{z as l,_ as N}from"./@tencentcloud-25a17c42.js";import{T as V}from"./index-ebb29dde.js";import{c as U}from"./env-6b0ecdb8.js";import{T as A}from"./index-9521edcb.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const B={key:0,class:"notification"},O={key:1},P={key:0},R={key:1},z={key:2},K={key:1,class:"edit-h5"},$={class:"edit-h5-main"},D={class:"edit-h5-header"},M={class:"left"},S={class:"notification"},j={key:1,class:"row"},F={key:0,class:"row-p"},J={key:1},W={key:2,class:"footer"},X=C({__name:"manage-notification",props:{data:{type:Object,default:()=>({})},isAuthor:{type:Boolean,default:!1}},emits:["update","close"],setup(x,{emit:g}){const m=x,r=d({}),s=d(""),f=d(!1),a=d(!1);G(()=>{r.value=m.data,s.value=r.value.notification,f.value=m.isAuthor});const _=g,p=()=>{if(s.value.length>150){V({message:l.t("TUIGroup.群公告字数超出限制，最大长度为150"),type:A.ERROR});return}s.value&&s.value!==r.value.notification&&(_("update",{key:"notification",value:s.value}),E(()=>{s.value=""})),a.value=!a.value},I=v=>{_("close",v)};return(v,i)=>t(U)?(e(),o("div",K,[u("main",$,[u("header",D,[u("aside",M,[u("h1",null,n(t(l).t("TUIGroup.群公告")),1)]),u("span",{class:"close",onClick:i[2]||(i[2]=c=>I("notification"))},n(t(l).t("关闭")),1)]),u("div",S,[t(a)?k((e(),o("textarea",{key:0,"onUpdate:modelValue":i[3]||(i[3]=c=>h(s)?s.value=c:null),class:w([t(U)?"uni-height":"","textarea"]),onKeyup:T(p,["enter"])},null,34)),[[y,t(s)]]):(e(),o("section",j,[t(r).notification?(e(),o("article",J,n(t(r).notification),1)):(e(),o("p",F,n(t(l).t("TUIGroup.暂无公告")),1))])),t(f)?(e(),o("footer",W,[t(a)?(e(),o("button",{key:0,class:"btn",onClick:p},n(t(l).t("TUIGroup.发布")),1)):(e(),o("button",{key:1,class:"btn",onClick:i[4]||(i[4]=c=>a.value=!t(a))},n(t(l).t("TUIGroup.编辑")),1))])):b("",!0)])])])):(e(),o("main",B,[t(a)?k((e(),o("textarea",{key:0,"onUpdate:modelValue":i[0]||(i[0]=c=>h(s)?s.value=c:null),class:"textarea",onKeyup:T(p,["enter"])},null,544)),[[y,t(s)]]):(e(),o("section",O,[t(r).notification?(e(),o("article",R,n(t(r).notification),1)):(e(),o("p",P,n(t(l).t("TUIGroup.暂无公告")),1))])),t(f)?(e(),o("footer",z,[t(a)?(e(),o("button",{key:0,class:"btn",onClick:p},n(t(l).t("TUIGroup.发布")),1)):(e(),o("button",{key:1,class:"btn",onClick:i[1]||(i[1]=c=>a.value=!t(a))},n(t(l).t("TUIGroup.编辑")),1))])):b("",!0)]))}});const ut=N(X,[["__scopeId","data-v-6ade7ff2"]]);export{ut as default};
