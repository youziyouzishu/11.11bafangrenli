import{d as w,r as o,aU as R,aW as E,o as p,c as h,a as d,G as _,aV as t,aO as A,aJ as H,aX as U,aP as B,aR as M,u as C,a9 as m,aw as z}from"./@vue-25170201.js";import"./adapter-vue-20243c9c.js";import{z as T,q as n,o as c,i as K,_ as N}from"./@tencentcloud-25a17c42.js";import I from"./Icon-fec85db6.js";import{s as q}from"./search-8a2a0342.js";import{c as D}from"./input-close-4e859ba7.js";import{a as u}from"./env-6b0ecdb8.js";import"./type-96adc8a0.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const P={class:"tui-search-input-left"},G=["placeholder"],J=w({__name:"index",props:{placeholder:{type:String,default:()=>T.t("TUISearch.搜索")},searchType:{type:String,default:"global",validator(l){return["global","conversation"].includes(l)}}},setup(l){const a=l,r=o(""),f=o(""),i=o(!1);function S(e){(e==null?void 0:e.searchType)===(a==null?void 0:a.searchType)&&(f.value=e==null?void 0:e.value,r.value=e==null?void 0:e.value)}function y(e){(e==null?void 0:e.searchType)===(a==null?void 0:a.searchType)&&(i.value=e==null?void 0:e.isSearching)}R(()=>{n.watch(c.SEARCH,{currentSearchInputValue:S,currentSearchingStatus:y})}),E(()=>{n.unwatch(c.SEARCH,{currentSearchInputValue:S,currentSearchingStatus:y})});const v=()=>{r.value!==f.value&&n.update(c.SEARCH,"currentSearchInputValue",{value:r.value,searchType:a.searchType})},g=()=>{i.value=!1,n.update(c.SEARCH,"currentSearchingStatus",{isSearching:!1,searchType:a.searchType}),n.update(c.SEARCH,"currentSearchInputValue",{value:"",searchType:a.searchType})},x=()=>{n.update(c.SEARCH,"currentSearchingStatus",{isSearching:!0,searchType:a.searchType})},V=()=>{var e,s;(s=(e=K)==null?void 0:e.hideKeyboard)==null||s.call(e)};return(e,s)=>(p(),h("div",{class:m(["tui-search-input-container",!t(u)&&"tui-search-input-container-h5",a.searchType==="global"?"tui-search-input-container-global":"tui-search-input-container-conversation"])},[d("div",{class:m(["tui-search-input",!t(u)&&"tui-search-input-h5"])},[d("div",P,[_(I,{class:"icon",file:t(q),width:"14px",height:"14px"},null,8,["file"])]),A(d("input",{"onUpdate:modelValue":s[0]||(s[0]=k=>U(r)?r.value=k:null),class:"tui-search-input-main",type:"text",placeholder:a.placeholder,focus:!1,enterkeyhint:"search",onBlur:V,onKeyup:B(v,["enter"]),onConfirm:v,onClick:M(x,["stop","prevent"])},null,40,G),[[H,t(r)]]),t(i)?(p(),h("div",{key:0,class:"tui-search-input-right",onClick:g},[_(I,{class:"icon",file:t(D),width:"14px",height:"14px"},null,8,["file"])])):C("",!0)],2),!t(u)&&t(i)&&a.searchType==="global"?(p(),h("div",{key:0,class:m(["tui-search-input-cancel",!t(u)&&"tui-search-input-h5-cancel"]),onClick:g},z(t(T).t("TUISearch.取消")),3)):C("",!0)],2))}});const ie=N(J,[["__scopeId","data-v-fcd7423b"]]);export{ie as default};
