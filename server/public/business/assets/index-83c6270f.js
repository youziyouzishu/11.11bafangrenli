import{A as Q,B as Y,L as ee,M as te,x as oe,C as ae,y as le,H as se,a1 as re,a as ie,a7 as ne,I as pe,J as me}from"./element-plus-64da2267.js";import{_ as ce}from"./index.vue_vue_type_script_setup_true_lang-abbb91f8.js";import{D as _e,w as de,n as ue}from"./index-7638d9aa.js";import{d as P,b0 as fe,r as f,b as be,aZ as he,al as ve,am as we,o as n,t as p,aM as t,G as o,aV as l,c as ye,F as ge,aj as ke,E as r,aO as b,a as E,u as h,aw as j,aR as Ce,aX as xe,b2 as S,af as je,ae as Ee}from"./@vue-25170201.js";import{u as Ve}from"./usePaging-8178f38d.js";import{u as De}from"./useDictOptions-8a3829c8.js";import{f as Se,a as Pe}from"./project_tasks-5f07ee3a.js";import"./lodash-2cc29f39.js";import{_ as Te}from"./edit.vue_vue_type_style_index_0_lang-155c1752.js";import{_ as $e}from"./audit.vue_vue_type_script_setup_true_lang-df2529ff.js";import{P as Re}from"./auth-29ea37c6.js";import{s as Ie}from"./element-china-area-data-0d190cbe.js";import{_ as Le}from"./@tencentcloud-25a17c42.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@element-plus-9559a6ac.js";import"./dayjs-346d7cd4.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./@vueuse-944ef3f4.js";import"./axios-67477f72.js";import"./vue-router-f7517f62.js";import"./pinia-1182f1fa.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./nprogress-ccaead9e.js";import"./@tiptap-008a465d.js";import"./prosemirror-state-c544e594.js";import"./prosemirror-model-8b0495eb.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-fc1f2a72.js";import"./prosemirror-view-ef3f9f96.js";import"./prosemirror-keymap-776f822d.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-5c2a1a07.js";import"./prosemirror-schema-list-1c96ec4d.js";import"./vue-clipboard3-f5f9feb9.js";import"./clipboard-3d849c41.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-1b502259.js";import"./@highlightjs-7a15facb.js";import"./path-to-regexp-767716ea.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";import"./index.vue_vue_type_style_index_0_lang-7a3f8fca.js";import"./@wangeditor-6cea8dc7.js";import"./picker-cc564b9a.js";import"./index-5e14258e.js";import"./index-c028864d.js";import"./index-e34f0d65.js";import"./index-95703132.js";import"./index.vue_vue_type_script_setup_true_lang-a07d4edd.js";import"./vue3-video-play-3af43ea7.js";import"./vuedraggable-78471ab3.js";import"./sortablejs-ca3d5840.js";import"./index-a5ff619c.js";import"./pay-f969c809.js";import"./recharge-8f45704b.js";import"./admin-d45d6653.js";const Be=v=>(je("data-v-79b22a52"),v=v(),Ee(),v),Fe={class:"mt-4"},Ue={class:"remarks"},Ae=Be(()=>E("i",{class:"el-icon-info"},null,-1)),Ne={class:"flex mt-4 justify-end"},Me=P({name:"projectTasksLists"}),Oe=P({...Me,setup(v){const w=fe();f(null);const y=f(!1);f(!1),f("pass");const T=[{label:"全部",value:null},{label:"待审核",value:0},{label:"关闭",value:1},{label:"通过",value:2},{label:"拒绝",value:3}],$=be(()=>{const s=[];return Ie.forEach(a=>{a.children.forEach(m=>{s.push({...m,label:`${a.label}/${m.label}`})})}),s}),R=s=>{const a=$.value.find(m=>m.value===s);return a?a.label:""},c=he({project_name:"",task_description:"",is_show:""}),g=f([]),I=s=>{g.value=s.map(({id:a})=>a)},{dictData:L}=De("education,experience,welfare"),{pager:d,getLists:u,resetParams:B,resetPage:F}=Ve({fetchFun:Pe,params:c}),U=async()=>{var s;y.value=!0,await S(),(s=w.value)==null||s.open("add")},A=async s=>{var a,m;y.value=!0,await S(),(a=w.value)==null||a.open("edit"),(m=w.value)==null||m.setFormData(s)},N=async s=>{await de.confirm("确定要关闭招聘项目？"),await Se({id:s}),u()},M=(s,a)=>s.is_show!==1;return u(),(s,a)=>{const m=Q,k=Y,O=ee,q=te,_=oe,G=ae,V=le,H=ue,i=se,C=re,J=ie,K=ne,W=ve("router-link"),X=pe,Z=ce,x=we("perms"),z=me;return n(),p(Re,null,{default:t(()=>[o(V,{class:"!border-none mb-4",shadow:"never"},{default:t(()=>[o(G,{class:"mb-[-16px]",model:l(c),inline:""},{default:t(()=>[o(k,{label:"",prop:"project_name"},{default:t(()=>[o(m,{class:"w-[280px]",modelValue:l(c).project_name,"onUpdate:modelValue":a[0]||(a[0]=e=>l(c).project_name=e),clearable:"",placeholder:"项目名称模糊搜索"},null,8,["modelValue"])]),_:1}),o(k,{label:"",prop:"project_id"},{default:t(()=>[o(q,{modelValue:l(c).is_show,"onUpdate:modelValue":a[1]||(a[1]=e=>l(c).is_show=e),class:"w-[140px]",placeholder:"筛选状态",onChange:s.filterTable},{default:t(()=>[(n(),ye(ge,null,ke(T,e=>o(O,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","onChange"])]),_:1}),o(k,null,{default:t(()=>[o(_,{type:"primary",onClick:l(F)},{default:t(()=>[r("查询")]),_:1},8,["onClick"]),o(_,{onClick:l(B)},{default:t(()=>[r("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),b((n(),p(V,{class:"!border-none",shadow:"never"},{default:t(()=>[b((n(),p(_,{type:"primary",onClick:U},{icon:t(()=>[o(H,{name:"el-icon-Plus"})]),default:t(()=>[r(" 发布 ")]),_:1})),[[x,["project_tasks/add"]]]),b((n(),p(_,{type:"danger",disabled:!l(g).length,onClick:a[2]||(a[2]=e=>N(l(g)))},{default:t(()=>[r(" 关闭 ")]),_:1},8,["disabled"])),[[x,["project_tasks/close"]]]),E("div",Fe,[o(X,{data:l(d).lists,onSelectionChange:I},{default:t(()=>[o(i,{type:"selection",width:"55",selectable:M,fixed:"left"}),o(i,{label:"项目名称",prop:"project_name",width:"160","show-overflow-tooltip":"",fixed:"left"}),o(i,{label:"状态",prop:"is_show",width:"115","show-overflow-tooltip":""},{default:t(({row:e})=>[e.is_show==0?(n(),p(C,{key:0,type:"waring"},{default:t(()=>[r("待审核")]),_:1})):h("",!0),e.is_show==2?(n(),p(C,{key:1,type:"success"},{default:t(()=>[r("审核通过")]),_:1})):h("",!0),e.is_show==1?(n(),p(C,{key:2,type:"danger"},{default:t(()=>[r("已关闭")]),_:1})):h("",!0),E("div",Ue,[e.is_show==3?(n(),p(J,{key:0,effect:"dark",content:e.show_remarks,placement:"top"},{default:t(()=>[o(C,{type:"danger"},{default:t(()=>[r(" 拒绝 "),Ae]),_:1})]),_:2},1032,["content"])):h("",!0)])]),_:1}),o(i,{label:"招聘成本",prop:"salary_range","show-overflow-tooltip":""},{default:t(({row:e})=>[r(j(e.recruitment_settlement_value)+" 元 ",1)]),_:1}),o(i,{label:"驻场成本",prop:"site_settlement_value","show-overflow-tooltip":""},{default:t(({row:e})=>[r(j(e.site_settlement_value)+" 元 ",1)]),_:1}),o(i,{label:"薪资范围",prop:"salary_range","show-overflow-tooltip":""},{default:t(({row:e})=>[r(j(e.is_salary==2?e.salary_range+" ~ "+e.salary_range_end+" K / 月":"面议"),1)]),_:1}),o(i,{label:"人力公司",prop:"org_name",width:"150","show-overflow-tooltip":""}),o(i,{label:"上岗城市",prop:"up_city","show-overflow-tooltip":"",width:"150"},{default:t(({row:e})=>[r(j(R(e.up_city)),1)]),_:1}),o(i,{label:"阅读数",prop:"click_actual","show-overflow-tooltip":""}),o(i,{label:"发布日期",prop:"recruitment_start_time",width:"205","show-overflow-tooltip":""}),o(i,{label:"综合评分",prop:"project_score",width:"135"},{default:t(({row:e})=>[o(k,{label:"",prop:"score",style:{"margin-top":"17px"}},{default:t(()=>[o(K,{modelValue:e.project_score,"onUpdate:modelValue":D=>e.project_score=D,max:5,disabled:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1}),o(i,{label:"操作",width:"160",fixed:"left"},{default:t(({row:e})=>[b((n(),p(_,{type:"primary",onClick:a[3]||(a[3]=Ce(()=>{},["stop"])),link:""},{default:t(()=>[o(W,{to:{path:l(_e)("project_tasks_audit/index"),query:{project_id:e.id,type:"2"}}},{default:t(()=>[r(" 管理 ")]),_:2},1032,["to"])]),_:2},1024)),[[x,["project_tasks/edit"]]]),b((n(),p(_,{disabled:e.is_show==1,type:"primary",link:"",onClick:D=>A(e)},{default:t(()=>[r(" 编辑 ")]),_:2},1032,["disabled","onClick"])),[[x,["project_tasks/edit"]]]),o($e,{id:e.id,contract_url:e.cooperative_contract,org_name:e.org_name,buttonDisabled:!l(g).length,onAuditSuccess:l(u)},null,8,["id","contract_url","org_name","buttonDisabled","onAuditSuccess"])]),_:1})]),_:1},8,["data"])]),E("div",Ne,[o(Z,{modelValue:l(d),"onUpdate:modelValue":a[4]||(a[4]=e=>xe(d)?d.value=e:null),onChange:l(u)},null,8,["modelValue","onChange"])])]),_:1})),[[z,l(d).loading]]),l(y)?(n(),p(Te,{key:0,ref_key:"editRef",ref:w,"dict-data":l(L),onSuccess:l(u),onClose:a[5]||(a[5]=e=>y.value=!1)},null,8,["dict-data","onSuccess"])):h("",!0)]),_:1})}}});const mo=Le(Oe,[["__scopeId","data-v-79b22a52"]]);export{mo as default};
