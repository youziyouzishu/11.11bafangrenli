import"./adapter-vue-20243c9c.js";import{R as h,r as n,q as k,o as I,I as y,_ as M}from"./@tencentcloud-25a17c42.js";import _ from"./Icon-fec85db6.js";import{a as l,c as R}from"./env-6b0ecdb8.js";import{d as x,r as m,aU as T,w as N,o,c as r,a as f,G as b,aV as a,F as V,aj as w,t as A,u as v,aw as D,a9 as H}from"./@vue-25170201.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const O="/business/assets/search-more-7ecab7ad.svg",U={key:0,class:"tui-search-more-list"},B=["onClick"],L={class:"list-item-title"},F=x({__name:"index",props:{searchType:{type:String,default:"global",validator(i){return["global","conversation"].includes(i)}}},setup(i){const E=i,p=m(),t=m(!1),u=()=>{t.value=!t.value,!R&&t.value&&y.listen({domRefs:p.value,handler:C})},d=m([]),S=c=>{var s;const{listener:e={onClicked:()=>{}}}=c;(s=e==null?void 0:e.onClicked)==null||s.call(e,c),u()},C=()=>{t.value=!1};return T(()=>{d.value=[...h.getExtensionList(n.TUISearch.EXTENSION.SEARCH_MORE.EXT_ID)],h.callService({serviceName:n.TUIConversation.SERVICE.NAME,method:n.TUIConversation.SERVICE.METHOD.HIDE_CONVERSATION_HEADER,params:{}})}),N(()=>t.value,()=>{t.value&&k.update(I.SEARCH,"currentSearchingStatus",{isSearching:!1,searchType:E.searchType})}),(c,e)=>(o(),r("div",{ref_key:"searchMoreRef",ref:p,class:H(["tui-search-more",!a(l)&&"tui-search-more-h5"])},[f("div",{class:"more",onClick:e[0]||(e[0]=s=>u())},[b(_,{class:"more-icon",file:a(O),width:a(l)?"28px":"34px",height:a(l)?"28px":"34px"},null,8,["file","width","height"])]),a(t)?(o(),r("ul",U,[(o(!0),r(V,null,w(a(d),(s,g)=>(o(),r("li",{key:g,class:"list-item",onClick:q=>S(s)},[s.icon?(o(),A(_,{key:0,class:"list-item-icon",file:s.icon},null,8,["file"])):v("",!0),f("div",L,D(s.text),1)],8,B))),128))])):v("",!0)],2))}});const ae=M(F,[["__scopeId","data-v-b71b6570"]]);export{ae as default};
