import{d as V,r,aU as D,aW as E,o as i,c,aV as t,a9 as u,G as I,u as y,a as f,aw as b,F as O,aj as z,aR as B,af as H,ae as L}from"./@vue-25170201.js";import"./adapter-vue-20243c9c.js";import{r as M,q as h,o as m,z as P,_ as R}from"./@tencentcloud-25a17c42.js";import S from"./Icon-fec85db6.js";import{b as q}from"./back-51a4f00d.js";import{a as l}from"./env-6b0ecdb8.js";import{T as A}from"./config-58aee8b5.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const F=n=>(H("data-v-cf13fefa"),n=n(),L(),n),G={class:"chat-header-container"},$=F(()=>f("div",null,null,-1)),j=["onClick"],W=V({__name:"index",props:{headerExtensionList:{default:()=>[]}},emits:["closeChat"],setup(n,{emit:w}){const x=n,N=w,s=r(),d=r(""),v=r(!1),C=r(""),_=r(A.getChatType()!==M.TUIChat.TYPE.ROOM);D(()=>{h.watch(m.CONV,{currentConversation:g}),h.watch(m.CHAT,{typingStatus:k})}),E(()=>{h.unwatch(m.CONV,{currentConversation:g}),h.unwatch(m.CHAT,{typingStatus:k})});const T=o=>{N("closeChat",o)},U=o=>{var e,a;(a=(e=o.listener).onClicked)==null||a.call(e,{groupID:C.value})};function g(o){var e,a,p;s.value=o,C.value=(a=(e=s.value)==null?void 0:e.groupProfile)==null?void 0:a.groupID,d.value=(p=s==null?void 0:s.value)==null?void 0:p.getShowName()}function k(o){var e;v.value=o,v.value?d.value=P.t("TUIChat.对方正在输入"):d.value=((e=s.value)==null?void 0:e.getShowName())||""}return(o,e)=>(i(),c("div",{class:u(["chat-header",!t(l)&&"chat-header-h5"])},[!t(l)&&t(_)?(i(),c("div",{key:0,class:u(["chat-header-back",!t(l)&&"chat-header-h5-back"]),onClick:e[0]||(e[0]=a=>T(t(s).conversationID))},[I(S,{file:t(q)},null,8,["file"])],2)):y("",!0),f("div",G,[t(_)?(i(),c("div",{key:0,class:u(["chat-header-content",!t(l)&&"chat-header-h5-content"])},b(t(d)),3)):y("",!0),$]),f("div",{class:u(["chat-header-setting",!t(l)&&"chat-header-h5-setting"])},[(i(!0),c(O,null,z(x.headerExtensionList,(a,p)=>(i(),c("div",{key:p,onClick:B(Y=>U(a),["stop"])},[I(S,{file:a.icon},null,8,["file"])],8,j))),128))],2)],2))}});const ue=R(W,[["__scopeId","data-v-cf13fefa"]]);export{ue as default};
