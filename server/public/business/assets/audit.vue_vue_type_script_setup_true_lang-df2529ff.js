import{x as R,S as A,O as N,P,A as D}from"./element-plus-64da2267.js";import{b as S}from"./project_tasks-5f07ee3a.js";import{P as j}from"./index-e34f0d65.js";import{d as U,r,w as F,aU as G,am as M,o as d,c as O,aO as T,t as f,aM as s,E as u,G as l,a as m,aw as I,u as q,F as z}from"./@vue-25170201.js";const H={class:"mb-5"},J={class:"mb-3"},K=["href"],Y=U({__name:"audit",props:{id:[Number,Array],contract_url:String,org_name:String,buttonDisabled:Boolean},emits:["audit-success"],setup(v,{emit:b}){const t=r(!1),o=r("2"),n=r(""),c=r(null),h=b,i=v,w=()=>{y()},y=(a="add")=>{var e;(e=c.value)==null||e.open()},k=()=>{},V=async()=>{var a;o.value==="3"&&!n.value||(t.value=!1,await S({id:i.id,is_show:o.value,show_remarks:n.value})),(a=c.value)==null||a.close(),h("audit-success")};return F(()=>t,a=>{t.value=a}),G(()=>{t.value=t.value}),(a,e)=>{const g=R,C=A,_=N,E=P,x=D,B=M("perms");return d(),O(z,null,[T((d(),f(g,{type:"primary",onClick:w,link:""},{default:s(()=>[u("审核")]),_:1})),[[B,["project_tasks/audit"]]]),l(j,{ref_key:"popupRef",ref:c,title:"审核",async:!0,width:"550px",onConfirm:V,onClose:k},{default:s(()=>[m("div",H,[l(C,{type:"warning",title:"温馨提示：审核员请认真阅读确认人力是否有资格招聘",closable:!1,"show-icon":""})]),m("div",J,[u(I(i.org_name)+" ",1),m("a",{class:"mr-2",style:{color:"var(--el-color-primary)"},href:i.contract_url,target:"_blank"},"查看用工方合同",8,K)]),l(E,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=p=>o.value=p)},{default:s(()=>[l(_,{label:"2"},{default:s(()=>[u("通过")]),_:1}),l(_,{label:"3"},{default:s(()=>[u("拒绝")]),_:1})]),_:1},8,["modelValue"]),o.value==="3"?(d(),f(x,{key:0,class:"mt-3",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=p=>n.value=p),placeholder:"请输入拒绝理由"},null,8,["modelValue"])):q("",!0)]),_:1},512)],64)}}});export{Y as _};
