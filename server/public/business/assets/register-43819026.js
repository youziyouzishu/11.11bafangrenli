import{x as U,A as B,B as D,C as ee,D as oe,F as te}from"./element-plus-64da2267.js";import{i as re}from"./@chenfengyuan-4e6e706a.js";import{d as L,r as g,al as P,o as R,t as N,aM as o,E as l,aw as T,b0 as E,b as ne,aZ as se,aU as ae,c as le,a as i,G as e,aP as S,aV as q,af as ie,ae as ce}from"./@vue-25170201.js";import{d as pe}from"./@vueuse-944ef3f4.js";import{_ as j}from"./@tencentcloud-25a17c42.js";import{k as de,u as me,m as A,A as K,o as ue,P as _e,_ as fe,n as ge}from"./index-7638d9aa.js";import{u as ve,_ as ye}from"./useLockFn-b188ab1f.js";import{u as we,a as ke}from"./vue-router-f7517f62.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@element-plus-9559a6ac.js";import"./dayjs-346d7cd4.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";import"./lodash-2cc29f39.js";import"./axios-67477f72.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./nprogress-ccaead9e.js";import"./@tiptap-008a465d.js";import"./prosemirror-state-c544e594.js";import"./prosemirror-model-8b0495eb.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-fc1f2a72.js";import"./prosemirror-view-ef3f9f96.js";import"./prosemirror-keymap-776f822d.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-5c2a1a07.js";import"./prosemirror-schema-list-1c96ec4d.js";import"./vue-clipboard3-f5f9feb9.js";import"./clipboard-3d849c41.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-1b502259.js";import"./@highlightjs-7a15facb.js";import"./path-to-regexp-767716ea.js";const xe=L({components:{VueCountdown:re,ElButton:U},props:{seconds:{type:Number,default:60},startText:{type:String,default:"获取验证码"},changeText:{type:String,default:"x秒重新获取"},endText:{type:String,default:"重新获取"}},emits:["click-get"],setup(r,{emit:m}){const c=g(!1),u=g(!1),v=async()=>{c.value=!0},y=p=>r.changeText.replace("x",p),_=()=>{c.value=!1,u.value=!0},d=pe(()=>{m("click-get")},1e3,!1);return{getChangeText:y,isStart:c,start:v,isRetry:u,handleEnd:_,handlStart:d}}});function he(r,m,c,u,v,y){const _=U,d=P("VueCountdown");return r.isStart?(R(),N(d,{key:1,ref:"vueCountdownRef",time:r.seconds*1e3,onEnd:r.handleEnd},{default:o(({totalSeconds:p})=>[l(T(r.getChangeText(p)),1)]),_:1},8,["time","onEnd"])):(R(),N(_,{key:0,onClick:r.handlStart,link:""},{default:o(()=>[l(T(r.isRetry?r.endText:r.startText),1)]),_:1},8,["onClick"]))}const be=j(xe,[["render",he]]),Ve=r=>(ie("data-v-9ac56038"),r=r(),ce(),r),Ce={class:"login flex flex-col"},Ee={class:"flex-1 flex items-center justify-center"},Se={class:"login-card flex rounded-md"},Re={class:"flex-1 h-full hidden md:inline-block"},Te={class:"login-form bg-body flex flex-col justify-center px-10 py-10 md:w-[400px] w-[375px] flex-none mx-auto"},Ue={class:"text-center text-3xl font-medium mb-8"},Ie={class:"flex justify-center leading-5 w-[90px] pl-2.5 border-l border-br"},Fe={class:"mb-3"},$e=Ve(()=>i("div",null,"请确认您已阅读并同意相关协议和隐私政策。",-1)),Be={class:"dialog-footer"},De=L({__name:"register",setup(r){const m=E(),c=E(),u=de(),v=me(),y=we(),_=ke(),d=g(!1),p=g(!1),f=g(!1),I=ne(()=>u.config),F=E(),s=se({account:"",password:"",password_confirm:"",code:""}),M={account:[{required:!0,message:"请输入手机号",trigger:["blur"]}],password:[{required:!0,message:"请输入密码",trigger:["blur"]}],password_confirm:[{required:!0,message:"请确认密码",trigger:["blur"]}],code:[{required:!0,message:"请输入手机验证码",trigger:["blur"]}]},z=async()=>{var n,t;await((n=c.value)==null?void 0:n.validateField(["mobile"])),await ue({scene:"YZMDL",mobile:s.account}),(t=F.value)==null||t.start()},G=()=>{var n;if(!s.password)return(n=m.value)==null?void 0:n.focus();w()},Y=()=>{p.value=!0,f.value=!1,$()},w=async()=>{var n;if(await((n=c.value)==null?void 0:n.validate()),!p.value)f.value=!0;else{A.set(K,{remember:d.value,account:d.value?s.account:""}),await v.register(s);const{query:{redirect:t}}=y,x=typeof t=="string"?t:_e.INDEX;_.push(x)}},{isLock:Z,lockFn:$}=ve(w);return ae(()=>{const n=A.get(K);n!=null&&n.remember&&(d.value=n.remember,s.account=n.account)}),(n,t)=>{const x=fe,h=ge,b=B,V=D,O=be,X=B,H=D,J=ee,k=P("router-link"),Q=oe,C=U,W=te;return R(),le("div",Ce,[i("div",Ee,[i("div",Se,[i("div",Re,[e(x,{src:I.value.login_image,width:400,height:"100%"},null,8,["src"])]),i("div",Te,[i("div",Ue,T(I.value.web_name),1),e(J,{ref_key:"formRef",ref:c,model:s,size:"large",rules:M},{default:o(()=>[e(V,{prop:"account"},{default:o(()=>[e(b,{modelValue:s.account,"onUpdate:modelValue":t[0]||(t[0]=a=>s.account=a),placeholder:"请输入手机号",onKeyup:S(G,["enter"])},{prepend:o(()=>[e(h,{name:"el-icon-User"})]),_:1},8,["modelValue"])]),_:1}),e(V,{prop:"password"},{default:o(()=>[e(b,{ref_key:"passwordRef",ref:m,modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=a=>s.password=a),"show-password":"",placeholder:"请输入密码",onKeyup:S(w,["enter"])},{prepend:o(()=>[e(h,{name:"el-icon-Lock"})]),_:1},8,["modelValue"])]),_:1}),e(V,{prop:"password_confirm"},{default:o(()=>[e(b,{ref:"password2Ref",modelValue:s.password_confirm,"onUpdate:modelValue":t[2]||(t[2]=a=>s.password_confirm=a),"show-password":"",placeholder:"请确认密码",onKeyup:S(w,["enter"])},{prepend:o(()=>[e(h,{name:"el-icon-Lock"})]),_:1},8,["modelValue"])]),_:1}),e(H,{prop:"code"},{default:o(()=>[e(X,{modelValue:s.code,"onUpdate:modelValue":t[3]||(t[3]=a=>s.code=a),placeholder:"请输入验证码"},{suffix:o(()=>[i("div",Ie,[e(O,{ref_key:"verificationCodeRef",ref:F,onClickGet:z},null,512)])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),i("div",Fe,[e(Q,{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=a=>p.value=a)},{default:o(()=>[l("我已阅读并同意 "),e(k,{to:"/policy/service",target:"_blank"},{default:o(()=>[l("《八方人力协议》")]),_:1}),l(" 和 "),e(k,{to:"/policy/privacy",target:"_blank"},{default:o(()=>[l("《隐私政策》")]),_:1})]),_:1},8,["modelValue"])]),e(C,{type:"primary",size:"large",loading:q(Z),onClick:q($)},{default:o(()=>[l(" 注册账号 ")]),_:1},8,["loading","onClick"]),e(W,{title:"确认",modelValue:f.value,"onUpdate:modelValue":t[6]||(t[6]=a=>f.value=a),width:"30%"},{footer:o(()=>[i("div",Be,[e(C,{onClick:t[5]||(t[5]=a=>f.value=!1)},{default:o(()=>[l("取消")]),_:1}),e(C,{type:"primary",onClick:Y},{default:o(()=>[l("确定")]),_:1})])]),default:o(()=>[$e,e(k,{to:"/policy/service",target:"_blank"},{default:o(()=>[l("《八方人力协议》")]),_:1}),l(" 和 "),e(k,{to:"/policy/privacy",target:"_blank"},{default:o(()=>[l("《隐私政策》")]),_:1})]),_:1},8,["modelValue"])])])]),e(ye)])}}});const qo=j(De,[["__scopeId","data-v-9ac56038"]]);export{qo as default};
