import{d as D,r as c,o as m,c as u,a as g,G as w,a9 as s,aV as o,aw as I,u as B,aO as x,aK as S,t as R,aM as P,ak as _,aR as T}from"./@vue-25170201.js";import"./adapter-vue-20243c9c.js";import{I as V,_ as F}from"./@tencentcloud-25a17c42.js";import N from"./Icon-fec85db6.js";import W from"./index-28e12cb3.js";import{c as r,a as l}from"./env-6b0ecdb8.js";import"./tim-upload-plugin-5e9dfffb.js";import"./tim-profanity-filter-plugin-23d0f338.js";import"./vue-04189d9a.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-ca6139e0.js";import"./trtc-sdk-v5-8c3e4b7a.js";import"./pinia-1182f1fa.js";import"./mitt-f7ef348c.js";import"./interactjs-c534f49a.js";import"./rtc-detect-1f468b1b.js";const H={key:0,class:s(["toolbar-item-container-uni-title"])},M=D({__name:"index",props:{iconFile:{type:String,required:!0},title:{type:String,default:""},needDialog:{type:Boolean,default:!0},iconWidth:{type:String,default:"20px"},iconHeight:{type:String,default:"20px"},needBottomPopup:{type:Boolean,default:!1}},emits:["onIconClick","onDialogClose","onDialogShow"],setup(h,{expose:v,emit:b}){const t=h,n=b,e=c(!1),p=c(),a=c(),y=()=>{n("onIconClick",a),l&&V.listen({domRefs:p.value,handler:k}),t.needDialog&&d(!e.value)},k=()=>{e.value=!1,n("onDialogClose",a)},d=i=>{if(e.value!==i)switch(e.value=i,i){case!0:n("onDialogShow",a);break;case!1:n("onDialogClose",a)}},C=()=>{e.value=!1};return v({toggleDialogDisplay:d}),(i,f)=>(m(),u("div",{ref_key:"toolbarItemRef",ref:p,class:s(["toolbar-item-container",!o(l)&&"toolbar-item-container-h5",o(r)&&"toolbar-item-container-uni"])},[g("div",{class:s(["toolbar-item-container-icon",o(r)&&"toolbar-item-container-uni-icon"]),onClick:y},[w(N,{file:t.iconFile,class:"icon",width:t.iconWidth,height:t.iconHeight},null,8,["file","width","height"])],2),o(r)?(m(),u("div",H,I(t.title),1)):B("",!0),x(g("div",{ref_key:"dialogRef",ref:a,class:s(["toolbar-item-container-dialog",!o(l)&&"toolbar-item-container-h5-dialog",o(r)&&"toolbar-item-container-uni-dialog"])},[t.needBottomPopup&&!o(l)?(m(),R(W,{key:0,class:"toolbar-bottom-popup",show:o(e),onTouchmove:f[0]||(f[0]=T(()=>{},["stop","prevent"])),onOnClose:C},{default:P(()=>[_(i.$slots,"default",{},void 0,!0)]),_:3},8,["show"])):_(i.$slots,"default",{key:1},void 0,!0)],2),[[S,o(e)]])],2))}});const oo=F(M,[["__scopeId","data-v-879133e5"]]);export{oo as default};
