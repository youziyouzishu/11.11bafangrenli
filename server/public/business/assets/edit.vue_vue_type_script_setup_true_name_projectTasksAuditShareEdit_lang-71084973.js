import{A as w,B as P,C as S}from"./element-plus-64da2267.js";import{P as T}from"./index-e34f0d65.js";import{q as d}from"./index-7638d9aa.js";import"./lodash-2cc29f39.js";import{d as h,b0 as k,r as q,b as x,aZ as b,o as C,c as R,G as s,aM as i,aV as r}from"./@vue-25170201.js";function L(o){return d.get({url:"/project_tasks_audit_share/lists",params:o})}function U(o){return d.post({url:"/project_tasks_audit_share/add",params:o})}function B(o){return d.post({url:"/project_tasks_audit_share/edit",params:o})}function M(o){return d.post({url:"/project_tasks_audit_share/delete",params:o})}function F(o){return d.get({url:"/project_tasks_audit_share/detail",params:o})}const K={class:"edit-popup"},Y=h({name:"projectTasksAuditShareEdit"}),z=h({...Y,props:{dictData:{type:Object,default:()=>({})}},emits:["success","close"],setup(o,{expose:y,emit:j}){const _=j,m=k(),p=k(),c=q("add"),g=x(()=>c.value=="edit"?"编辑邀请日志":"新增邀请日志"),t=b({id:"",unikey:"",project_audit_id:"",user_id:"",type:""}),V=b({unikey:[{required:!0,message:"请输入分享KEY",trigger:["blur"]}],project_audit_id:[{required:!0,message:"请输入项目审核ID",trigger:["blur"]}],user_id:[{required:!0,message:"请输入share用户ID",trigger:["blur"]}],type:[{required:!0,message:"请输入审核类型【ZHAOPING】",trigger:["blur"]}]}),f=async a=>{for(const e in t)a[e]!=null&&a[e]!=null&&(t[e]=a[e])},D=async a=>{const e=await F({id:a.id});f(e)},v=async()=>{var e,l;await((e=m.value)==null?void 0:e.validate());const a={...t};c.value=="edit"?await B(a):await U(a),(l=p.value)==null||l.close(),_("success")},A=(a="add")=>{var e;c.value=a,(e=p.value)==null||e.open()},E=()=>{_("close")};return y({open:A,setFormData:f,getDetail:D}),(a,e)=>{const l=w,n=P,I=S;return C(),R("div",K,[s(T,{ref_key:"popupRef",ref:p,title:r(g),async:!0,width:"550px",onConfirm:v,onClose:E},{default:i(()=>[s(I,{ref_key:"formRef",ref:m,model:r(t),"label-width":"130px",rules:r(V)},{default:i(()=>[s(n,{label:"分享KEY",prop:"unikey"},{default:i(()=>[s(l,{modelValue:r(t).unikey,"onUpdate:modelValue":e[0]||(e[0]=u=>r(t).unikey=u),clearable:"",placeholder:"请输入分享KEY"},null,8,["modelValue"])]),_:1}),s(n,{label:"项目审核ID",prop:"project_audit_id"},{default:i(()=>[s(l,{modelValue:r(t).project_audit_id,"onUpdate:modelValue":e[1]||(e[1]=u=>r(t).project_audit_id=u),clearable:"",placeholder:"请输入项目审核ID"},null,8,["modelValue"])]),_:1}),s(n,{label:"ShareUserID",prop:"user_id"},{default:i(()=>[s(l,{modelValue:r(t).user_id,"onUpdate:modelValue":e[2]||(e[2]=u=>r(t).user_id=u),clearable:"",placeholder:"请输入share用户ID"},null,8,["modelValue"])]),_:1}),s(n,{label:"审核类型",prop:"type"},{default:i(()=>[s(l,{modelValue:r(t).type,"onUpdate:modelValue":e[3]||(e[3]=u=>r(t).type=u),clearable:"",placeholder:"请输入审核类型"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{z as _,M as a,L as b};
