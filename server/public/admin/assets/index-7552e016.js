import{d as R,r as c,b as O,o as v,c as g,a as C,ap as _,aT as Y,aO as B,a_ as l,b0 as M,ae as p,y,M as V,x as q}from"./@vue-a164be7a.js";import"./adapter-vue-24f22062.js";import{z as w,_ as A}from"./@tencentcloud-7fc831ec.js";import{g as I,d as h,l as N,i as W,f as G}from"./dayjs-0ab82212.js";import z from"./date-picker-panel-c0a79893.js";import{c as j,a as S}from"./env-a593fd1d.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";import"./date-table-8e59b520.js";import"./Icon-2c0593f3.js";const H=["placeholder","disabled"],J={key:0},K=["placeholder","disabled"],Q=R({__name:"index",props:{type:{type:String,default:"range"},rangeTableType:{type:String,default:"one"},startPlaceholder:{type:String,default:()=>w.t("开始时间")},endPlaceholder:{type:String,default:()=>w.t("开始时间")},popupPosition:{type:String,default:"bottom"},defaultSingleDate:{type:I.Dayjs,default:null,required:!1}},emits:["pick","change"],setup(d,{emit:E}){h.extend(N),h.extend(W),h.extend(G),h.locale("zh-cn");const u=E,a=d,f=c(!1),m=c(a.type==="single"?a==null?void 0:a.defaultSingleDate:null),t=c(a.type==="single"?a==null?void 0:a.defaultSingleDate:null),n=c(a.type==="single"?a==null?void 0:a.defaultSingleDate:null),D=O(()=>{var e;return(e=t==null?void 0:t.value)==null?void 0:e.format("YYYY/MM/DD")}),P=O(()=>{var e;return(e=n==null?void 0:n.value)==null?void 0:e.format("YYYY/MM/DD")}),F=a.startPlaceholder,U=a.endPlaceholder,s=c(),b=c(),k=e=>{f.value=e},i=e=>{const r=[];return e.forEach(o=>{o?(r.push("tui-date-picker-"+o),!S&&r.push("tui-date-picker-h5-"+o)):(r.push("tui-date-picker"),!S&&r.push("tui-date-picker-h5"))}),r},x=e=>{var r,o,T;switch(a.type){case"single":t.value=e.date,n.value=e.date,m.value=e.date,u("change",e),u("pick",m.value),setTimeout(()=>{k(!1)},300);break;case"range":t!=null&&t.value?n!=null&&n.value?(t.value=e.date,n.value=null):((r=t==null?void 0:t.value)!=null&&r.isSameOrBefore(e.date,"day")?n.value=e.date:(n.value=t.value,t.value=e.date),u("pick",{startDate:(o=t==null?void 0:t.value)==null?void 0:o.startOf("date"),endDate:(T=n==null?void 0:n.value)==null?void 0:T.endOf("date")}),setTimeout(()=>{k(!1)},200)):t.value=e.date,u("change",{startDate:t.value,endDate:n.value,leftCurrentPanel:s.value,rightCurrentPanel:s.value});break}},$=e=>{s.value=e,u("change",{startDate:t.value,endDate:n.value,leftCurrentPanel:s.value,rightCurrentPanel:s.value})},L=e=>{b.value=e,u("change",{startDate:t.value,endDate:n.value,leftCurrentPanel:s.value,rightCurrentPanel:s.value})};return(e,r)=>(v(),g("div",{class:p([i([""])])},[C("div",{class:p([i(["input"]),l(f)&&i(["input-active"])]),onClick:r[2]||(r[2]=o=>k(!l(f)))},[_(e.$slots,"start-icon",{},void 0,!0),Y(C("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>M(D)?D.value=o:null),placeholder:l(F),class:p([i(["input-start"])]),style:{"pointer-events":"none"},type:"text",readonly:!0,disabled:l(j),autocomplete:"false"},null,10,H),[[B,l(D)]]),d.type!=="single"?(v(),g("span",J,"-")):y("",!0),d.type!=="single"?Y((v(),g("input",{key:1,"onUpdate:modelValue":r[1]||(r[1]=o=>M(P)?P.value=o:null),placeholder:l(U),class:p([i(["input-end"])]),style:{"pointer-events":"none"},type:"text",readonly:!0,disabled:l(j),autocomplete:"false"},null,10,K)),[[B,l(P)]]):y("",!0),_(e.$slots,"end-icon",{},void 0,!0)],2),l(f)?(v(),g("div",{key:0,class:p([i(["dialog"])])},[C("div",{class:p([i(["dialog-container","dialog-container-"+d.rangeTableType,"dialog-container-"+d.popupPosition])])},[V(z,{type:a.type,rangeType:"left",date:l(m),startDate:l(t),endDate:l(n),currentOtherPanelValue:l(b),onPick:x,onChange:$},null,8,["type","date","startDate","endDate","currentOtherPanelValue"]),a.type==="range"&&l(S)&&d.rangeTableType==="two"?(v(),q(z,{key:0,type:a.type,rangeType:"right",date:l(m),startDate:l(t),endDate:l(n),currentOtherPanelValue:l(s),onPick:x,onChange:L},null,8,["type","date","startDate","endDate","currentOtherPanelValue"])):y("",!0)],2)],2)):y("",!0)],2))}});const ye=A(Q,[["__scopeId","data-v-7dc1e5f7"]]);export{ye as default};
