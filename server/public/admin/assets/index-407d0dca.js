var N=Object.defineProperty;var O=(i,e,t)=>e in i?N(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var f=(i,e,t)=>(O(i,typeof e!="symbol"?e+"":e,t),t);import{d as P,r as g,b as U,aZ as V,o as s,c as a,a_ as c,F as k,ao as b,a as r,x as E,aB as x,aW as B,y as _}from"./@vue-a164be7a.js";import"./adapter-vue-24f22062.js";import y from"./Icon-2c0593f3.js";import{z as h,R as S,r as T,_ as A}from"./@tencentcloud-7fc831ec.js";import{a as L}from"./env-a593fd1d.js";import{e as I}from"./constant-bad60a54.js";const w="/admin/assets/start-group-6d6b5fbb.svg",z="/admin/assets/icon-c2c-d80299ab.svg",o=class o{static getInstance(){return o.instance||(o.instance=new o),o.instance}getMenu(){const e=this.generateMenuList();return!L&&e.length>0?[{text:h.t("TUIConversation.发起会话"),data:{name:"all",children:e}}]:e}generateMenuList(){return[{icon:z,text:h.t("TUIConversation.发起单聊"),data:{name:I.TYPEC2C},listener:{onClicked:this.createConversation.bind(this)}},{icon:w,text:h.t("TUIConversation.发起群聊"),data:{name:I.TYPEGROUP},listener:{onClicked:this.createConversation.bind(this)}}]}createConversation(e){S.callService({serviceName:T.TUIConversation.SERVICE.NAME,method:T.TUIConversation.SERVICE.METHOD.CREATE_CONVERSATION,params:e})}};f(o,"instance");let m=o;const Y={key:0,class:"list"},j=["onClick"],D={key:1,class:"plus"},F={class:"tui-conversation-header-item-title"},G={key:1,class:"tui-conversation-header-children list"},$=["onClick"],H={class:"tui-conversation-header-item-title"},W=P({__name:"index",setup(i,{expose:e}){const t=g([]),M=g(),C=U(()=>m.getInstance().getMenu());V(()=>{t.value=[]});const v=l=>{const{data:{children:d},listener:n={onClicked:()=>{}}}=l;d?t.value=t.value.length>0?[]:d:(n.onClicked(l),p())},p=()=>{t.value=[]};return e({closeChildren:p}),(l,d)=>(s(),a("div",{ref:c(M),class:"tui-conversation-header"},[c(C).length>0?(s(),a("ul",Y,[(s(!0),a(k,null,b(c(C),(n,u)=>(s(),a("li",{key:u,class:"list-item"},[r("main",{class:"tui-conversation-header-item",onClick:B(R=>v(n),["stop"])},[n.icon&&!n.data.children?(s(),E(y,{key:0,class:"tui-conversation-header-item-icon",file:n.icon},null,8,["file"])):(s(),a("i",D)),r("h1",F,x(n.text),1)],8,j)]))),128))])):_("",!0),c(t).length>0?(s(),a("ul",G,[(s(!0),a(k,null,b(c(t),(n,u)=>(s(),a("li",{key:u,class:"list-item"},[r("main",{class:"tui-conversation-header-item",onClick:R=>v(n)},[n.icon?(s(),E(y,{key:0,class:"tui-conversation-header-item-icon",file:n.icon},null,8,["file"])):_("",!0),r("h1",H,x(n.text),1)],8,$)]))),128))])):_("",!0)],512))}});const Z=A(W,[["__scopeId","data-v-300517bb"]]),ne=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"}));export{Z as C,w as a,z as c,ne as i};
