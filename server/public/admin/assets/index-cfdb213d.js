import{c as j,r as x,v as k}from"./adapter-vue-24f22062.js";import{i as q}from"./@tencentcloud-7fc831ec.js";import{M as T}from"./index-e4ac2ab7.js";const o=[];let m=1;const A=Math.trunc(k),w=document.body,N=function(i){var d;let p=i.offset||20;o.forEach(({vm:n})=>{var l,s;p+=(((l=n==null?void 0:n.el)==null?void 0:l.offsetHeight)||((s=n==null?void 0:n.$el)==null?void 0:s.offsetHeight)||0)+20}),p+=20;const f=`message_${m+=1}`,r=i.onClose,a={zIndex:20+m,offset:p,id:f,...i,onClose:()=>{N.close(f,r)}};let e,c;switch(A){case 2:const n=(d=q)==null?void 0:d.Vue;if(!n)return{};const l=n.extend(T),s=new l({propsData:a});return s.$mount(),w.appendChild(s.$el),s.$el.style.zIndex=a.zIndex,s.verticalOffset=a.verticalOffset,s.visible=!0,o.push({vm:s}),{close:()=>{s.visible=!1}};case 3:return e=j(T,a),c=document.createElement("div"),e!=null&&e.props&&(e.props.onDestroy=()=>{x(null,c)}),e!=null&&e.data&&(e.data.onDestroy=()=>{x(null,c)}),x(e,c),o.push({vm:e}),w.appendChild(c.firstElementChild),{close:()=>{var u;(u=e==null?void 0:e.component)!=null&&u.proxy&&(e.component.proxy.visible=!1)}}}return{}};function B(i,p){var c,d,n,l,s,u,g,y,$,I,b,H,V,C,_,z,D;const f=o==null?void 0:o.findIndex(({vm:t})=>{var h,E,M;return i===((E=(h=t==null?void 0:t.component)==null?void 0:h.props)==null?void 0:E.id)||i===((M=t==null?void 0:t._props)==null?void 0:M.id)});if(f===-1)return;const{vm:r}=o[f];if(!r)return;p==null||p(r);const a=((c=r==null?void 0:r.el)==null?void 0:c.offsetHeight)||((d=r==null?void 0:r.$el)==null?void 0:d.offsetHeight);o.splice(f,1);const e=o.length;if(!(e<1))for(let t=f;t<e;t++){const h=Number.parseInt(((u=(s=(l=(n=o[t])==null?void 0:n.vm)==null?void 0:l.el)==null?void 0:s.style)==null?void 0:u.top)||((I=($=(y=(g=o[t])==null?void 0:g.vm)==null?void 0:y.$el)==null?void 0:$.style)==null?void 0:I.top),10)-a-16;(C=(V=(H=(b=o[t])==null?void 0:b.vm)==null?void 0:H.component)==null?void 0:V.props)!=null&&C.offset&&(o[t].vm.component.props.offset=h),(D=(z=(_=o[t])==null?void 0:_.vm)==null?void 0:z._props)!=null&&D.offset&&(o[t].vm._props.offset=h)}}N.close=B;export{N as T};
