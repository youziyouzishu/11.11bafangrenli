import{_ as T}from"./index-581f66c5.js";import{r as w,b as z}from"./index-90bac5cf.js";import{N as A,O as G,y as L,A as $,H as j,C as q,x as H,F as M,G as O}from"./element-plus-69d92160.js";import{d as C,b2 as J,b as K,ar as P,o as c,c as h,M as t,aR as e,a_ as m,a,L as d,aT as y,x as V,F as Q,ao as W,aB as X,ak as Y,aj as Z}from"./@vue-a164be7a.js";import{_ as tt}from"./@tencentcloud-7fc831ec.js";import"./@vueuse-ebd2cc93.js";import"./lodash-f986f62a.js";import"./axios-9669b5e1.js";import"./vue-router-b1515852.js";import"./pinia-ec219911.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./@element-plus-21ebab28.js";import"./nprogress-e3c843bc.js";import"./vue-clipboard3-b827321c.js";import"./clipboard-e27f968b.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-7476ba27.js";import"./@highlightjs-10fbb12e.js";import"./path-to-regexp-767716ea.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./dayjs-0ab82212.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";function et(){return w.get({url:"/setting.hot_search/getConfig"})}function ot(l){return w.post({url:"/setting.hot_search/setConfig",params:l})}const _=l=>(Y("data-v-1f7b34ef"),l=l(),Z(),l),at={class:"hot-search"},st=_(()=>a("div",{class:"form-tips"},"默认开启，关闭则前端不显示该功能",-1)),nt={class:"lg:flex"},rt={class:"flex-1 min-w-0"},lt={class:"hot-search-phone mt-4 lg:mt-0 lg:ml-4 flex-none"},it=_(()=>a("div",{class:"mb-4 text-center"},"- 热搜预览图 -",-1)),ct={class:"hot-search-phone-content"},mt={class:"search-com"},dt={class:"search-con flex items-center px-[15px]"},_t=_(()=>a("span",{class:"ml-[5px]"},"请输入关键词搜索",-1)),pt=_(()=>a("div",{class:"hot-search-title"},"热门搜索",-1)),ut={class:"hot-search-text"},ht=C({name:"search"}),ft=C({...ht,setup(l){const n=J({status:1,data:[]}),k=K(()=>n.data.filter(o=>o.name).sort((o,r)=>r.sort-o.sort)),f=async()=>{try{const o=await et();for(const r in n)n[r]=o[r]}catch(o){console.log("获取=>",o)}},E=()=>{n.data.push({name:"",sort:0})},S=o=>{n.data.splice(o,1)},B=async()=>{try{await ot(n),f()}catch(o){console.log("保存=>",o)}};return f(),(o,r)=>{const b=A,D=G,I=L,F=$,g=j,p=q,v=H,u=M,U=O,N=z,R=T,x=P("perms");return c(),h("div",at,[t(g,{class:"!border-none",shadow:"never"},{default:e(()=>[t(F,{ref:"formRef",model:m(n),"label-width":"100px"},{default:e(()=>[t(I,{label:"功能状态",style:{"margin-bottom":"0"}},{default:e(()=>[a("div",null,[t(D,{modelValue:m(n).status,"onUpdate:modelValue":r[0]||(r[0]=s=>m(n).status=s)},{default:e(()=>[t(b,{label:1},{default:e(()=>[d("开启")]),_:1}),t(b,{label:0},{default:e(()=>[d("关闭")]),_:1})]),_:1},8,["modelValue"]),st])]),_:1})]),_:1},8,["model"])]),_:1}),t(g,{class:"!border-none mt-4",shadow:"never"},{default:e(()=>[a("div",nt,[a("div",rt,[t(p,{type:"primary",class:"mb-4",onClick:E},{default:e(()=>[d("添加")]),_:1}),t(U,{size:"large",data:m(n).data},{default:e(()=>[t(u,{label:"关键词",prop:"describe","min-width":"160"},{default:e(({row:s})=>[t(v,{modelValue:s.name,"onUpdate:modelValue":i=>s.name=i,clearable:"",placeholder:"请输入关键字","show-word-limit":"",maxlength:"30"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(u,{label:"排序",prop:"describe","min-width":"160"},{default:e(({row:s})=>[t(v,{modelValue:s.sort,"onUpdate:modelValue":i=>s.sort=i,type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(u,{label:"操作","min-width":"80",fixed:"right"},{default:e(({$index:s})=>[y((c(),V(p,{type:"danger",link:"",onClick:i=>S(s)},{default:e(()=>[d(" 删除 ")]),_:2},1032,["onClick"])),[[x,["setting:storage:edit"]]])]),_:1})]),_:1},8,["data"])]),a("div",lt,[it,a("div",ct,[a("div",mt,[a("div",dt,[t(N,{name:"el-icon-Search",size:17}),_t])]),pt,a("div",ut,[(c(!0),h(Q,null,W(m(k),(s,i)=>(c(),h("span",{key:i},X(s.name),1))),128))])])])])]),_:1}),y((c(),V(R,null,{default:e(()=>[t(p,{type:"primary",onClick:B},{default:e(()=>[d("保存")]),_:1})]),_:1})),[[x,["setting.hot_search/setConfig"]]])])}}});const le=tt(ft,[["__scopeId","data-v-1f7b34ef"]]);export{le as default};
