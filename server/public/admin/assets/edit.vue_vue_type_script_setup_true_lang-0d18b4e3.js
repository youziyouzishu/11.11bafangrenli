import{y as S,x as v,N as I,O as w,A}from"./element-plus-69d92160.js";import{b as T,c as K}from"./message-d791673f.js";import{P as U}from"./index-943d816c.js";import{d as Y,b5 as f,b2 as q,o as u,c as B,M as a,aR as o,a_ as l,a as N,aB as F,x as m,y as _,L as y}from"./@vue-a164be7a.js";const h={class:"edit-popup"},z=Y({__name:"edit",emits:["success"],setup(G,{expose:g,emit:E}){const V=E,n=f(),i=f(),e=q({name:"",type:"",sign:"",app_key:"",app_id:"",secret_key:"",secret_id:"",status:0}),b={sign:[{required:!0,message:"请输入短信签名",trigger:"blur"}],app_id:[{required:!0,message:"请输入APP_ID",trigger:"blur"}],app_key:[{required:!0,message:"请输入APP_KEY",trigger:"blur"}],secret_key:[{required:!0,message:"请输入SECRET_KEY",trigger:"blur"}],secret_id:[{required:!0,message:"请输入SECRET_ID",trigger:"blur"}]},k=async()=>{var s,t;await((s=n.value)==null?void 0:s.validate()),await T(e),(t=i.value)==null||t.close(),V("success")},R=async()=>{const s=await K({type:e.type});for(const t in s)e[t]=s[t]},P=s=>{var t;e.type=s,(t=i.value)==null||t.open(),R()},C=()=>{var s;(s=n.value)==null||s.resetFields()};return g({open:P}),(s,t)=>{const p=S,d=v,c=I,D=w,x=A;return u(),B("div",h,[a(U,{ref_key:"popupRef",ref:i,title:"设置短信",async:!0,width:"550px",onConfirm:k,onClose:C},{default:o(()=>[a(x,{ref_key:"formRef",ref:n,model:l(e),"label-width":"120px",rules:b},{default:o(()=>[a(p,{label:"短信渠道"},{default:o(()=>[N("div",null,F(l(e).name),1)]),_:1}),a(p,{label:"短信签名",prop:"sign"},{default:o(()=>[a(d,{modelValue:l(e).sign,"onUpdate:modelValue":t[0]||(t[0]=r=>l(e).sign=r),placeholder:"请输入短信签名"},null,8,["modelValue"])]),_:1}),l(e).type=="ali"?(u(),m(p,{key:0,label:"APP_KEY",prop:"app_key"},{default:o(()=>[a(d,{modelValue:l(e).app_key,"onUpdate:modelValue":t[1]||(t[1]=r=>l(e).app_key=r),placeholder:"请输入APP_KEY"},null,8,["modelValue"])]),_:1})):_("",!0),l(e).type=="tencent"?(u(),m(p,{key:1,label:"APP_ID",prop:"app_id"},{default:o(()=>[a(d,{modelValue:l(e).app_id,"onUpdate:modelValue":t[2]||(t[2]=r=>l(e).app_id=r),placeholder:"请输入APP_ID"},null,8,["modelValue"])]),_:1})):_("",!0),l(e).type=="tencent"?(u(),m(p,{key:2,label:"SECRET_ID",prop:"secret_id"},{default:o(()=>[a(d,{modelValue:l(e).secret_id,"onUpdate:modelValue":t[3]||(t[3]=r=>l(e).secret_id=r),placeholder:"请输入SECRET_ID"},null,8,["modelValue"])]),_:1})):_("",!0),a(p,{label:"SECRET_KEY",prop:"secret_key"},{default:o(()=>[a(d,{modelValue:l(e).secret_key,"onUpdate:modelValue":t[4]||(t[4]=r=>l(e).secret_key=r),placeholder:"请输入SECRET_KEY"},null,8,["modelValue"])]),_:1}),a(p,{label:"状态",prop:"status"},{default:o(()=>[a(D,{modelValue:l(e).status,"onUpdate:modelValue":t[5]||(t[5]=r=>l(e).status=r)},{default:o(()=>[a(c,{label:0},{default:o(()=>[y("关闭")]),_:1}),a(c,{label:1},{default:o(()=>[y("开启")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},512)])}}});export{z as _};
