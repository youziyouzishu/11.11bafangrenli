import{x as q,y as G,C as H,A as M,H as Q,F as z,Q as J,G as K,I as O}from"./element-plus-69d92160.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang-3ac3301c.js";import{b as X}from"./index-90bac5cf.js";import{u as Y}from"./usePaging-6e60bb31.js";import{u as Z}from"./useDictOptions-8702f1a7.js";import{_ as ee,a as te,b as oe,c as ae}from"./edit.vue_vue_type_script_setup_true_name_eContractTemplateEdit_lang-d4ef1f3e.js";import"./lodash-f986f62a.js";import{d as V,b5 as le,r as k,b2 as ne,ar as ie,o as i,c as se,M as e,aR as t,a_ as a,L as p,aT as C,x as c,a as y,b0 as re,y as me,b7 as E}from"./@vue-a164be7a.js";import"./lodash-es-fbce1780.js";import"./async-validator-dee29e8b.js";import"./@element-plus-21ebab28.js";import"./dayjs-0ab82212.js";import"./@tencentcloud-7fc831ec.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./normalize-wheel-es-ed76fb12.js";import"./@vueuse-ebd2cc93.js";import"./axios-9669b5e1.js";import"./vue-router-b1515852.js";import"./css-color-function-7acc3e97.js";import"./color-9254db0b.js";import"./clone-db6b0f3b.js";import"./color-convert-946e453a.js";import"./color-name-b7949e8c.js";import"./color-string-6fa48439.js";import"./balanced-match-51764fed.js";import"./ms-f6814399.js";import"./nprogress-e3c843bc.js";import"./vue-clipboard3-b827321c.js";import"./clipboard-e27f968b.js";import"./echarts-d6620a89.js";import"./zrender-9797a04d.js";import"./tslib-54e39b60.js";import"./highlight.js-7476ba27.js";import"./@highlightjs-10fbb12e.js";import"./path-to-regexp-767716ea.js";import"./index-e65fd93b.js";import"./index-943d816c.js";const pe={class:"mt-4"},ce={class:"flex mt-4 justify-end"},de=V({name:"eContractTemplateLists"}),mt=V({...de,setup(_e){const d=le(),_=k(!1),u=ne({file_name:"",doc_template_id:"",show_status:""}),x=async l=>{const o=await te({id:l});window.open(o.data.docTemplateEditUrl,"_blank")},T=k([]),D=l=>{T.value=l.map(({id:o})=>o)},{dictData:$}=Z("show_status"),{pager:s,getLists:f,resetParams:P,resetPage:S}=Y({fetchFun:ae,params:u}),U=async()=>{var l;_.value=!0,await E(),(l=d.value)==null||l.open("add")},B=async l=>{var o,v;_.value=!0,await E(),(o=d.value)==null||o.open("edit"),(v=d.value)==null||v.setFormData(l)},F=l=>{oe(l).finally(()=>{f()})};return f(),(l,o)=>{const v=q,b=G,r=H,L=M,g=Q,N=X,m=z,R=J,I=K,A=W,w=ie("perms"),j=O;return i(),se("div",null,[e(g,{class:"!border-none mb-4",shadow:"never"},{default:t(()=>[e(L,{class:"mb-[-16px]",model:a(u),inline:""},{default:t(()=>[e(b,{label:"文件名称",prop:"file_name"},{default:t(()=>[e(v,{class:"w-[280px]",modelValue:a(u).file_name,"onUpdate:modelValue":o[0]||(o[0]=n=>a(u).file_name=n),clearable:"",placeholder:"请输入文件名称"},null,8,["modelValue"])]),_:1}),e(b,null,{default:t(()=>[e(r,{type:"primary",onClick:a(S)},{default:t(()=>[p("查询")]),_:1},8,["onClick"]),e(r,{onClick:a(P)},{default:t(()=>[p("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),C((i(),c(g,{class:"!border-none",shadow:"never"},{default:t(()=>[C((i(),c(r,{type:"primary",onClick:U},{icon:t(()=>[e(N,{name:"el-icon-Plus"})]),default:t(()=>[p(" 新增模版 ")]),_:1})),[[w,["e_contract_template/add"]]]),y("div",pe,[e(I,{data:a(s).lists,onSelectionChange:D},{default:t(()=>[e(m,{type:"selection",width:"55"}),e(m,{label:"文件名称",prop:"file_name","show-overflow-tooltip":""}),e(m,{label:"模版ID",prop:"doc_template_id","show-overflow-tooltip":""}),e(m,{label:"显示状态",prop:"show_status"},{default:t(({row:n})=>[e(R,{modelValue:n.show_status,"onUpdate:modelValue":h=>n.show_status=h,"active-value":0,onChange:h=>F(n),"inactive-value":1},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(m,{label:"操作",width:"220",fixed:"right"},{default:t(({row:n})=>[C((i(),c(r,{type:"primary",link:"",onClick:h=>B(n)},{default:t(()=>[p(" 编辑 ")]),_:2},1032,["onClick"])),[[w,["e_contract_template/edit"]]]),C((i(),c(r,{type:"danger",link:"",onClick:h=>x(n.id)},{default:t(()=>[p(" 制作模版 ")]),_:2},1032,["onClick"])),[[w,["e_contract_template/delete"]]])]),_:1})]),_:1},8,["data"])]),y("div",ce,[e(A,{modelValue:a(s),"onUpdate:modelValue":o[1]||(o[1]=n=>re(s)?s.value=n:null),onChange:a(f)},null,8,["modelValue","onChange"])])]),_:1})),[[j,a(s).loading]]),a(_)?(i(),c(ee,{key:0,ref_key:"editRef",ref:d,"dict-data":a($),onSuccess:a(f),onClose:o[2]||(o[2]=n=>_.value=!1)},null,8,["dict-data","onSuccess"])):me("",!0)])}}});export{mt as default};
