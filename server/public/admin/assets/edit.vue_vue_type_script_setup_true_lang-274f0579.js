import{x as C,y as U,P as j,Q as D,A as q}from"./element-plus-69d92160.js";import{j as B,a as F,b as I}from"./post-a49d878c.js";import{P as N}from"./index-943d816c.js";import{d as P,b5 as f,r as A,b as S,b2 as z,o as M,c as Q,M as t,aR as n,a_ as l,a as _}from"./@vue-a164be7a.js";const T={class:"edit-popup"},G=_("div",{class:"form-tips"},"默认为0， 数值越大越排前",-1),W=P({__name:"edit",emits:["success","close"],setup(H,{expose:b,emit:V}){const i=V,p=f(),m=f(),u=A("add"),v=S(()=>u.value=="edit"?"编辑岗位":"新增岗位"),o=z({id:"",name:"",code:"",sort:0,remark:"",status:1}),w={code:[{required:!0,message:"请输入岗位编码",trigger:["blur"]}],name:[{required:!0,message:"请输入岗位名称",trigger:["blur"]}]},x=async()=>{var a,e;await((a=p.value)==null?void 0:a.validate()),u.value=="edit"?await B(o):await F(o),(e=m.value)==null||e.close(),i("success")},g=(a="add")=>{var e;u.value=a,(e=m.value)==null||e.open()},c=a=>{for(const e in o)a[e]!=null&&a[e]!=null&&(o[e]=a[e])},k=async a=>{const e=await I({id:a.id});c(e)},R=()=>{i("close")};return b({open:g,setFormData:c,getDetail:k}),(a,e)=>{const d=C,r=U,y=j,h=D,E=q;return M(),Q("div",T,[t(N,{ref_key:"popupRef",ref:m,title:l(v),async:!0,width:"550px",onConfirm:x,onClose:R},{default:n(()=>[t(E,{ref_key:"formRef",ref:p,model:l(o),"label-width":"84px",rules:w},{default:n(()=>[t(r,{label:"岗位名称",prop:"name"},{default:n(()=>[t(d,{modelValue:l(o).name,"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).name=s),placeholder:"请输入岗位名称",clearable:"",maxlength:100},null,8,["modelValue"])]),_:1}),t(r,{label:"岗位编码",prop:"code"},{default:n(()=>[t(d,{modelValue:l(o).code,"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).code=s),placeholder:"请输入岗位编码",clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"排序",prop:"sort"},{default:n(()=>[_("div",null,[t(y,{modelValue:l(o).sort,"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).sort=s),min:0,max:9999},null,8,["modelValue"]),G])]),_:1}),t(r,{label:"备注",prop:"remark"},{default:n(()=>[t(d,{modelValue:l(o).remark,"onUpdate:modelValue":e[3]||(e[3]=s=>l(o).remark=s),placeholder:"请输入备注",type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(r,{label:"岗位状态",required:"",prop:"status"},{default:n(()=>[t(h,{modelValue:l(o).status,"onUpdate:modelValue":e[4]||(e[4]=s=>l(o).status=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{W as _};
