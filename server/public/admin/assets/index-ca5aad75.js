import{d as D,r as c,o as p,c as u,a as g,M as w,ae as s,a_ as o,aB as B,y as I,aT as x,aP as S,x as P,aR as R,ap as _,aW as T}from"./@vue-a164be7a.js";import"./adapter-vue-24f22062.js";import{I as W,_ as F}from"./@tencentcloud-7fc831ec.js";import N from"./Icon-2c0593f3.js";import V from"./index-b5b8c0ea.js";import{c as r,a as l}from"./env-a593fd1d.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const H={key:0,class:s(["toolbar-item-container-uni-title"])},M=D({__name:"index",props:{iconFile:{type:String,required:!0},title:{type:String,default:""},needDialog:{type:Boolean,default:!0},iconWidth:{type:String,default:"20px"},iconHeight:{type:String,default:"20px"},needBottomPopup:{type:Boolean,default:!1}},emits:["onIconClick","onDialogClose","onDialogShow"],setup(h,{expose:v,emit:b}){const t=h,n=b,e=c(!1),m=c(),a=c(),y=()=>{n("onIconClick",a),l&&W.listen({domRefs:m.value,handler:C}),t.needDialog&&d(!e.value)},C=()=>{e.value=!1,n("onDialogClose",a)},d=i=>{if(e.value!==i)switch(e.value=i,i){case!0:n("onDialogShow",a);break;case!1:n("onDialogClose",a)}},k=()=>{e.value=!1};return v({toggleDialogDisplay:d}),(i,f)=>(p(),u("div",{ref_key:"toolbarItemRef",ref:m,class:s(["toolbar-item-container",!o(l)&&"toolbar-item-container-h5",o(r)&&"toolbar-item-container-uni"])},[g("div",{class:s(["toolbar-item-container-icon",o(r)&&"toolbar-item-container-uni-icon"]),onClick:y},[w(N,{file:t.iconFile,class:"icon",width:t.iconWidth,height:t.iconHeight},null,8,["file","width","height"])],2),o(r)?(p(),u("div",H,B(t.title),1)):I("",!0),x(g("div",{ref_key:"dialogRef",ref:a,class:s(["toolbar-item-container-dialog",!o(l)&&"toolbar-item-container-h5-dialog",o(r)&&"toolbar-item-container-uni-dialog"])},[t.needBottomPopup&&!o(l)?(p(),P(V,{key:0,class:"toolbar-bottom-popup",show:o(e),onTouchmove:f[0]||(f[0]=T(()=>{},["stop","prevent"])),onOnClose:k},{default:R(()=>[_(i.$slots,"default",{},void 0,!0)]),_:3},8,["show"])):_(i.$slots,"default",{key:1},void 0,!0)],2),[[S,o(e)]])],2))}});const eo=F(M,[["__scopeId","data-v-879133e5"]]);export{eo as default};
