import"./adapter-vue-24f22062.js";import{z as q,_ as G}from"./@tencentcloud-7fc831ec.js";import{g as p,d as n}from"./dayjs-0ab82212.js";import{a as H}from"./env-a593fd1d.js";import{d as J,r as u,b as m,w as Q,o,c as d,a as y,F as k,ao as x,aB as z,a_ as b,ae as j,b7 as X,bg as Z}from"./@vue-a164be7a.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const tt={class:"tui-date-table-body"},et={class:"tui-date-table-body-weeks"},at=["aria-label"],st=["onClick"],nt={class:"tui-date-table-body-days-item-cell-text"},rt=J({__name:"date-table",props:{type:{type:String,default:"range"},currentPanelDate:{type:p.Dayjs,default:()=>n()},date:{type:p.Dayjs,default:null},startDate:{type:p.Dayjs,default:null},endDate:{type:p.Dayjs,default:null}},emits:["pick"],setup(N,{emit:R}){const a=N,$=R,_=Z(),w=u([[],[],[],[],[],[]]),f=u(n(a.currentPanelDate||null)),M=u(n(a.date||null)),Y=u(n(a.startDate||null)),v=u(n(a.endDate||null)),A=m(()=>n.weekdaysShort()),C=m(()=>A.value.map(t=>t.substring(1))),F=m(()=>{var i;const t=(i=f.value)==null?void 0:i.startOf("month");return t==null?void 0:t.subtract((t==null?void 0:t.day())||7,"day")}),K=m(()=>{var D,E,P,O,T;const t=w.value,i=C.value.length,s=(D=f.value)==null?void 0:D.startOf("month"),c=(s==null?void 0:s.day())||7,r=s==null?void 0:s.daysInMonth();let l=1;for(let g=0;g<w.value.length;g++)for(let S=0;S<i;S++){const e=(E=F.value)==null?void 0:E.add(l,"day"),L=e==null?void 0:e.date(),U=a.type==="single"&&(e==null?void 0:e.format("YYYY-MM-DD"))===((P=M.value)==null?void 0:P.format("YYYY-MM-DD")),B=a.type==="range"&&(e==null?void 0:e.format("YYYY-MM-DD"))===((O=Y.value)==null?void 0:O.format("YYYY-MM-DD")),I=a.type==="range"&&(e==null?void 0:e.format("YYYY-MM-DD"))===((T=v.value)==null?void 0:T.format("YYYY-MM-DD")),V=(e==null?void 0:e.isSameOrBefore(v.value,"day"))&&(e==null?void 0:e.isSameOrAfter(Y.value,"day"));let h="normal";l<c?h="prev-month":l-c>=r&&(h="next-month"),t[g][S]={type:h,date:e,text:L,isSelected:U||B||I,isSelectedStart:B,isSelectedEnd:I,isInRange:V},l++}return t}),W=t=>{(t==null?void 0:t.type)==="normal"&&$("pick",t)};return Q(()=>[a.currentPanelDate,a.date,a.startDate,a.endDate],()=>{f.value=n(a.currentPanelDate||null),M.value=n(a.date||null),Y.value=n(a.startDate||null),v.value=n(a.endDate||null),X(()=>{var t;(t=_==null?void 0:_.proxy)==null||t.$forceUpdate()})},{deep:!0,immediate:!0}),(t,i)=>(o(),d("table",{class:j(["tui-date-table",!b(H)&&"tui-date-table-h5"]),cellspacing:"0",cellpadding:"0",role:"grid"},[y("tbody",tt,[y("tr",et,[(o(!0),d(k,null,x(b(C),s=>(o(),d("th",{key:s,class:"tui-date-table-body-weeks-item","aria-label":s+"",scope:"col"},z(b(q).t(`time.${s}`)),9,at))),128))]),(o(!0),d(k,null,x(b(K),(s,c)=>(o(),d("tr",{key:c,class:"tui-date-table-body-days"},[(o(!0),d(k,null,x(s,(r,l)=>(o(),d("td",{key:l,class:j(["tui-date-table-body-days-item",r.type])},[y("div",{class:j(["tui-date-table-body-days-item-cell",r.isSelected&&"selected",r.isSelectedStart&&"selected-start",r.isSelectedEnd&&"selected-end",r.isInRange&&"range"]),onClick:D=>W(r)},[y("span",nt,z(r.text),1)],10,st)],2))),128))]))),128))])],2))}});const St=G(rt,[["__scopeId","data-v-42d7e744"]]);export{St as default};
