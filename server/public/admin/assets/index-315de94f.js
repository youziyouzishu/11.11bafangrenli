import"./adapter-vue-24f22062.js";import{z as i,_}from"./@tencentcloud-7fc831ec.js";import{c as a}from"./env-a593fd1d.js";import{d as b,r as h,bg as c,aZ as k,a$ as x,w as y,o as g,c as I,ap as l,a as p,aB as m,a_ as f}from"./@vue-a164be7a.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const B=b({__name:"index",props:{isFetching:{type:Boolean,default:!1},isTerminateObserve:{type:Boolean,default:!1}},emits:["onExposed"],setup(d,{emit:u}){var n;const s=u,r=d;let e=null;const o=h(),v=((n=c())==null?void 0:n.proxy)||c();return k(()=>{r.isTerminateObserve||(a?(e=uni.createIntersectionObserver(v).relativeToViewport(),e.observe(".fetch-more-block",()=>{s("onExposed")})):(e=new IntersectionObserver(([t])=>{t.isIntersecting&&s("onExposed")},{threshold:1}),o.value&&e.observe(o.value)))}),x(()=>{e&&(e.disconnect(),e=null)}),y(()=>r.isTerminateObserve,t=>{e&&(t?e.disconnect():o.value&&(e.disconnect(),a?e.observe(".fetch-more-block",()=>{s("onExposed")}):e.observe(o.value)))}),(t,E)=>(g(),I("div",{ref_key:"selfDomRef",ref:o,class:"fetch-more-block"},[r.isFetching?l(t.$slots,"fetching",{key:0},()=>[p("div",null,m(f(i).t("TUIChat.正在加载")),1)],!0):l(t.$slots,"fetchEnd",{key:1},()=>[p("div",null,m(f(i).t("TUIChat.加载结束")),1)],!0)],512))}});const Z=_(B,[["__scopeId","data-v-4056931b"]]);export{Z as default};
