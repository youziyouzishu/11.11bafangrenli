import"./adapter-vue-24f22062.js";import{q as f,o as v,_ as d}from"./@tencentcloud-7fc831ec.js";import C from"./convert-content-ac4eeb47.js";import{d as x,r as p,aZ as b,a$ as I,a_ as t,o as T,c as h,M as k,ae as y,y as S}from"./@vue-a164be7a.js";import"./tim-upload-plugin-4412696f.js";import"./tim-profanity-filter-plugin-a7e08ee8.js";import"./vue-84471dcb.js";import"./marked-7f3c3653.js";import"./trtc-cloud-js-sdk-6995d964.js";import"./trtc-sdk-v5-5ba82a9e.js";import"./pinia-ec219911.js";import"./mitt-f7ef348c.js";import"./interactjs-0d94d9f4.js";import"./rtc-detect-b2f0fa0a.js";import"./tuicall-engine-webrtc-9ec0a575.js";const V=x({__name:"index",props:{message:{default:()=>({})}},setup(u){const o=u,s=p(!1),n=p(!1),m=p();let a=!0;b(()=>{f.watch(v.CHAT,{voiceToTextInfo:l})}),I(()=>{f.unwatch(v.CHAT,{voiceToTextInfo:l})});function g(e){n.value=e}function l(e){if(e===void 0)return;a=!1;const r=e.get(o.message.conversationID)||[];for(let i=0;i<r.length;++i){const{messageID:_,visible:c}=r[i];if(_===o.message.ID&&c!==void 0){r.length===1&&c&&(a=!0),n.value=!1,s.value=c;break}}}return(e,r)=>t(s)?(T(),h("div",{key:0,ref_key:"convertWrapperRef",ref:m,class:y({"message-convert":!0,reverse:o.message.flow==="out",error:t(n)})},[k(C,{message:o.message,contentVisible:t(s),isSingleConvert:t(a),convertWrapperRef:t(m),onToggleErrorStatus:g},null,8,["message","contentVisible","isSingleConvert","convertWrapperRef"])],2)):S("",!0)}});const $=d(V,[["__scopeId","data-v-0db989e9"]]);export{$ as default};
