import"./adapter-vue-24f22062.js";import{q as B,o as E,X as P,_ as b}from"./@tencentcloud-7fc831ec.js";import F from"./Icon-2c0593f3.js";import{E as u}from"./constant-bad60a54.js";import{a as g,c as d}from"./env-a593fd1d.js";import{i as z}from"./utils-14df48f1.js";import{E as V,B as H,c as K}from"./index-7909557f.js";import{T as Q}from"./config-58aee8b5.js";import{d as T,r as m,aZ as R,a$ as M,o as t,c as A,a as x,F as Y,ao as D,a_ as s,ae as G,x as Z,y as U}from"./@vue-a164be7a.js";const X="data:image/png;base64,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",_=["onClick"],$=["src"],ee=["src"],oe=["src"],se={class:"emoji-picker-tab"},ie=["onClick"],ce=["src"],te=["src"],ne=T({__name:"emoji-picker-dialog",emits:["insertEmoji","onClose","sendMessage"],setup(ae,{emit:S}){var h;const y=S,J=m(0),a=m(),w=m(),p=m(),v=Q.getFeatureConfig(),c=m(q()),e=m(c==null?void 0:c.value[0]),O=m((h=c==null?void 0:c.value[0])==null?void 0:h.list);R(()=>{B.watch(E.CONV,{currentConversation:C})}),M(()=>{B.unwatch(E.CONV,{currentConversation:C})});const N=i=>{var r;J.value=i,e.value=c==null?void 0:c.value[i],O.value=(r=c==null?void 0:c.value[i])==null?void 0:r.list,d||p!=null&&p.value&&(p.value.scrollTop=0)},W=(i,r)=>{var n,l,f;const o={emoji:{key:i,name:K(i)},type:(n=e==null?void 0:e.value)==null?void 0:n.type};switch((l=e==null?void 0:e.value)==null?void 0:l.type){case u.BASIC:o.url=((f=e==null?void 0:e.value)==null?void 0:f.url)+H[i],d?uni.$emit("insert-emoji",o):y("insertEmoji",o);break;case u.BIG:k(r,e.value);break;case u.CUSTOM:k(r,e.value);break}g&&y("onClose")},k=(i,r)=>{var n,l,f,I,j;const o={to:((l=(n=a==null?void 0:a.value)==null?void 0:n.groupProfile)==null?void 0:l.groupID)||((I=(f=a==null?void 0:a.value)==null?void 0:f.userProfile)==null?void 0:I.userID),conversationType:(j=a==null?void 0:a.value)==null?void 0:j.type,payload:{index:r.emojiGroupID,data:r.list[i]},needReadReceipt:z()};P.sendFaceMessage(o)};function L(){uni.$emit("send-message-in-emoji-picker")}function C(i){a.value=i}function q(){return V.filter(i=>{if(i.type===u.BASIC)return v.InputEmoji;if(i.type===u.BIG)return v.InputStickers})}return(i,r)=>(t(),A("div",{ref_key:"emojiPickerDialog",ref:w,class:G({"emoji-picker":!0,"emoji-picker-h5":!s(g)})},[x("ul",{ref_key:"emojiPickerListRef",ref:p,class:G(["emoji-picker-list",!s(g)&&"emoji-picker-h5-list"])},[(t(!0),A(Y,null,D(s(O),(o,n)=>(t(),A("li",{key:n,class:"emoji-picker-list-item",onClick:l=>W(o,n)},[s(e).type===s(u).BASIC?(t(),A("img",{key:0,class:"emoji",src:s(e).url+s(H)[o]},null,8,$)):s(e).type===s(u).BIG?(t(),A("img",{key:1,class:"emoji-big",src:s(e).url+o+"@2x.png"},null,8,ee)):(t(),A("img",{key:2,class:"emoji-custom emoji-big",src:s(e).url+o},null,8,oe))],8,_))),128))],2),x("ul",se,[(t(!0),A(Y,null,D(s(c),(o,n)=>(t(),A("li",{key:n,class:"emoji-picker-tab-item",onClick:l=>N(n)},[o.type===s(u).BASIC?(t(),Z(F,{key:0,class:"icon",file:s(X)},null,8,["file"])):o.type===s(u).BIG?(t(),A("img",{key:1,class:"icon-big",src:o.url+o.list[0]+"@2x.png"},null,8,ce)):(t(),A("img",{key:2,class:"icon-custom icon-big",src:o.url+o.list[0]},null,8,te))],8,ie))),128)),s(d)?(t(),A("li",{key:0,class:"send-btn",onClick:L}," 发送 ")):U("",!0)])],2))}});const Ae=b(ne,[["__scopeId","data-v-616e08c1"]]),ve=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"}));export{Ae as E,ve as e,X as f};
