import{x as U,C as w}from"./element-plus-69d92160.js";import{_ as B}from"./index-8d613ba7.js";import{f as c,b as E}from"./index-90bac5cf.js";import{D as N}from"./vuedraggable-93e8938c.js";import{d as $,b as D,aq as r,o as i,c as z,a as e,M as t,aR as d,x as A,a_ as p,b0 as L,L as R}from"./@vue-a164be7a.js";const q={class:"bg-fill-light flex items-center w-full p-4 mb-4 cursor-move"},I={class:"upload-btn w-[60px] h-[60px]"},M={class:"ml-3 flex-1"},P={class:"flex"},T=e("span",{class:"text-tx-regular flex-none mr-3"},"名称",-1),j={class:"flex mt-[18px]"},F=e("span",{class:"text-tx-regular flex-none mr-3"},"链接",-1),Q=$({__name:"add-nav",props:{modelValue:{type:Array,default:()=>[]},max:{type:Number,default:10},min:{type:Number,default:1}},emits:["update:modelValue"],setup(_,{emit:f}){const a=_,x=f,s=D({get(){return a.modelValue},set(o){x("update:modelValue",o)}}),V=()=>{var o;((o=a.modelValue)==null?void 0:o.length)<a.max?s.value.push({image:"",name:"导航名称",link:{}}):c.msgError(`最多添加${a.max}个`)},g=o=>{var m;if(((m=a.modelValue)==null?void 0:m.length)<=a.min)return c.msgError(`最少保留${a.min}个`);s.value.splice(o,1)};return(o,m)=>{const v=E,h=r("material-picker"),k=U,b=r("link-picker"),y=B,C=w;return i(),z("div",null,[e("div",null,[t(p(N),{class:"draggable",modelValue:p(s),"onUpdate:modelValue":m[0]||(m[0]=l=>L(s)?s.value=l:null),animation:"300"},{item:d(({element:l,index:u})=>[(i(),A(y,{class:"max-w-[400px]",key:u,onClose:n=>g(u)},{default:d(()=>[e("div",q,[t(h,{modelValue:l.image,"onUpdate:modelValue":n=>l.image=n,"upload-class":"bg-body",size:"60px","exclude-domain":""},{upload:d(()=>[e("div",I,[t(v,{name:"el-icon-Plus",size:20})])]),_:2},1032,["modelValue","onUpdate:modelValue"]),e("div",M,[e("div",P,[T,t(k,{modelValue:l.name,"onUpdate:modelValue":n=>l.name=n,placeholder:"请输入名称"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",j,[F,t(b,{modelValue:l.link,"onUpdate:modelValue":n=>l.link=n},null,8,["modelValue","onUpdate:modelValue"])])])])]),_:2},1032,["onClose"]))]),_:1},8,["modelValue"])]),e("div",null,[t(C,{type:"primary",onClick:V},{default:d(()=>[R("添加")]),_:1})])])}}});export{Q as _};
