import{b4 as e,A as t,d as s,e as a,o as n,c as r,w as l,p as i,F as o,f as p,h as u,q as c,t as d,j as g,bg as m,H as f,bh as h,bf as _,i as A}from"./index-40b5c4cd.js";import{_ as k}from"./uni-popup-dialog.91400977.js";import{_ as x}from"./uni-popup.52abe24b.js";import{_ as v}from"./_plugin-vue_export-helper.1b428a4d.js";let y=()=>console.log("为定义");const b=v({name:"uni-agreements",computed:{agreements(){if(!e.agreements)return[];let{serviceUrl:t,privacyUrl:s}=e.agreements;return[{url:t,title:"用户服务协议"},{url:s,title:"隐私政策条款"}]}},props:{scope:{type:String,default:()=>"register"}},methods:{popupConfirm(){this.isAgree=!0,y()},popup(e){this.needPopupAgreements=!0,this.$nextTick((()=>{e&&(y=e),this.$refs.popupAgreement.open()}))},navigateTo({url:e,title:s}){t({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e+"&title="+s,success:e=>{},fail:()=>{},complete:()=>{}})},hasAnd:(e,t)=>e.length-1>t,setAgree(e){this.isAgree=!this.isAgree,this.$emit("setAgree",this.isAgree)}},created(){var t,s;this.needAgreements=((null==(s=null==(t=e)?void 0:t.agreements)?void 0:s.scope)||[]).includes(this.scope)},data:()=>({isAgree:!1,needAgreements:!0,needPopupAgreements:!1})},[["render",function(e,t,v,y,b,C){const j=m,w=f,T=h,P=_,$=A,U=s(a("uni-popup-dialog"),k),q=s(a("uni-popup"),x);return C.agreements.length?(n(),r($,{key:0,class:"root"},{default:l((()=>[b.needAgreements?(n(),i(o,{key:0},[p(P,{onChange:C.setAgree},{default:l((()=>[p(T,{class:"checkbox-box"},{default:l((()=>[p(j,{checked:b.isAgree,style:{transform:"scale(0.5)","margin-right":"-6px"}},null,8,["checked"]),p(w,{class:"text"},{default:l((()=>[u("同意")])),_:1})])),_:1})])),_:1},8,["onChange"]),p($,{class:"content"},{default:l((()=>[(n(!0),i(o,null,c(C.agreements,((e,t)=>(n(),r($,{class:"item",key:t},{default:l((()=>[p(w,{class:"agreement text",onClick:t=>C.navigateTo(e)},{default:l((()=>[u(d(e.title),1)])),_:2},1032,["onClick"]),C.hasAnd(C.agreements,t)?(n(),r(w,{key:0,class:"text and",space:"nbsp"},{default:l((()=>[u(" 和 ")])),_:1})):g("",!0)])),_:2},1024)))),128))])),_:1})],64)):g("",!0),b.needAgreements||b.needPopupAgreements?(n(),r(q,{key:1,ref:"popupAgreement",type:"center"},{default:l((()=>[p(U,{confirmText:"同意",onConfirm:C.popupConfirm},{default:l((()=>[p($,{class:"content"},{default:l((()=>[p(w,{class:"text"},{default:l((()=>[u("请先阅读并同意")])),_:1}),(n(!0),i(o,null,c(C.agreements,((e,t)=>(n(),r($,{class:"item",key:t},{default:l((()=>[p(w,{class:"agreement text",onClick:t=>C.navigateTo(e)},{default:l((()=>[u(d(e.title),1)])),_:2},1032,["onClick"]),C.hasAnd(C.agreements,t)?(n(),r(w,{key:0,class:"text and",space:"nbsp"},{default:l((()=>[u(" 和 ")])),_:1})):g("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["onConfirm"])])),_:1},512)):g("",!0)])),_:1})):g("",!0)}],["__scopeId","data-v-1ddf5e44"]]);export{b as _};
