import{aa as e,k as s,d as t,e as a,o as r,c as l,w as n,f as o,h as i,t as c,E as u,v as p,j as d,A as m,i as f,C as x,ab as y,p as g,ac as _,F as b,q as v,a7 as k,x as h,y as j,z as w}from"./index-40b5c4cd.js";import{_ as C}from"./u-avatar.c40c0a13.js";import{_ as O}from"./u-icon.4067ae16.js";import{_ as z}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as L}from"./u-image.cd7d0fd7.js";import{n as I}from"./util.b50fc651.js";import{_ as S}from"./tabbar.vue_vue_type_script_setup_true_lang.45a154e4.js";import{g as q}from"./shop.03c31f7b.js";import"./u-badge.a768d844.js";const A=z(s({__name:"user-info",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup(s){const{copy:y}={copy:s=>{e({data:String(s)})}};return(e,g)=>{const _=t(a("u-avatar"),C),b=f,v=x,k=t(a("u-icon"),O);return r(),l(b,{class:"user-info flex px-[50rpx] justify-between py-[50rpx]"},{default:n((()=>[s.isLogin?(r(),l(b,{key:0,class:"flex items-center",onClick:g[1]||(g[1]=e=>{m({url:"/pages/user_data/user_data"})})},{default:n((()=>[o(_,{src:s.user.avatar,size:120},null,8,["src"]),o(b,{class:"text-white ml-[20rpx]"},{default:n((()=>[o(b,{class:"text-2xl"},{default:n((()=>[i(c(s.user.nickname),1)])),_:1}),o(b,{class:"text-xs mt-[18rpx]",onClick:g[0]||(g[0]=u((e=>p(y)(s.user.account)),["stop"]))},{default:n((()=>[i(" 账号："+c(s.user.account),1)])),_:1})])),_:1})])),_:1})):(r(),l(v,{key:1,class:"flex items-center","hover-class":"none",url:"/pages/login/login"},{default:n((()=>[o(_,{src:"/static/images/user/default_avatar.png",size:120}),o(b,{class:"text-white text-3xl ml-[20rpx]"},{default:n((()=>[i("未登录")])),_:1})])),_:1})),s.isLogin?(r(),l(v,{key:2,"hover-class":"none",url:"/pages/user_set/user_set"},{default:n((()=>[o(k,{name:"setting",color:"#fff",size:48})])),_:1})):d("",!0)])),_:1})}}}),[["__scopeId","data-v-1c02cb44"]]),B=s({__name:"my-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:s}=y(),l=e=>{I(e)};return(n,i)=>{const u=t(a("u-image"),L),m=t(a("u-icon"),O);return r(),g("div",{class:"my-service bg-white mx-[20rpx] mt-[20rpx] rounded-lg"},[e.content.title?(r(),g("div",{key:0,class:"title px-[30rpx] py-[20rpx] font-medium text-xl border-light border-solid border-0 border-b"},[_("div",null,c(e.content.title),1)])):d("",!0),1==e.content.style?(r(),g("div",{key:1,class:"flex flex-wrap pt-[40rpx] pb-[20rpx]"},[(r(!0),g(b,null,v(e.content.data,((e,t)=>(r(),g("div",{key:t,class:"flex flex-col items-center w-1/4 mb-[15px]",onClick:s=>l(e.link)},[o(u,{width:"52",height:"52",src:p(s)(e.image),alt:""},null,8,["src"]),_("div",{class:"mt-[7px]"},c(e.name),1)],8,["onClick"])))),128))])):d("",!0),2==e.content.style?(r(),g("div",{key:2},[(r(!0),g(b,null,v(e.content.data,((e,t)=>(r(),g("div",{key:t,class:"flex items-center border-light border-solid border-0 border-b h-[100rpx] px-[24rpx]",onClick:s=>l(e.link)},[o(u,{width:"48",height:"48",src:p(s)(e.image),alt:""},null,8,["src"]),_("div",{class:"ml-[20rpx] flex-1"},c(e.name),1),_("div",{class:"text-muted"},[o(m,{name:"arrow-right"})])],8,["onClick"])))),128))])):d("",!0)])}}}),E=s({__name:"user",setup(e){const s=k({pages:[]}),i=h(),{userInfo:c,isLogin:u}=j(i);return w((()=>{u.value||m({url:"/pages/login/login"})})),(async()=>{const e=await q({id:2});s.pages=JSON.parse(e.data)})(),(e,i)=>{const m=t(a("w-user-info"),A),x=t(a("w-my-service"),B),y=f,_=t(a("tabbar"),S);return r(),l(y,{class:"user"},{default:n((()=>[(r(!0),g(b,null,v(s.pages,((e,s)=>(r(),l(y,{key:s},{default:n((()=>["user-info"==e.name?(r(),l(m,{key:0,content:e.content,styles:e.styles,user:p(c),"is-login":p(u)},null,8,["content","styles","user","is-login"])):d("",!0),"my-service"==e.name?(r(),l(x,{key:1,content:e.content,styles:e.styles},null,8,["content","styles"])):d("",!0)])),_:2},1024)))),128)),o(_)])),_:1})}}});export{E as default};
