import{k as e,m as a,aV as t,a7 as s,a3 as r,B as l,o as u,c as i,w as o,f as c,v as n,h as d,t as m,j as _,P as p,A as f,d as g,e as x,H as y,i as h}from"./index-40b5c4cd.js";import{g as v,_ as w,a as j}from"./pay.44885b19.js";import{_ as k}from"./u-image.cd7d0fd7.js";import{_ as b}from"./u-button.d0ae8aa1.js";import{_ as O}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.4067ae16.js";const R=O(e({__name:"payment_result",setup(e){const O={succeed:{text:"支付成功",image:"/static/images/payment/icon_succeed.png"},waiting:{text:"等待支付",image:"/static/images/payment/icon_waiting.png"}},R=a(t.LOADING),A=a({id:"",from:""}),P=s({order:{}}),C=r((()=>{const e=!!P.pay_status;return O[e?"succeed":"waiting"]})),E=()=>{p({url:"/pages/index/index"})},I=()=>{if("recharge"===A.value.from)f({url:"/packages/pages/recharge/recharge"})};return l((async e=>{try{if(!e.id)throw new Error("订单不存在");A.value=e,await new Promise(((e,a)=>{v({order_id:A.value.id,from:A.value.from}).then((a=>{Object.assign(P,a),e(a)})).catch((e=>{a(e)}))})),R.value=t.NORMAL}catch(a){console.log(a),R.value=t.ERROR}})),(e,a)=>{const t=g(x("u-empty"),w),s=g(x("u-image"),k),r=y,l=h,p=g(x("u-button"),b),f=g(x("page-status"),j);return u(),i(f,{status:R.value},{error:o((()=>[c(t,{text:"订单不存在",mode:"order"})])),default:o((()=>[c(l,{class:"payment-result p-[20rpx]"},{default:o((()=>[c(l,{class:"result bg-white p-[20rpx] rounded-md"},{default:o((()=>[c(l,{class:"flex flex-col items-center my-[40rpx]"},{default:o((()=>[c(s,{class:"status-image",src:n(C).image,width:"100",height:"100",shape:"circle"},null,8,["src"]),c(r,{class:"text-2xl font-medium mt-[20rpx]"},{default:o((()=>[d(m(n(C).text),1)])),_:1}),c(l,{class:"text-3xl font-medium mt-[20rpx]"},{default:o((()=>[d(" ¥ "+m(P.order.order_amount),1)])),_:1})])),_:1}),c(l,{class:"result-info"},{default:o((()=>[c(l,{class:"result-info__item"},{default:o((()=>[c(r,null,{default:o((()=>[d("订单编号")])),_:1}),c(r,null,{default:o((()=>[d(m(P.order.order_sn),1)])),_:1})])),_:1}),c(l,{class:"result-info__item"},{default:o((()=>[c(r,null,{default:o((()=>[d("付款时间")])),_:1}),c(r,null,{default:o((()=>[d(m(P.order.pay_time),1)])),_:1})])),_:1}),c(l,{class:"result-info__item"},{default:o((()=>[c(r,null,{default:o((()=>[d("支付方式")])),_:1}),P.pay_status?(u(),i(r,{key:0},{default:o((()=>[d(m(P.order.pay_way||"-"),1)])),_:1})):(u(),i(r,{key:1},{default:o((()=>[d("未支付")])),_:1}))])),_:1})])),_:1})])),_:1}),c(l,{class:"mt-[40rpx]"},{default:o((()=>[c(l,{class:"mb-[20rpx]"},{default:o((()=>["recharge"==A.value.from?(u(),i(p,{key:0,type:"primary",shape:"circle","hover-class":"none",onClick:I},{default:o((()=>[d(" 继续充值 ")])),_:1})):_("",!0)])),_:1}),c(l,{class:"mb-[20rpx]"},{default:o((()=>[c(p,{type:"primary",plain:"",shape:"circle","hover-class":"none",onClick:E},{default:o((()=>[d(" 返回首页 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["status"])}}}),[["__scopeId","data-v-91c85f14"]]);export{R as default};
