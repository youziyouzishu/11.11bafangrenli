import{D as e,g as t,o as l,c as s,w as a,p as o,F as i,q as n,n as u,a as r,E as d,j as c,i as p,k as f,x as h,y as m,m as x,z as _,A as g,B as y,f as k,h as w,t as b,v,G as C,H as R,d as j,e as N}from"./index-40b5c4cd.js";import{_ as E}from"./u-parse.e732811f.js";import{_ as H}from"./u-button.d0ae8aa1.js";import{_ as I}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as A}from"./icon_visit.713e13e8.js";import{b as W}from"./tasks.322bc1ff.js";const z=I({name:"u-skeleton",props:{elColor:{type:String,default:"#e5e5e5"},bgColor:{type:String,default:"#ffffff"},animation:{type:Boolean,default:!1},borderRadius:{type:[String,Number],default:"10"},loading:{type:Boolean,default:!0}},data:()=>({windowWinth:750,windowHeight:1500,filletNodes:[],circleNodes:[],RectNodes:[],top:0,left:0}),methods:{selecterQueryInfo(){let t="";t=e(),t.selectAll(".u-skeleton").boundingClientRect().exec((e=>{this.windowHeight=e[0][0].height,this.windowWinth=e[0][0].width,this.top=e[0][0].bottom-e[0][0].height,this.left=e[0][0].left})),this.getRectEls(),this.getCircleEls(),this.getFilletEls()},getRectEls(){let t="";t=e(),t.selectAll(".u-skeleton-rect").boundingClientRect().exec((e=>{this.RectNodes=e[0]}))},getFilletEls(){let t="";t=e(),t.selectAll(".u-skeleton-fillet").boundingClientRect().exec((e=>{this.filletNodes=e[0]}))},getCircleEls(){let t="";t=e(),t.selectAll(".u-skeleton-circle").boundingClientRect().exec((e=>{this.circleNodes=e[0]}))}},mounted(){let e=t();this.windowHeight=e.windowHeight,this.windowWinth=e.windowWidth,this.selecterQueryInfo()}},[["render",function(e,t,f,h,m,x){const _=p;return f.loading?(l(),s(_,{key:0,style:r({width:m.windowWinth+"px",height:m.windowHeight+"px",backgroundColor:f.bgColor,position:"absolute",left:m.left+"px",top:m.top+"px",zIndex:9998,overflow:"hidden"}),onTouchmove:t[0]||(t[0]=d((()=>{}),["stop","prevent"]))},{default:a((()=>[(l(!0),o(i,null,n(m.RectNodes,((t,a)=>(l(),s(_,{key:e.$u.guid(),class:u([f.animation?"skeleton-fade":""]),style:r({width:t.width+"px",height:t.height+"px",backgroundColor:f.elColor,position:"absolute",left:t.left-m.left+"px",top:t.top-m.top+"px"})},null,8,["class","style"])))),128)),(l(!0),o(i,null,n(m.circleNodes,((t,a)=>(l(),s(_,{key:e.$u.guid(),class:u(f.animation?"skeleton-fade":""),style:r({width:t.width+"px",height:t.height+"px",backgroundColor:f.elColor,borderRadius:t.width/2+"px",position:"absolute",left:t.left-m.left+"px",top:t.top-m.top+"px"})},null,8,["class","style"])))),128)),(l(!0),o(i,null,n(m.filletNodes,((t,a)=>(l(),s(_,{key:e.$u.guid(),class:u(f.animation?"skeleton-fade":""),style:r({width:t.width+"px",height:t.height+"px",backgroundColor:f.elColor,borderRadius:f.borderRadius+"rpx",position:"absolute",left:t.left-m.left+"px",top:t.top-m.top+"px"})},null,8,["class","style"])))),128))])),_:1},8,["style"])):c("",!0)}],["__scopeId","data-v-93c02f26"]]),B=I(f({__name:"tasks_detail",setup(e){const t=h(),{userInfo:n,isLogin:u}=m(t),r=x(!1),d=x({});let f="";_((()=>{u.value||g({url:"/pages/login/login"})}));const I=async e=>{try{g({url:"/uni_modules/uni-im/pages/chat/chat?user_id="+e})}catch(t){}};return y((e=>{f=e.id,(async e=>{r.value=!0,d.value=await W({id:e}),r.value=!1})(f)})),(e,t)=>{const u=p,f=C,h=R,m=j(N("u-parse"),E),x=j(N("u-button"),H),_=j(N("u-skeleton"),z);return l(),o(i,null,[k(u,{class:"news-detail bg-white u-skeleton"},{default:a((()=>[k(u,{class:"news-detail-header py-[20rpx] px-[30rpx]"},{default:a((()=>[k(u,{class:"flex mt-[20rpx] text-xs"},{default:a((()=>[k(u,{class:"mr-[40rpx]"},{default:a((()=>[k(u,{class:"text-3xl font-medium u-skeleton-fillet"},{default:a((()=>[w(b(d.value.project_name),1)])),_:1})])),_:1}),k(u,{class:"text-muted mr-[40rpx] flex-1 u-skeleton-fillet"}),k(u,{class:"flex items-center text-muted flex-none"},{default:a((()=>[k(u,{style:{color:"#47aba8","font-weight":"bold","font-size":"0.9675rem"},class:"flex items-center justify-right text-l ml-[10rpx] project-card-content-title u-skeleton-fillet"},{default:a((()=>[w(b(d.value.salary_range)+"-"+b(d.value.salary_range_end)+"K 14薪 ",1)])),_:1})])),_:1})])),_:1}),k(u,{class:"flex mt-[20rpx] text-xs u-skeleton-fillet"},{default:a((()=>[d.value.author?(l(),s(u,{key:0,class:"mr-[40rpx]"},{default:a((()=>[w("作者: "+b(d.value.author),1)])),_:1})):c("",!0),k(u,{class:"text-muted mr-[40rpx] flex-1"},{default:a((()=>[w(b(d.value.company_name),1)])),_:1}),k(u,{class:"flex items-center text-muted flex-none"},{default:a((()=>[k(f,{src:A,class:"w-[30rpx] h-[30rpx]"}),k(u,{class:"ml-[10rpx]"},{default:a((()=>[w(b(d.value.click),1)])),_:1})])),_:1})])),_:1})])),_:1}),k(u,{class:"news-detail-section bg-white p-[24rpx] u-skeleton-rect"},{default:a((()=>[d.value.abstract?(l(),s(u,{key:0,class:"summary p-[20rpx] text-base"},{default:a((()=>[k(h,{class:"font-medium"},{default:a((()=>[w("摘要: ")])),_:1}),w(" "+b(d.value.abstract),1)])),_:1})):c("",!0),k(u,{class:"mt-[20rpx]",style:{height:"calc(100vh - 243rpx - env(safe-area-inset-bottom))"}},{default:a((()=>[k(m,{html:d.value.task_description},null,8,["html"])])),_:1})])),_:1}),2==v(n).role?(l(),s(u,{key:0,class:"ml-[40rpx] fixed-button"},{default:a((()=>[k(x,{type:"primary",shape:"circle",onClick:t[0]||(t[0]=e=>I(d.value.imid))},{default:a((()=>[w(" 成为招聘顾问 ("+b(d.value.recruitment_settlement_value)+" ",1),1==d.value.recruitment_settlement_type?(l(),s(h,{key:0},{default:a((()=>[w("元/人次")])),_:1})):2==d.value.recruitment_settlement_type?(l(),s(h,{key:1},{default:a((()=>[w("元/班次")])),_:1})):(l(),s(h,{key:2},{default:a((()=>[w("元/工时")])),_:1})),w(" ) ")])),_:1})])),_:1})):c("",!0),3==v(n).role?(l(),s(u,{key:1,class:"ml-[40rpx] fixed-button"},{default:a((()=>[k(x,{type:"primary",shape:"circle",onClick:t[1]||(t[1]=e=>I(d.value.imid))},{default:a((()=>[w(" 成为驻场经理 ("+b(d.value.site_settlement_value)+" 元/人次) ",1)])),_:1})])),_:1})):c("",!0),4!=v(n).role&&v(n).role?c("",!0):(l(),s(u,{key:2,class:"ml-[40rpx] fixed-button"},{default:a((()=>[k(x,{type:"primary",shape:"circle",onClick:t[2]||(t[2]=e=>I(d.value.imid))},{default:a((()=>[w(" 联系招聘顾问 ")])),_:1})])),_:1}))])),_:1}),k(_,{loading:r.value,animation:!0},null,8,["loading"])],64)}}}),[["__scopeId","data-v-04285970"]]);export{B as default};
