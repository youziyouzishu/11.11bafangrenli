import{o as t,c as e,w as a,r as s,n as l,a as i,i as n,g as u,u as o,b as r,d as c,e as d,f,h as p,t as y,j as g,k as h,l as m,s as b,m as k,p as _,q as x,F as v,v as j,x as S,y as w,z as I,A as B,B as z,C}from"./index-40b5c4cd.js";import{_ as N}from"./u-search.31866623.js";import{_ as $}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as A}from"./u-icon.4067ae16.js";import{_ as W}from"./tabbar.vue_vue_type_script_setup_true_lang.45a154e4.js";import{_ as H}from"./project-card.2a03c56a.js";import{_ as T}from"./z-paging.5998ab2b.js";import{g as F,a as J}from"./tasks.322bc1ff.js";import"./u-badge.a768d844.js";import"./util.b50fc651.js";import"./u-avatar.c40c0a13.js";import"./icon_visit.713e13e8.js";const O=$({name:"u-col",emits:["click"],props:{span:{type:[Number,String],default:12},offset:{type:[Number,String],default:0},justify:{type:String,default:"start"},align:{type:String,default:"center"},textAlign:{type:String,default:"left"},stop:{type:Boolean,default:!0}},data:()=>({gutter:20}),created(){this.parent=!1},mounted(){this.parent=this.$u.$parent.call(this,"u-row"),this.parent&&(this.gutter=this.parent.gutter)},computed:{uJustify(){return"end"==this.justify||"start"==this.justify?"flex-"+this.justify:"around"==this.justify||"between"==this.justify?"space-"+this.justify:this.justify},uAlignItem(){return"top"==this.align?"flex-start":"bottom"==this.align?"flex-end":this.align}},methods:{click(t){this.$emit("click",t)}}},[["render",function(u,o,r,c,d,f){const p=n;return t(),e(p,{class:l(["u-col",["u-col-"+r.span]]),style:i({padding:"0 "+(Number(d.gutter)/2+"rpx"),marginLeft:100/12*r.offset+"%",flex:`0 0 ${100/12*r.span}%`,alignItems:f.uAlignItem,justifyContent:f.uJustify,textAlign:r.textAlign}),onClick:f.click},{default:a((()=>[s(u.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onClick"])}],["__scopeId","data-v-d0c7a324"]]);const V=$({name:"u-row",emits:["click"],props:{gutter:{type:[String,Number],default:20},justify:{type:String,default:"start"},align:{type:String,default:"center"},stop:{type:Boolean,default:!0}},computed:{uJustify(){return"end"==this.justify||"start"==this.justify?"flex-"+this.justify:"around"==this.justify||"between"==this.justify?"space-"+this.justify:this.justify},uAlignItem(){return"top"==this.align?"flex-start":"bottom"==this.align?"flex-end":this.align}},methods:{click(t){this.$emit("click",t)}}},[["render",function(l,u,o,r,c,d){const f=n;return t(),e(f,{class:"u-row",style:i({alignItems:d.uAlignItem,justifyContent:d.uJustify}),onClick:d.click},{default:a((()=>[s(l.$slots,"default",{},void 0,!0)])),_:3},8,["style","onClick"])}],["__scopeId","data-v-4e5c4f2a"]]);let L=u(),Q={};const U=$({name:"u-navbar",props:{height:{type:[String,Number],default:""},backIconColor:{type:String,default:"#606266"},backIconName:{type:String,default:"nav-back"},backIconSize:{type:[String,Number],default:"44"},backText:{type:String,default:""},backTextStyle:{type:Object,default:()=>({color:"#606266"})},title:{type:String,default:""},titleWidth:{type:[String,Number],default:"250"},titleColor:{type:String,default:"#606266"},titleBold:{type:Boolean,default:!1},titleSize:{type:[String,Number],default:32},isBack:{type:[Boolean,String],default:!0},background:{type:Object,default:()=>({background:"#ffffff"})},isFixed:{type:Boolean,default:!0},immersive:{type:Boolean,default:!1},borderBottom:{type:Boolean,default:!0},zIndex:{type:[String,Number],default:""},customBack:{type:Function,default:null}},data:()=>({menuButtonInfo:Q,statusBarHeight:L.statusBarHeight}),computed:{navbarInnerStyle(){let t={};return t.height=this.navbarHeight+"px",t},navbarStyle(){let t={};return t.zIndex=this.zIndex?this.zIndex:this.$u.zIndex.navbar,Object.assign(t,this.background),t},titleStyle(){let t={};return t.left=(L.windowWidth-o(this.titleWidth))/2+"px",t.right=(L.windowWidth-o(this.titleWidth))/2+"px",t.width=o(this.titleWidth)+"px",t},navbarHeight(){return this.height?this.height:44}},created(){},methods:{goBack(){"function"==typeof this.customBack?this.customBack.bind(this.$u.$parent.call(this))():r()}}},[["render",function(u,o,r,h,m,b){const k=n,_=c(d("u-icon"),A);return t(),e(k,{class:""},{default:a((()=>[f(k,{class:l(["u-navbar",{"u-navbar-fixed":r.isFixed,"u-border-bottom":r.borderBottom}]),style:i([b.navbarStyle])},{default:a((()=>[f(k,{class:"u-status-bar",style:i({height:m.statusBarHeight+"px"})},null,8,["style"]),f(k,{class:"u-navbar-inner",style:i([b.navbarInnerStyle])},{default:a((()=>[r.isBack?(t(),e(k,{key:0,class:"u-back-wrap",onClick:b.goBack},{default:a((()=>[f(k,{class:"u-icon-wrap"},{default:a((()=>[f(_,{name:r.backIconName,color:r.backIconColor,size:r.backIconSize},null,8,["name","color","size"])])),_:1}),r.backText?(t(),e(k,{key:0,class:"u-icon-wrap u-back-text u-line-1",style:i([r.backTextStyle])},{default:a((()=>[p(y(r.backText),1)])),_:1},8,["style"])):g("",!0)])),_:1},8,["onClick"])):g("",!0),r.title?(t(),e(k,{key:1,class:"u-navbar-content-title",style:i([b.titleStyle])},{default:a((()=>[f(k,{class:"u-title u-line-1",style:i({color:r.titleColor,fontSize:r.titleSize+"rpx",fontWeight:r.titleBold?"bold":"normal"})},{default:a((()=>[p(y(r.title),1)])),_:1},8,["style"])])),_:1},8,["style"])):g("",!0),f(k,{class:"u-slot-content"},{default:a((()=>[s(u.$slots,"default",{},void 0,!0)])),_:3}),f(k,{class:"u-slot-right"},{default:a((()=>[s(u.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["style","class"]),r.isFixed&&!r.immersive?(t(),e(k,{key:0,class:"u-navbar-placeholder",style:i({width:"100%",height:Number(b.navbarHeight)+m.statusBarHeight+"px"})},null,8,["style"])):g("",!0)])),_:3})}],["__scopeId","data-v-1522d8f8"]]),q=h({__name:"tasks-list",props:{cid:{default:1},i:null,index:{default:0},tag:null},setup(s){const l=s,{dictData:i}=m("education,experience,welfare,work_type,work_time"),u=b(null),o=k([]);k(!0);const r=async(t,e)=>{try{const{lists:a}=await F({cid:l.cid,page_no:t,page_size:e});u.value.complete(a)}catch(a){console.log("报错=>",a),u.value.complete(!1)}};return(l,p)=>{const y=c(d("project-card"),H),g=n,h=c(d("z-paging"),T);return t(),e(h,{"auto-show-back-to-top":"",auto:s.i==s.index,ref_key:"paging",ref:u,modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=t=>o.value=t),"data-key":s.i,onQuery:r,fixed:!1,height:"100%"},{default:a((()=>[f(g,{class:"u-skeleton"},{default:a((()=>[(t(!0),_(v,null,x(o.value,((a,s)=>(t(),e(y,{key:s,item:a,tag:j(i),newsId:a.id},null,8,["item","tag","newsId"])))),128))])),_:1})])),_:1},8,["auto","modelValue","data-key"])}}}),D=$(h({__name:"index",setup(e){const s=S(),{userInfo:l,isLogin:i}=w(s);I((()=>{i.value||B({url:"/pages/login/login"})}));const u=k([]),o=k(0),r=k("");return z((t=>{(async()=>{const t=await J();u.value=[{name:"全部",id:""}].concat(t)})()})),(e,s)=>{const l=c(d("u-search"),N),i=C,u=c(d("u-col"),O),p=c(d("u-row"),V),y=n,g=c(d("u-navbar"),U),h=c(d("tabbar"),W);return t(),_(v,null,[f(g,{"is-back":!1,title:""},{default:a((()=>[f(y,{class:"flex flex-col justify-between flex-1",slot:"center"},{default:a((()=>[f(p,null,{default:a((()=>[f(u,{span:"12"},{default:a((()=>[f(i,{class:"ml-[10rpx]",url:"/pages/tasks/search"},{default:a((()=>[f(l,{placeholder:"请输入关键词搜索","show-action":!1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),f(y,{class:"news"},{default:a((()=>[f(y,{class:"tasks-list"},{default:a((()=>[f(q,{cid:r.value,i:0,index:o.value},null,8,["cid","index"])])),_:1}),f(h)])),_:1})],64)}}}),[["__scopeId","data-v-41aa7823"]]);export{D as default};
